/*!
 * ipmDraw
 * version: 1.0.0
 */
!function(){"use strict";window.IPM_CFG=window.IPM_CFG||{id:"ipm",brandFill:"ipm Draw",fixSize:!1,width:580,height:500,edge:0,toolSize:32,toolEnable:!0,toolbar:[35,35,35,35],tools:[["selects","charge","color","clear","import","export","undo","redo","cut","copy","paste","zoom","setting","copyright"],["H","C","N","O","F","Cl","Br","P","S","X","Star","Q","A","periodicTable"],[],["erase","singleBond","bond","foldLine","linkLine1","linkLine2","ring5","ring6","benzeneRing","cyclopentadiene","ring","temp","text","arrowSynthetic"]],toolSet:{selects:["dropdown",0,0,"rectSelect","lassoSelect"],zoom:["dropdown",0,0,"zoomin","zoomout","center"],bond:["dropdown",150,0,"doubleBond","threeBond","singleOrDoubleBond","singleOrAromaticBond","doubleOrAromaticBond","anyBond","aromaticBond","ringBond","chainBond","crossLine"],ring:["dropdown",0,0,"ring3","ring4","ring7","ring8","ringN"],charge:["dropdown",0,0,"plusSymbol","subSymbol"],arrowSet:["dropdown",150,0,"arrowSynthetic","arrowEquilibrium","arrowResonance","arrowRetrosynthetic","solidArc","dotArc","bezier1","bezier2","bezierBond"]},tipError:!0}}();var ipmd=function(){"use strict";var a={};return a.startAtomOffset=-1e5,a.themeName="gray",a.lang="en",a.key="kipmd",a.license="undefined",a.websiteTemplate="http://ddzandroiddev.mmcy808.com:8888/ueditor/third-party/ipmd/template/",a.version="1.0.0",a.THEME={},a.I18N={},a.IMG_T={},a.ext={},a.actor={},a.actor.d2={},a.actor.d3={},a.userCfg={autoSaveInv:0},a}(),REG_HEX=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,REG_WS=/\s+/g,REG_WS_BRK=/\(|\)|\s+/g,REG_WS_QUT=/\'|\s+/g,REG_WS_CMA=/[ ,]+/,REG_WS_QUT_CMA=/,|\'|\s+/g,REG_LWS=/^\s+/,REG_DIG=/[0-9]/g,REG_DIG_SYB=/[0-9]|\+|\-/g,REG_CMA_DASH=/\-+/,COLOR={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ELEMENT=[["H","Hydrogen",1,1,1,.31,1.2,!1],["He","Helium",2,4,0,.28,1.4,!1],["Li","Lithium",3,7,1,1.28,1.82,!1],["Be","Beryllium",4,9,2,.96,0,!1],["B","Boron",5,11,3,.84,0,!1],["C","Carbon",6,12,4,.76,1.7,!1],["N","Nitrogen",7,14,5,.71,1.55,!0],["O","Oxygen",8,16,2,.66,1.52,!0],["F","Fluorine",9,19,1,.57,1.47,!0],["Ne","Neon",10,20,0,.58,1.54,!1],["Na","Sodium",11,23,7,1.66,2.27,!1],["Mg","Magnesium",12,24,2,1.41,1.73,!1],["Al","Aluminum",13,27,0,1.21,0,!1],["Si","Silicon",14,28,4,1.11,2.1,!1],["P","Phosphorus",15,31,5,1.07,1.8,!1],["S","Sulfur",16,32,6,1.05,1.8,!0],["Cl","Chlorine",17,35,1,1.02,1.75,!0],["Ar","Argon",18,40,0,1.06,1.88,!1],["K","Potassium",19,39,1,2.03,2.75,!1],["Ca","Calcium",20,40,7,1.76,0,!1],["Sc","Scandium",21,45,0,1.7,0,!1],["Ti","Titanium",22,48,1,1.6,0,!1],["V","Vanadium",23,51,1,1.53,0,!1],["Cr","Chromium",24,52,2,1.39,0,!1],["Mn","Manganese",25,55,3,1.39,0,!1],["Fe","Iron",26,56,2,1.32,0,!1],["Co","Cobalt",27,59,1,1.26,0,!1],["Ni","Nickel",28,58,1,1.24,1.63,!1],["Cu","Copper",29,63,0,1.32,1.4,!1],["Zn","Zinc",30,64,0,1.22,1.39,!1],["Ga","Gallium",31,69,0,1.22,1.87,!1],["Ge","Germanium",32,74,4,1.2,0,!1],["As","Arsenic",33,75,3,1.19,1.85,!1],["Se","Selenium",34,80,2,1.2,1.9,!1],["Br","Bromine",35,79,1,1.2,1.85,!0],["Kr","Krypton",36,84,0,1.16,2.02,!1],["Rb","Rubidium",37,85,0,2.2,0,!1],["Sr","Strontium",38,88,0,1.95,0,!1],["Y","Yttrium",39,89,0,1.9,0,!1],["Zr","Zirconium",40,90,0,1.75,0,!1],["Nb","Niobium",41,93,1,1.64,0,!1],["Mo","Molybdenum",42,98,2,1.54,0,!1],["Tc","Technetium",43,0,3,1.47,0,!1],["Ru","Ruthenium",44,102,2,1.46,0,!1],["Rh","Rhodium",45,103,1,1.42,0,!1],["Pd","Palladium",46,106,0,1.39,1.63,!1],["Ag","Silver",47,107,7,1.45,1.72,!1],["Cd","Cadmium",48,114,0,1.44,1.58,!1],["In","Indium",49,115,0,1.42,1.93,!1],["Sn","Tin",50,120,4,1.39,2.17,!1],["Sb","Antimony",51,121,3,1.39,0,!1],["Te","Tellurium",52,130,2,1.38,2.06,!1],["I","Iodine",53,127,1,1.39,1.98,!0],["Xe","Xenon",54,132,0,1.4,2.16,!1],["Cs","Cesium",55,133,0,2.44,0,!1],["Ba","Barium",56,138,0,2.15,0,!1],["La","Lanthanum",57,139,0,2.07,0,!1],["Ce","Cerium",58,140,0,2.04,0,!1],["Pr","Praseodymium",59,141,0,2.03,0,!1],["Nd","Neodymium",60,142,0,2.01,0,!1],["Pm","Promethium",61,0,0,1.99,0,!1],["Sm","Samarium",62,152,0,1.98,0,!1],["Eu","Europium",63,153,0,1.98,0,!1],["Gd","Gadolinium",64,158,0,1.96,0,!1],["Tb","Terbium",65,159,0,1.94,0,!1],["Dy","Dysprosium",66,164,0,1.92,0,!1],["Ho","Holmium",67,165,0,1.92,0,!1],["Er","Erbium",68,166,0,1.89,0,!1],["Tm","Thulium",69,169,0,1.9,0,!1],["Yb","Ytterbium",70,174,0,1.87,0,!1],["Lu","Lutetium",71,175,0,1.87,0,!1],["Hf","Hafnium",72,180,0,1.75,0,!1],["Ta","Tantalum",73,181,1,1.7,0,!1],["W","Tungsten",74,184,2,1.62,0,!1],["Re","Rhenium",75,187,3,1.51,0,!1],["Os","Osmium",76,192,2,1.44,0,!1],["Ir","Iridium",77,193,3,1.41,0,!1],["Pt","Platinum",78,195,0,1.36,1.75,!1],["Au","Gold",79,197,1,1.36,1.66,!1],["Hg","Mercury",80,202,0,1.32,1.55,!1],["Tl","Thallium",81,205,0,1.45,1.96,!1],["Pb","Lead",82,208,4,1.46,2.02,!1],["Bi","Bismuth",83,209,3,1.48,0,!1],["Po","Polonium",84,0,2,1.4,0,!1],["At","Astatine",85,0,1,1.5,0,!1],["Rn","Radon",86,0,0,1.5,0,!1],["Fr","Francium",87,0,0,2.6,0,!1],["Ra","Radium",88,0,0,2.21,0,!1],["Ac","Actinium",89,0,0,2.15,0,!1],["Th","Thorium",90,232,0,2.06,0,!1],["Pa","Protactinium",91,231,0,2,0,!1],["U","Uranium",92,238,0,1.96,1.86,!1],["Np","Neptunium",93,0,0,1.9,0,!1],["Pu","Plutonium",94,0,0,1.87,0,!1],["Am","Americium",95,0,0,1.8,0,!1],["Cm","Curium",96,0,0,1.69,0,!1],["Bk","Berkelium",97,0,0,0,0,!1],["Cf","Californium",98,0,0,0,0,!1],["Es","Einsteinium",99,0,0,0,0,!1],["Fm","Fermium",100,0,0,0,0,!1],["Md","Mendelevium",101,0,0,0,0,!1],["No","Nobelium",102,0,0,0,0,!1],["Lr","Lawrencium",103,0,0,0,0,!1],["Rf","Rutherfordium",104,0,0,0,0,!1],["Db","Dubnium",105,0,0,0,0,!1],["Sg","Seaborgium",106,0,0,0,0,!1],["Bh","Bohrium",107,0,0,0,0,!1],["Hs","Hassium",108,0,0,0,0,!1],["Mt","Meitnerium",109,0,0,0,0,!1],["Ds","Darmstadtium",110,0,0,0,0,!1],["Rg","Roentgenium",111,0,0,0,0,!1],["Cn","Copernicium",112,0,0,0,0,!1],["Nh","Nihonium",113,0,0,0,0,!1],["Fl","Flerovium",114,0,0,0,0,!1],["Mc","Moscovium",115,0,0,0,0,!1],["Lv","Livermorium",116,0,0,0,0,!1],["Ts","Tennessine",117,0,0,0,0,!1],["Og","Oganesson",118,0,0,0,0,!1],["X","Unknown",119,0,1,0,0,!1],["A","Any",120,0,999,0,0,!1],["Q","Question",121,0,999,0,0,!1],["Star","Star",122,0,999,0,0,!1]],AMEND={N:["N","Nitrogen",7,14,3,.71,1.55,!0],S:["S","Sulfur",16,32,2,1.05,1.8,!0]},RESIDUE=[["Ala","Alanine",0,!1],["Arg","Arginine",1,!0],["Asn","Asparagine",0,!0],["Asp","Aspartic Acid",-1,!0],["Cys","Cysteine",0,!0],["Gln","Glutamine",0,!0],["Glu","Glutamic Acid",-1,!0],["Gly","Glycine",0,!1],["His","Histidine",1,!0],["Ile","Isoleucine",0,!1],["Leu","Leucine",0,!1],["Lys","Lysine",1,!0],["Met","Methionine",0,!1],["Phe","Phenylalanine",0,!1],["Pro","Proline",0,!1],["Ser","Serine",0,!0],["Thr","Threonine",0,!0],["Trp","Tryptophan",0,!0],["Tyr","Tyrosine",0,!0],["Val","Valine",0,!1],["Asx","Asparagine/Aspartic Acid",0,!0],["Glx","Glutamine/Glutamic Acid",0,!0],["*","Other",0,!1],["A","Adenine",0,!1],["G","Guanine",0,!1],["I","",0,!1],["C","Cytosine",0,!1],["T","Thymine",0,!1],["U","Uracil",0,!1]],EVENT={bezier:"eBezier",charge:"eCharge",erase:"eErase",genBond:"eGenBond",genRing:"eGenRing",label:"eLabel",lasso:"eLasso",move:"eMove",shape:"eShape",view:"eView",color:"eColor"},STEREO={none:"none",protrude:"protrude",protruding:"protruding",recessed:"recessed",ambiguous:"ambiguous"},DOT_STYLE={solid:"solid",trans:"transparent",grd:"gradient"},ACTOR_MODEL={structure:0,primitive:1},ARROW_TYPE={none:"none",synthetic:"synthetic",retrosynthetic:"retrosynthetic",resonance:"resonance",equilibrium:"equilibrium",combine:"combine",arc:"arc",dotarc:"dotarc",text:"text"},LASSO_MODE={lasso:"lasso",shapes:"shapes",rect:"rect"},TRANS_TYPE={none:0,translate:1,rotate:2,scale:3},LS_TYPE={permeator:"ball and stick",sphere:"sphere",stick:"stick",line:"line"},M_ExpList=["IPM","MOL","RXN","PNG","JPG","TIF"],M_ImpList=["IPM","MOL","RXN"];ipmd.I18N.en={app:"ipmd",minimize:"Minimize",maximize:"Maximize",close:"Close",brand:"Brand",clear:"Delete",erase:"Eraser","import":"Import","export":"Export",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",zoom:"Zoom",zoomin:"Zoom in",zoomout:"Zoom out",center:"Zoom all",fullscreen:"Fullscreen",color:"Color",theme:"Skin",language:"Language",draft:"Draft",help:"Help",setting:"View settings",copyright:"Copyright",move:"Move",select:"Select",selects:"Select",rectSelect:"Select",lassoSelect:"Lasso select tool",arc:"Arc",solidArc:"Solid arc",dotArc:"Dot arc",plusSymbol:"Increase charge",subSymbol:"Decrease charge",text:"Text",arrowSet:"Arrow",arrowSynthetic:"Arrow",temp:"Template",a3d:"Preview",bond:"Bond",singleBond:"Single",doubleBond:"Double",threeBond:"Triple",singleOrDoubleBond:"Single or Double",singleOrAromaticBond:"Single or Aromatic",doubleOrAromaticBond:"Double or Aromatic",anyBond:"Any",aromaticBond:"Aromatic",ringBond:"Ring bond",chainBond:"Chain bond",crossLine:"Double cis or trans",foldLine:"Chain",linkLine1:"Up",linkLine2:"Down",ring:"Ring",ring3:"Cyclopropane",ring4:"Cyclobutane",ring5:"Cyclopentane",ring6:"Cyclohexane",ring7:"Cycloheptane",ring8:"Cyclooctane",ringN:"Ring",benzeneRing:"Benzene",cyclopentadiene:"Cyclopentadiene",charge:"Charge",majorElement:"Major",fuzzyElement:"Fuzzy",periodicTable:"Periodic Table",H:"Hydrogen",He:"Helium",Li:"Lithium",Be:"Beryllium",B:"Boron",C:"Carbon",N:"Nitrogen",O:"Oxygen",F:"Fluorine",Ne:"Neon",Na:"Sodium",Mg:"Magnesium",Al:"Aluminum",Si:"Silicon",P:"Phosphorus",S:"Sulfur",Cl:"Chlorine",Ar:"Argon",K:"Potassium",Ca:"Calcium",Sc:"Scandium",Ti:"Titanium",V:"Vanadium",Cr:"Chromium",Mn:"Manganese",Fe:"Iron",Co:"Cobalt",Ni:"Nickel",Cu:"Copper",Zn:"Zinc",Ga:"Gallium",Ge:"Germanium",As:"Arsenic",Se:"Selenium",Br:"Bromine",Kr:"Krypton",Rb:"Rubidium",Sr:"Strontium",Y:"Yttrium",Zr:"Zirconium",Nb:"Niobium",Mo:"Molybdenum",Tc:"Technetium",Ru:"Ruthenium",Rh:"Rhodium",Pd:"Palladium",Ag:"Silver",Cd:"Cadmium",In:"Indium",Sn:"Tin",Sb:"Antimony",Te:"Tellurium",I:"Iodine",Xe:"Xenon",Cs:"Cesium",Ba:"Barium",La:"Lanthanum",Ce:"Cerium",Pr:"Praseodymium",Nd:"Neodymium",Pm:"Promethium",Sm:"Samarium",Eu:"Europium",Gd:"Gadolinium",Tb:"Terbium",Dy:"Dysprosium",Ho:"Holmium",Er:"Erbium",Tm:"Thulium",Yb:"Ytterbium",Lu:"Lutetium",Hf:"Hafnium",Ta:"Tantalum",W:"Tungsten",Re:"Rhenium",Os:"Osmium",Ir:"Iridium",Pt:"Platinum",Au:"Gold",Hg:"Mercury",Tl:"Thallium",Pb:"Lead",Bi:"Bismuth",Po:"Polonium",At:"Astatine",Rn:"Radon",Fr:"Francium",Ra:"Radium",Ac:"Actinium",Th:"Thorium",Pa:"Protactinium",U:"Uranium",Np:"Neptunium",Pu:"Plutonium",Am:"Americium",Cm:"Curium",Bk:"Berkelium",Cf:"Californium",Es:"Einsteinium",Fm:"Fermium",Md:"Mendelevium",No:"Nobelium",Lr:"Lawrencium",Rf:"Rutherfordium",Db:"Dubnium",Sg:"Seaborgium",Bh:"Bohrium",Hs:"Hassium",Mt:"Meitnerium",Ds:"Darmstadtium",Rg:"Roentgenium",Cn:"Copernicium",Nh:"Nihonium",Fl:"Flerovium",Mc:"Moscovium",Lv:"Livermorium",Ts:"Tennessine",Og:"Oganesson","La~Lu":"Lanthanide series","Ac~Lr":"Actinium series",X:"Halogen","*":"Any atom",Star:"Any atom",Q:"Hetero atom",A:"Heavy atom",songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman",bold:"Bold",italic:"Italic",underline:"Underline",highlight:"Highlight",superscript:"Superscript",subscript:"Subscript",fontfamily:"Font",fontsize:"Size",fontcolor:"Color",connError:"Failed to connect server",filesizeError:"The file size exceeds the limit",fileformatError:"File format is not supported",encodeError:"The server returns formatting errors",loadError:"Upload HTTP Error",callbackError:"ISERROR",captureError:"Screenshot of error",configError:"Configuration load error",pluginError:"For lack of required plug-ins, go to download",compatibleError:"Incompatibility",contentNull:"Content Empty",parseError:"Content Illegal",atomError:"Atom Undefined",welcome:"WELCOME",loading:"LOADING...",elementPathTip:"PATH",ok:"OK",cancel:"Cancel",closeDialog:"Close",confirmClear:"Do you want to clear?",autosave:"AUTOSAVE",saving:"SAVING...",success:"Done success",titleTip:"Message",titleExport:"Export",titleImport:"Import",titleDraft:"Draft",titleTheme:"Skin",titlePTable:"Periodic Table",titleCopyright:"Copyright",titleInput:"Input",titleTemplate:"Template",titleAtomProp:"Atom properties",titleBondProp:"Bond properties",titlePrevImport:"Preview",titleSetting:"View settings",inputBtnTitle:"DONE",importTopMsg:"Select import file",importSelectTip:"Select import file",importBtnTitle:"OK",importTAHold:"Read the content of the file or edit the content directly",previmportSelectTip:"Select preview file [MOL]",exportTopMsg:"Select the export file type",exportBtnTitle:"OK",expTitleMolAll:"All",expTitleMolMax:"Only Max Fragment",export_IPM:"IPM Format (.ipm)",export_MOL:"MOL Format (.mol)",export_CML:"CML Format (.cml)",export_CIF:"CIF Format (.cif)",export_PDB:"PDB Format (.pdb)",export_RXN:"RXN Format (.rxn)",export_XYZ:"XYZ Format (.xyz)",export_JDX:"JDX Format (.jdx)",export_ICL:"ICL Format (.icl)",export_PNG:"PNG Format (.png)",export_JPG:"JPG Format (.jpg)",export_TIF:"TIF Format (.tif)",themeTopMsg:"Select the appropriate subject",themeBtnTitle:"OK",theme_gray:"Simple gray",theme_black:"Simple black",templateTopMsg:"Select a template",propBtnTitle:"OK",atomType:"Type",atomBasic:"Basic",atomAdvance:"Advance",ap_element:"Element",ap_query:"Query",ap_rgroup:"R-group",ap_notl:"List/NOT list",ap_pseudo:"Pseudo",ap_hgroup:"Homology Group",ap_abbreviation:"Abbreviation",ap_atom:"Atom",ap_alias:"Alias",ap_isotope:"Isotope",ap_charge:"Charge",ap_radical:"Radical",ap_stereo:"Stereo",ap_totalH:"Total H (H)",ap_implH:"Implicit H (h)",ap_bOrder:"Bond orders (v)",ap_conn:"Connections (X)",ap_rCount:"Ring count (R)",ap_rSize:"Smallest ring size (r)",ap_rBond:"Ring bond (rb)",ap_subs:"Substitutions (s)",ap_unsat:"Unsaturated (u)",ap_armt:"Aromaticity (a/A)",bondType:"Type",bondTopo:"Topology",bondThick:"Thickness",bp_single:"Single",bp_double:"Double",bp_triple:"Triple",bp_aromatic:"Aromatic",bp_up:"up",bp_down:"down",bp_singleUpDown:"single up or down",bp_doubleCisTrans:"double cis or trans",bp_doubleCisTransUnspec:"double cis or trans or unspec",bp_singleDouble:"Single or Double",bp_singleAromatic:"Single or Aromatic",bp_doubleAromatic:"Double or Aromatic",bp_any:"Any",bp_coordinate:"coordinate",bp_undefined:"undefined",bp_ring:"Ring bond",bp_chain:"Chain bond",rm_prop:"Properties",rm_undo:"Undo",rm_redo:"Redo",rm_cut:"Cut",rm_copy:"Copy",rm_paste:"Paste",rm_selectAll:"Select all",rm_erase:"Delete",rm_clear:"Delete all",settingTopMsg:"Select the object to display",settingTitleIdx:"Index atoms",settingTitleC:"Show carbon labels",settingBtnTitle:"OK",delNHTitle:"Functions",delNHBtnTitle:"Delete Nonpolar Hydrogens",version:"1.0.0"},ipmd.IMG_T.gray={A:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM3MURBQTlBNTcwQzExRTdCOTFDQjE1QjQ3Q0E4RTMwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM3MURBQTlCNTcwQzExRTdCOTFDQjE1QjQ3Q0E4RTMwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzcxREFBOTg1NzBDMTFFN0I5MUNCMTVCNDdDQThFMzAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzcxREFBOTk1NzBDMTFFN0I5MUNCMTVCNDdDQThFMzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6gNlZsAAAAmElEQVR42mL8//8/AwzExMR0AKlyIL63ZMkSZQYkwMSACkKhtBJQkxJWhVAJEJ4FFUrDZSJMAqTwHpLpGApBEu+BbjsLpM9CrTdGUQgVAFm7Byq+Gs3NcBNDkRUATcVQyAgKHqCJd6EmYgMmIOewIFsLFHBFCgWQ52ZCTT3LhGT8LGRjgJpmIVvPhOTb1Vis3QP1vQtAgAEAPzU08/IKg9cAAAAASUVORK5CYII=",anyBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFRUU5QTE1NTcwRTExRTc5QUYyODBERDM4NjcyQjkxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFRUU5QTE2NTcwRTExRTc5QUYyODBERDM4NjcyQjkxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0VFRTlBMTM1NzBFMTFFNzlBRjI4MEREMzg2NzJCOTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0VFRTlBMTQ1NzBFMTFFNzlBRjI4MEREMzg2NzJCOTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5cEAH0AAAAzUlEQVR42qyUywrCMBBFbelnWR9UdO8LbRRc+1tGcFHdW5X6+DFvYAKhaJqkEzgwJOEw4SaJhBAdpjEBu4RJNgYHMEuYZEcwBZ+YQSa1TE0EC6WUihLlXMvaCEdG/TYXooCUM3Cizl71xZhT5isckmzxT+YspAAqlEvwtO11EQ6Mumra3BRKHxRgBR4up7F12POV2YRKdgZrH9lPIQWgLmsO7r6XtC5MjfoW8oTMUFI65gaUoW9cd9jlkGmhkl3Atq1MC/cku3J83V8BBgBKzTHR/vnnWgAAAABJRU5ErkJggg==",aromaticBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFODU1QTVGNTcwRTExRTc5QTA0ODBDQTY0N0UxNzgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFODU1QTYwNTcwRTExRTc5QTA0ODBDQTY0N0UxNzgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0U4NTVBNUQ1NzBFMTFFNzlBMDQ4MENBNjQ3RTE3ODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0U4NTVBNUU1NzBFMTFFNzlBMDQ4MENBNjQ3RTE3ODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4OF6HPAAABPUlEQVR42qyV207CQBCGtelLqXgAAqg3KiinFtBbn0qxJCCCemM5qPGEvJb/JLPJZFNhWXaTLztt2i+zM9vtZhAEG47GMaiDkC58R9IjcANO1A3PkfQWnII5SIO271D6Cw7APahYZxxFEREL6T7ogyp4txUfilhJH1j6Zts8krbDMDzDPAN7LK0pqU3zCiQFUjrgbfYqH/QspEUtU5JO9Yd900ZhjLH8EuYfsMuZBklS04zzItalk/9e8g2kd8j0HPM3SLG0sUi6TJyjKoCSkD7yWTBetkxvgbSjSYem0kQxf1HUELX8HZY2TaVJ4qyIv1j6xNLRKhte1jgDutyoT7DNNW2sKpUZ01HX4+UrKWXaspEqcZqPuosEaWx7+pH4CpTBB9hyIVU1bnJM0mdwua5U3xXXLH1x8RP8E2AA5OBXcqTH1qQAAAAASUVORK5CYII=",arrowSynthetic:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAKCAYAAABblxXYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY3RUM3MDJGNUExQTExRTdCQzc5REI5REMyRTA5QzlFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY3RUM3MDMwNUExQTExRTdCQzc5REI5REMyRTA5QzlFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjdFQzcwMkQ1QTFBMTFFN0JDNzlEQjlEQzJFMDlDOUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjdFQzcwMkU1QTFBMTFFN0JDNzlEQjlEQzJFMDlDOUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5U17OzAAAAqUlEQVR42mKMjo5mIAJMBOKzQLwKiH8QUszEQBw4AMQLgfgxEHcCsSI1DN0IxHeAWASIy6DszUDsic0MYg39B8TdaPp8gHgbEN8C4hIgFoJJMgLD9D8DdcB3IF4BxNOYGKgHGGGYCZlDAJfiMOw+NJxlgDgRiE+zEOkKkLpctDDeAcRTofQ/dMXEgCAglgPit0A8H4inA/E9fC4gBtgAcRI0Ir4TUgwQYACdEiB6yIwyKQAAAABJRU5ErkJggg==",benzeneRing:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAVCAYAAABLy77vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk3QzFGN0IwNTcwRDExRTdCQUY1RkM2M0JCNzIyQTlFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk3QzFGN0IxNTcwRDExRTdCQUY1RkM2M0JCNzIyQTlFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTdDMUY3QUU1NzBEMTFFN0JBRjVGQzYzQkI3MjJBOUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTdDMUY3QUY1NzBEMTFFN0JBRjVGQzYzQkI3MjJBOUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Sp5bKAAABq0lEQVR42uyUTShEURTH3xujLOwkbGQhZBibWUi2rOw0G0PJgjIosZVESE2K1fhMyZaykIWyM5gNigYLRTErpbH1/I7Oq2fMGzPZOvXr3nfuuf/78e45ZigUMrJYNSxAIYzCvVugx8VfDDMQgzgcwynM61hmIcuyvsBM6IIEVEIj/lmI0G+AUh3rkVjHPMNrK5qmGaBZVrFOAmKOBcN8y/gkcau0izBIfwT/ub2jChzrtHsgQS1pImJb8CDHZKwD2jV2V+eWi9A1vEIdARvwkeEKUjAFTbIw3BJXJEfXuTcmfw2fJcfphxUjN6uHiF5NG7uynEKW3k8+VgZJEfIYf7Pkb+8ob/sXyvrXfggN5CEg7+gAtp1CKd7BHOzkICCveg2OYJ85QZAqkRKhGt1iAmc3mC5lZQIu4AVqCZPUuIIq0ZAn/szL7mOgWbM6TH8YX9wh1KtFLsBYCe2hpkdQElzWLvD7/XbwE45NWknaKH0fSDF7hzP6JzCtO5M8G0LkUUvQ978mmS8VQC9Ttn5J0JggffX5MlUJr62YZm8wLjuDJfW1wp1LvPEpwAD50KFRjUZX+gAAAABJRU5ErkJggg==",Br:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5MTUzMzlGNkE4RjExRTc4RUQ3Q0E0RjBENTdFQUY2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5MTUzM0EwNkE4RjExRTc4RUQ3Q0E0RjBENTdFQUY2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzkxNTMzOUQ2QThGMTFFNzhFRDdDQTRGMEQ1N0VBRjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzkxNTMzOUU2QThGMTFFNzhFRDdDQTRGMEQ1N0VBRjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4heWoIAAAAnElEQVR42mLMMDa+y8DAoMSACu4BcQUQr2YgAJiQ2IxQrAzE74F4FRC7kGIAuu0gEIokngbE/4G4HIjvQtlpTDgMFkQyDB10APEeIHYFeZEFiwJjqCKQN2ZhkQdpTodxkA34j6awE2oIOlhNKBAZoTaA/HqGnEBkgDp9FtQ7SuQYgByQeAELDo1p0CjcgyMmGAgFIiwG0gm5ACDAAC9kHf/UYMpdAAAAAElFTkSuQmCC",C:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNCOTgyOUVCNTcwQzExRTc4NzgyODQ2MjlFNjVDQThEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNCOTgyOUVDNTcwQzExRTc4NzgyODQ2MjlFNjVDQThEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0I5ODI5RTk1NzBDMTFFNzg3ODI4NDYyOUU2NUNBOEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0I5ODI5RUE1NzBDMTFFNzg3ODI4NDYyOUU2NUNBOEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6jUDSsAAAAdklEQVR42mL4//8/AwgzMjAIAvEqIH4HxP+hNIgvCFOghCTZAeV3QPm7YYruQgVcYCbDTAfRIIYLTAeyAmTMxMDAYMwAAXsYcACQIiUo+z0+RfegbEF8is5C2S64FBHyHSgojGEcFyzhVA4Vu4uuaze2EAcIMACXm1x0A8bA1wAAAABJRU5ErkJggg==",center:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY4RkZBMzI4NTcwRjExRTdCN0VBREE0RTZCREQ0NDI3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY4RkZBMzI5NTcwRjExRTdCN0VBREE0RTZCREQ0NDI3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjhGRkEzMjY1NzBGMTFFN0I3RUFEQTRFNkJERDQ0MjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjhGRkEzMjc1NzBGMTFFN0I3RUFEQTRFNkJERDQ0MjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6NO3LxAAACkUlEQVR42qSTO2iTURTHb758eZLEIQqCg4Miio9FalBxkoIRaXE0iOiSguimqF1qFW1FxU2dBIfiZoqgiFIHHcRaRcXFRZcaVEghr+ad+PvHfPLxdRIv/LnnnnvO/zzuub50Om3cq9frGb/fb5LJpGm1WsFAIHAe9bF2u73B5/MZy7K+c/+A81QwGFzK5/OmUqkYq9vtGi86nY72fbZtVyGbxKkIyXWCXEP/rdFonEEugFHuTLPZNHY4HF6REQS7EF8iL5DBkDJRACdbOSM/JMhsPB4/HI1GZ+1IJGK8i3LmcJxHPADGcILPuofcQH+CQFHkLPo6RDlKjNmK4l5EzGIcK5fLKSKN4HRXDuju6J7szrJtYV9DwMzy8vIRiC5jZ3sTOgUWIRGpH/kJOAiugF8iAc8hX1QSkLyu1WrZFSxE2kqzc+oLyKEShpGfDUxOIvezK5VKCjYXCoV229TubXaHrV8y5QRxaiJvFPFgrR+0A5VPzQvobNXrdeOAFPUi77ncqxFgjYLPONwGx8EhzufAF3A6kUjoYdLYFyw5O6hWqyK6SbqrmY0YkZZUqnrDfh88Rn6DfhPOQUXCbgcvf8uXyWTc/ekPI0YvIFtLacOcNyMnuH4KatiMoK+zf1T/uNtJjyJOL4yrB5IX0OmZP3C/DeKfml7ZMcCPuA+hf4t+e7FY3EMVXfvPC5u/ROxX2UQyBfZz/4OsCuyv9DCQDYF19KbEV0lBNK+2WJ6BnAYXIJtkH+cLpJiTo8zaO85qqvCVrMawWaXpVyLYGPccTXOpFxHJRSlUCvXPkPoMpH0jDbD+p368ux22U86AZIL9krv5zmd1f2rpvEvTOKFylIWb5F+XjfOnQXNvmP9YvwUYAMVhdcW3StpOAAAAAElFTkSuQmCC",chainBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdEQUZDOUIwNTcwRTExRTdCNzNBRDM4QTQxNDMzOUIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdEQUZDOUIxNTcwRTExRTdCNzNBRDM4QTQxNDMzOUIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0RBRkM5QUU1NzBFMTFFN0I3M0FEMzhBNDE0MzM5QjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0RBRkM5QUY1NzBFMTFFN0I3M0FEMzhBNDE0MzM5QjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5kloEVAAABxUlEQVR42qyVW07CUBCGC2EDbKEuAR5FJVZ9F8ELNfEJEjdAl2CXoK/WS/DyrsX7q26BLXQJOJN8x5xUiwV6kj+k0/T7Z+acM5S63a5T0NoSHYn2oyj6CVYKgm+KzkWt9ItKQfAL0bboI/2yXAA8yoIvWsEGmbey4ItU4Ikugb9b8RNR7Pu+u4jBuuhKtJOCD0Q9UU30KSbePAYKvwb+BszANfsbUYfYUE1mMWgCbwMfajtol4LHvHMsk9wVNAHqh6/EzkQj4i6bnvCsa0ku3CiPwRof7YpeiLkotKDGRCtxBJ7kOaarlL8nerbgMb8KCdgDU2HdHhXTKlgR3QJ/suLa5yrGVTY3NJnnvQcKv9PBlYI7ZP3F5gaYDGjPKM9NNpkfkJVrXSLTEtP3HtAOsX9HRQO4r5cFORjVyNYj25DnMAueNmjQFoU/EtNsT4H2rZ7H9omZtozB8h9wh4007TB9dmhNrlUGfi86TMHbQBN6XCVzNa3nyd4YHAN/SA2uIe1wOTX2RiZ5K6hwWtKrR6YBlehmL5H5TKs0mUx+BWUKxpyaPgYesyWZ1SBrVAT02wyuYB54ZgVU4ZL5WKfivP+r3wIMAIFohml+9YuiAAAAAElFTkSuQmCC",
Cl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAMCAYAAAC9QufkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5QzZGQzhCNTcwQzExRTdBNTY5QTk4QTVBNDVFRUI1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5QzZGQzhDNTcwQzExRTdBNTY5QTk4QTVBNDVFRUI1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzlDNkZDODk1NzBDMTFFN0E1NjlBOThBNUE0NUVFQjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzlDNkZDOEE1NzBDMTFFN0E1NjlBOThBNUE0NUVFQjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6y5JDKAAAAwUlEQVR42pxSgQ2CMBB8iwuwAh2BFeoIjqCMgCs4AriBK9AVHAFXYAJS75sjaQyo9ZPLf6HXa/9eQgjyK0xvzkDQrOu9MIpbUSJ1gAO0ngAPNPNpnmQlDIkV0ggcgR6wzLq+y0YsygPVDlDx/HbBodct1aiMDXpNVfYJMcYn4nLtmrWXzDBUFTYom/xkXf5DfrB22WQ2SdUdmyeJ9xVQf7OqoZ+D2pN43LIX9o0Xn7jTMUsGpWP3VyeMUzjyv30JMAA3bWAoWcYIcgAAAABJRU5ErkJggg==",clear:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlDQzY2QTc4NTcwRjExRTc4QzUyOUJBRTQ1NEI3RTdBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlDQzY2QTc5NTcwRjExRTc4QzUyOUJBRTQ1NEI3RTdBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUNDNjZBNzY1NzBGMTFFNzhDNTI5QkFFNDU0QjdFN0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUNDNjZBNzc1NzBGMTFFNzhDNTI5QkFFNDU0QjdFN0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4iV6QOAAAAs0lEQVR42mKMjo7+zMDAwMOAG7z9//9/IpDezMTExABkM7BANUwF4uNYNKgAcQMjI+MmIB0MxOtAgixQyUVAfAqLJlkgrgFq2gq0YS2QHQbEq2GapHE4TRlkMFBDFZD+B6RXAekgFgb84BeUvgrEf6HsdYQ0XQJiWyDmBtkExKZA3EpI0xcgPoLGZ2BiIA1IkKOJYVQTFk1PiVT/FDnBxgGxKhGaLGGaQLGcDcXEgC8AAQYA248scU2R+voAAAAASUVORK5CYII=",clear_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU3NTlDNjYyNTdDNjExRTc4Q0ZGOTA1QkFERDBBRjZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU3NTlDNjYzNTdDNjExRTc4Q0ZGOTA1QkFERDBBRjZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTc1OUM2NjA1N0M2MTFFNzhDRkY5MDVCQUREMEFGNkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTc1OUM2NjE1N0M2MTFFNzhDRkY5MDVCQUREMEFGNkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6VEQpFAAAAsklEQVR42mI8evToZwYGBh4G3ODt////ExkZGTcDMcO/f/8YWKAapgLxcSwaVIC4Aah4ExAHA9nrQIIsUMlFQHwKiyZZIK4B4q1A29YC6TAgXg3TJI3DacpQg6uA+B8QrwLiIBYG/OAXlL4KxH9BDKAz1xHSdAmIbYGYG2qTKRC3EtL0BYiPoPEZmBhIAxLkaGIY1YRF01Mi1T9FTrBxQKxKhCZLmCZQLGdDMTHgC0CAAQDeICe1LMovhgAAAABJRU5ErkJggg==",color:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MjlBOTFDNTcwRjExRTdBQkIyQTRBMUFCRTkxNzJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5MjlBOTFENTcwRjExRTdBQkIyQTRBMUFCRTkxNzJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTkyOUE5MUE1NzBGMTFFN0FCQjJBNEExQUJFOTE3MkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTkyOUE5MUI1NzBGMTFFN0FCQjJBNEExQUJFOTE3MkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5hfTF3AAACe0lEQVR42kyTy2tTURDGT25ubdKkgbpoMII0tsRYk+jCRZS60CLiJroJuqhUUIoIotm4VBeCoKLFhcGFC1H/A6EuxKqFEGhTm5RYH4FkkY2E5kHzIK/G31wS8MDH3DNnvm/mzJxrikQiStM0VSwWVaPRUGaz2W8ymc70er1bYJLvn7quRzudznK73d5UrPHxcbW7u6s0DpWgv56AFKRT4DXfD7Ef6/X6eWJS7J+yVwOOLgriYH0FM+zPDQ0N/eh2u7PgjZyRUeGbhrAxPDx8khiB0guFghCfWa3WowTsoTw43Ri+E1xHyr5H2XsJbhIzjY2Xy+VFzu5obKb4iCSTyVC1Wj3LnfeT7YWUDJaABawRk0FUgcPsb1ONx+z3++dR32k2m1273f6WLF3IzwlYxp/HSkP2gTESvcRu459BREdQu4lzdWJiYsVisXyBGJMMsuRerDa4C46AYv9slSTXNYKnUHK0Wq017nsasbZ0Uoj4BgLS1OOY+9JAIM5Dus1mW6f+AHjEfS9iD0i5YKE/gcEob4BrNDWD/YtAVstms1d5IDYyzDocjgfxeHwyk8lsIfqKKsb+ewMfRIz9Z+wsiBonHo9H+Xw+NTo6qiAqGqdcLleVsi8Q7OKeHsQfk3WnVqsdGxkZ+U5mjy5knMZDqVQqyu12y3O9TPe3sXH6sImoG8JSqVSSR/KtP8o/ZiEzfIXTIAv4fofvPUGfmP1KIBDY8nq9nUQisYbIBpSw8USFHA6H1dzcnCKbUUEsFlvP5/O/EcmSvUkTD1L6FUa5SJURmYIso+xgMKhCodCgMSqXy82n0+mo0+m8hNgvCFHmKj9Fqv8fGOufAAMAmIBmPnm8JWEAAAAASUVORK5CYII=",color_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI2OEVERTZFODE5NDExRTdBNTFDQ0YzNjgyMjVFOTI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI2OEVERTZGODE5NDExRTdBNTFDQ0YzNjgyMjVFOTI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjY4RURFNkM4MTk0MTFFN0E1MUNDRjM2ODIyNUU5MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjY4RURFNkQ4MTk0MTFFN0E1MUNDRjM2ODIyNUU5MjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz41YCXwAAACfElEQVR42kyTS2hTURCGz729zbtpEluDVoQQFwnYWqg2UOhCdyISUKRRsQjFhXUhCEK2Im4EQdyL4kbqi0KLm2oXgqA0aCq6CJSImKDGpLVJm1fz8JtrU7wwzDlzZv7/n3PmaouLi0rXddPcbrcyDENls9lRl8sVbTabu4jnbDbbnMPhWKpUKmpjY0OJbzQaylDbnxTX6/WhWq32pLe3t4/CdxT42u22n4LrrVbrG7FYV1dXcqeGw876NEnL1Wp1ubu7e5z9NU3TxrAg1g/oPAAfURaDRJVKJaWTqDgctFqtz2CMUTQBwCQ+VS6X45i0UkZZnNg0kh8PDAwcikQiykCGsC5gswDN4B2oWQEwgX8v7bAuwerAa+wHyVvgfnYb7Idpvonke7C0YfkCwEHsvrTEuYC/wkL0bGM/XSgULgMyYoB43ul0pgh+BmCFgpede5BCYWYf7VyMxCwWy9fV1dUJnc0BAOwk/QbkMOevibmJKZiUeDFi46i6urW1JRjfNzc39+ps3haLxSP5fP4G6xQgD0n8g492irf7fkN7dz0ezz4ut0DfP/VwOHyH5p/yppdIjHOb+5F5C5ZZrG+7Z1ExySvcliUkJ/1+/4wm/SUSCXNienp6lDyNMOGLnJ2B4ThnowCNBYNBlUqlnsN8LBAIeM0JEwCGQIVCIcVYqnQ6fREFLZ/P94mLmYfdEMD19fVzpJ8iZ1gUmcXSl8wrqOYaoAder/cmrD9g3cMsHEX2o0wmcwHWszKJa2tr/4pFbucZZGjsdvsLZE8BeAK5RVj7ATUAGyHng6ggR2n/zfbOx82rZDJ5hYQhin8hcy6Xyy1JEczmnyfrvwIMAPvvVuV9zQn7AAAAAElFTkSuQmCC",copy:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlBNjNDRjQ4NTcwRjExRTc4QjgzQzRFNjA2REUxMDgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlBNjNDRjQ5NTcwRjExRTc4QjgzQzRFNjA2REUxMDgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUE2M0NGNDY1NzBGMTFFNzhCODNDNEU2MDZERTEwODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUE2M0NGNDc1NzBGMTFFNzhCODNDNEU2MDZERTEwODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6xqKywAAAAyUlEQVR42mKMjo7+z0A8yALi6eiCLFB6NhAfQhL/CMQvkfjCQDwZiO9iMxlmyAog3ocmJwXEbEDMCDW0CYj5gNgTSc0/IP7NgqQBGWQC8TRi/ciCQ5wVSgcA8Ss8+kGuqsVlCDOU3kjAESDvMTDhkPwHpWUIGCKKzxCSwDA15DWaOCMphsCi2BqIP0HZ75FihySX1ALxMSheDsR/SHWJMzSFwgwEpVBbKPsJAf3PYIbswyJpA6XzgfgtHkPs8OWdL1B6AjHeAQgwAN0JIV3NOoY1AAAAAElFTkSuQmCC",copyright:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5OERFNzg4NTcwRjExRTdBM0YyQzBDOEQxRTU0NEU0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5OERFNzg5NTcwRjExRTdBM0YyQzBDOEQxRTU0NEU0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTk4REU3ODY1NzBGMTFFN0EzRjJDMEM4RDFFNTQ0RTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTk4REU3ODc1NzBGMTFFN0EzRjJDMEM4RDFFNTQ0RTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4BzxNnAAACL0lEQVR42nyUOW8TURDHZ9+uT5kilQOJoDQWUhqIBKJJqFCQKIgoCEYp7U+AqNLAJ6CiA8kJrlJGQimAdBQ0pCBUuEkkJIpIvr2++M1mV7I2b3nSeObN8Z/jjdepVqsynU5lMBgEfDKZiOu6FRF55jjOymw2W4Sr7Q+6Y+SGMWZ3PB4LtoA0xsjcwWkdOoHqXDdwWoZ7cI/gZWiDe537T/jafKzRbDhoxhfQZ+SbmmUOPLJLpIeX0X2BKpHOLZVKQpl3kQ8kdhQE21/oTSqV+k3Q7Xkb5wn8E4BnHpkMtK9ZbUD0vwO9y2QyqroP3QqrumjJmH3k69paheFeE8vRdgB4msvllsKqF+M+gCwR/1yHuK0BYamXKoIe4HxqqziYjevKaDTaVutKAsghDg+Hw+Eq19eScLRFXRODsGCzU8EVKr3T7/e/I+9Ah0lA2BZMQiLH9/17hULhVblclmw2q/MqzK/FJTD4uRXpot16q9WSbrd7FedV2wgUhDmda2s/bA56mM9Bu91W58f4pJJeFqBjBfpgy8IC+gQfqcwKPAqrnNleDbD3uox7LNxZ3CGfz0un08k2m01Jp9Mv8XuLn29p/5R57nlk1hfaxPFbNEx16PV6aXRHxWKxzhq0Ud9An4knBHwTuzi1Wi1ohYFuaXXRvLR3KglAmZUk/IW2sDWCV9OfcLM/4ryO/Cv6x+s3R7OpHG55BHBC3BrUiHRebMhf9RMB/ffDBu3Gq/snwAC4G1SOYgU0MQAAAABJRU5ErkJggg==",crossLine:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdENDUyQ0Y2NTcwRTExRTdBODQ2RkEwQTQyRjI2NkREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdENDUyQ0Y3NTcwRTExRTdBODQ2RkEwQTQyRjI2NkREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0Q0NTJDRjQ1NzBFMTFFN0E4NDZGQTBBNDJGMjY2REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0Q0NTJDRjU1NzBFMTFFN0E4NDZGQTBBNDJGMjY2REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7KSyIgAAABlklEQVR42qzWSyhEURjA8TtDkbKcsrNSspHHAsVCkSw8FgzdKTY2JErKRoSkZDOU10aavDakrOyUSMzGgpoN61nKZDEa/6Pv1qUZ7txzvvot7u12Xt93zrmBTCZjRSIRy1DUYgb9sVjs+0XAtm1TjZfiAXM4dF4GLXOxiSt34yoKDTU+LMtT73rXg7CJDiqxilakUIAlqMT26XZQjCPM4hEheXYSntTNwRoS2EID4rhDu2pcNwe96EQNxjCPEZyZSHK5jDqMdVSjSWbzI/wskRrUAfYRVXtJlieR7WM/HSygBEPYkWpJ/TWafEIlbxxv6MKtl+l6jSqc48ldJf+F1yVqlHMmLrs16XVUXjoYxSVe0ILPfCsiV6hEbkv5faAD6XwrItcMKnCDIjlb1AZ69bNhsnXQjWvsSo1f4NTvdnd3oEa6jA0pwbTMZErnsHJyEJKLIiinYBkW0Szrb+nMQG3ze9GGdxxjGs+6l4WawSQmXKdgVOp9z8RVpzoYcD0PSq3XmbqoA79+W06wIjPQCue35UuAAQCSiVDgN4uC0wAAAABJRU5ErkJggg==",cut:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlBQ0IyQTQwNTcwRjExRTc4MTc2QkNFRjAyRjMwODFFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlBQ0IyQTQxNTcwRjExRTc4MTc2QkNFRjAyRjMwODFFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUFDQjJBM0U1NzBGMTFFNzgxNzZCQ0VGMDJGMzA4MUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUFDQjJBM0Y1NzBGMTFFNzgxNzZCQ0VGMDJGMzA4MUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4qK0UfAAACGUlEQVR42nSTzWsTURTF30wmiQlJTCJ2USxmVbsTbBbttuJOuxMxUZfiWv8E0YW4E1dda+lGsHRT0F1BRcGNC0uLUChEExUSJh8kmcTfGWaGidUHd+599+Pc8+57Y9XrdWNZltHqdrtmMBhE++l0amzbNoVC4XUikfjB/m7oD3McE6zxeGxyuZypVCpRMUUCvdRut9dx3VeR/JPJxI9pHwGERZK/7LoKOp3Ohpo4jmOKxaIPIH8EIKqj0cg0Gg3fDgHociudTh+T4iqumIrDRjMMhFgqlUy5XPbt4XB4ptVqzfV6vYcqyufzJ5jOAChJQ6TInwkgV+XzPO8Fc/CpZ7NZpZ5FriMXbT7zoL1Ev4Xeijq7rmtSqZQA70Dbg9U+rJY5ziNyDwFsop+TuyAGnwnMIROc79BL6H38CwCskfSk3+8/SCaTT4PbOiTnMTnb2B+sWq02Jejg9DjzT/SQvA6dL2jisLpC8jl8p9CvkGY4ZP9WgqFcRr5hFtE0ThxlMpmvgCzBQAzfmP8sm+AOZ9pFDkA+wreIrALkot8D8kuJ8dcZX2JwjeANOpUIbgDksRflKrrJMaow+iSAECR8kfFr3JKTWl3daYJ7sFFngX1kvyo2/tN1nNkjxGkpyKu7jXmerovs54P4M11vXATG8E/+C6zfgV1FvgQv9Pu/Bhj9TLoO0Q/OuAnyTQ02+EeOGeS9WHxm/RFgAADcU9yjS4w/AAAAAElFTkSuQmCC",cyclopentadiene:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk3NUVDQzgwNTcwRDExRTc4OEI1QTZDQUQwRkQxOTQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk3NUVDQzgxNTcwRDExRTc4OEI1QTZDQUQwRkQxOTQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTc1RUNDN0U1NzBEMTFFNzg4QjVBNkNBRDBGRDE5NDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTc1RUNDN0Y1NzBEMTFFNzg4QjVBNkNBRDBGRDE5NDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7idfwWAAABlElEQVR42pTUTStEURzH8ZmbslCyQygkbJRZoBD7KWFGmTGvgKWFLLwAJS9gthaGGqPM5GEysfC4QrYSL2AWSNN4GL6nflejbnPvnPrUNJ3/757/OedefywW87mMesRRwjxeK022XMKGcIs3FHCDwUoFNRUetIRFLCCp/2eRwTrWtGrXFTYjiwkMlIWZsa0VTuIITW6BQbV1hXE8OzzwCWO41nYEnVquxSpmEMGpy95+YQU5bKiLZRTNCrtxgU70ewgrHyeqMbWX6DGB+0hjCnlf9SOvWpORsbTsIn5wrqd5HV2qMbUf5jAt9R/ShDtEqwiM6hDNCCNlac860I4t3TWvI6Ia01WbyTKBn9jTKs/QgD4PYeYw6tRySBnf9j3c0ZUp6YlzHgLNnIT2L2y/AHbgMXrRgk3tjd/lGxDR3FbV5soDi7o+07r97xipEDiKF9yr3bRO+d+rl1Lb9jsb8XAYPgXuOr3LBwigUa0EXA4kobnm96FTYEFfGfMleXBpeRiPmptVreP3MKlW4lXexb/xK8AAeAtfOGGchx8AAAAASUVORK5CYII=","default":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFCODI1QkNGMkVGMTExRTdBMUVBOEY1RDRDQkEwMTAwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFCODI1QkQwMkVGMTExRTdBMUVBOEY1RDRDQkEwMTAwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUI4MjVCQ0QyRUYxMTFFN0ExRUE4RjVENENCQTAxMDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUI4MjVCQ0UyRUYxMTFFN0ExRUE4RjVENENCQTAxMDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz44B8ClAAAAh0lEQVR42mL8//8/AwyYmJgoAam7QOx65syZPTBxJgZUoASlBZEFGY2NjV2AdAcQzwLi90C8CojToQpDgbiCEWQd0Jo0IKccySQQuAfVOIsRzU3voCa8B7pJCMNNQAUzoUxXKH8ViiKggDGQAlnZCfUVyE2hQHEXsCqQdSAM9IASjI3OBwgwAI+iO1qkjEzVAAAAAElFTkSuQmCC",doubleBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlBM0ZCNUY5NTcwRDExRTc5MDgzREM3MjE1QzFCMTNBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlBM0ZCNUZBNTcwRDExRTc5MDgzREM3MjE1QzFCMTNBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUEzRkI1Rjc1NzBEMTFFNzkwODNEQzcyMTVDMUIxM0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUEzRkI1Rjg1NzBEMTFFNzkwODNEQzcyMTVDMUIxM0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5J6/3SAAABL0lEQVR42qzV207CQBSFYW36UiKiaFD0RlE8QAX11qdCESOewBsPKAIqPpdrJ6vJzmSoPQzJn1DSfpnptMN8EARzjj5bqIYacuA7QjdRC+2EP3iO0Euiv6gox74D9AJtE11Bt+ggy4jLRCtEl9EdOkQjPwPa5vSnRO/REfpMe4/L6p4KWlDoMO3ibRDdVegDH7OhPtFLiLaJ/qiR1tGHeXJceN1Al4jK2/Vuu8CLiV6hPYXK9I9noXFgjX6jvEIHURdGwSUL+si9YPDfNL0ItIOqFvQtzqLYXpA1dM2RfqHFpKhtxILeGGgPNZOgJrxKtEo0p9DXpK9nCMtW1yU6IdpHJ2nQEC5yq9u3oC9ptz6Bz2T/RGO04AINn4omvwv6hE6zoubinRN9dvEn+CfAAFRzTPbfMKnYAAAAAElFTkSuQmCC",doubleOrAromaticBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdGNTc3MkU1NTcwRTExRTdBNDZFODBEOUMzRkE3ODQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdGNTc3MkU2NTcwRTExRTdBNDZFODBEOUMzRkE3ODQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0Y1NzcyRTM1NzBFMTFFN0E0NkU4MEQ5QzNGQTc4NDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0Y1NzcyRTQ1NzBFMTFFN0E0NkU4MEQ5QzNGQTc4NDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ne9ANAAABiElEQVR42rSVPUvDUBSGQw3d8xf8AUGom4i16KygESG7FR0KLu3q1k66uOQP+JFJ6GbARUGwg3/A6qBzVhGHvgfewCXc1OT25sBDuLf0Ppxz7ocbhqFTU7TBMTiUgVuj5AbsZxONmiVPdYl0kk1wbVO0rpE0wRWIbPboA+yCF45l7V+wIl+bGX0pkg54VWTGPVoGQ3510QNn4G/RzSCSPpiAB7CV+30HPKoTpqIEpGAEPMomlGujYVAuiQhMQYvzI44Lo8qum7JERxTFFA8omhtVSzdgeTzK0rJ/LCPySNabhLKUWVkRyYLvJGu0lClgb7plyiax5Pv+PIn045z96XF+DH4oG5fNqGgzBGx0l71wWKo+x1HV81BUupiNHyqHMWavWiYHT5fRGvhUan/HzALKEhuiDXDLW/g7J5M+bZveuK5Gsqfcwo4ii/87/WV6pEqelZfxXpEZSzJRWyORTC/Apa3HShY8yUmafKxW1fdk0ZCMDnLleqPMmkR3juQmOM2eX5sxE2AACFxbqj8ilNkAAAAASUVORK5CYII=",dropdown:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2RjNBRjk3NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2RjNBRjk4NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTZGM0FGOTU1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTZGM0FGOTY1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4po+RBAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",dropleft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHWlUWHRTb2Z0d2FyZQAAAAAAQWRvYmUgSW1hZ2VSZWFkeQatApcAAAMmaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzExMSA3OS4xNTgzMjUsIDIwMTUvMDkvMTAtMDE6MTA6MjAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5QTkwMTYyODJFRjAxMUU3QkYyQ0Q3ODcxMzlBOTc4MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5QTkwMTYyOTJFRjAxMUU3QkYyQ0Q3ODcxMzlBOTc4MCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlBOTAxNjI2MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlBOTAxNjI3MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZbfomwAAADVJREFUCJljjI6O3sfAwJDAwMDwiAEKWBgYGBwZGBgOMDAwOMAkWKCSisgSMEEUCWRBmMR8AEwGCSpDzMgpAAAAAElFTkSuQmCC",dropright:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlBOTAxNjI4MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlBOTAxNjI5MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUE5MDE2MjYyRUYwMTFFN0JGMkNENzg3MTM5QTk3ODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUE5MDE2MjcyRUYwMTFFN0JGMkNENzg3MTM5QTk3ODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5lt+ibAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",dropup:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHWlUWHRTb2Z0d2FyZQAAAAAAQWRvYmUgSW1hZ2VSZWFkeQatApcAAAMmaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzExMSA3OS4xNTgzMjUsIDIwMTUvMDkvMTAtMDE6MTA6MjAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5QTkwMTYyODJFRjAxMUU3QkYyQ0Q3ODcxMzlBOTc4MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5QTkwMTYyOTJFRjAxMUU3QkYyQ0Q3ODcxMzlBOTc4MCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlBOTAxNjI2MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlBOTAxNjI3MkVGMDExRTdCRjJDRDc4NzEzOUE5NzgwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZbfomwAAADRJREFUCJljjI6O3svAwODEgARYGBgYEhkYGA4wMDAoIgs+YmBgcECWYIFKokjABJElFgAA6fwJLGk+JlEAAAAASUVORK5CYII=",erase:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk1NUYzRUQxNTcwRDExRTc5RDhGRTBDNENEODY4QzVGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk1NUYzRUQyNTcwRDExRTc5RDhGRTBDNENEODY4QzVGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTU1RjNFQ0Y1NzBEMTFFNzlEOEZFMEM0Q0Q4NjhDNUYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTU1RjNFRDA1NzBEMTFFNzlEOEZFMEM0Q0Q4NjhDNUYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz40vn9pAAACPUlEQVR42oyTO0hbYRTHb25ujCQhpeLYQXCyHRVF0FLQxUAHFapEXKqgohRa8YGCtAqCVOnQUrsoRCwFEZH6AsVBRO3UTaSCuFjoYGyCSt5Jfyfkhg+J1Q/+nP953vOdez6L1+vVLBaLlkqlNDnC5Ygu3PQBD3wSlx20gn2x67qe9uvaPQ4F2sBMIpF4h/odrIDnasx9Cr3ki+OGYXwAG/DXFF3E7kPWm0HGHUW6k8lkH/gM/0JimTSI3gW/gi/Am+BLxn+u00xQP9f5ZLPZ3qM/RU8i/bhr6KzXarXmMaPZWCx2mbMQQY0EfYO2k+hDllMjQpITn4wjgl6JPupyuX4Fg8F5PUcnnWAkHo9/pJNBeBXmGAWsJMfhD+ER5pVHzAWnEtv1zUJDBE/wpU74q0AgsIK+SpLf4XCcy0wpcoq/EL6D/St6LahTrzZAwAAzqcdxIPsRjUbfOJ3O3/h+kiQrcIS/GN8+tl3iiuDV8GMjc51BvvyWuTxD/jAXUoqBKWx/w+HwcuYPLeDewl+CTBdJ/34cfRh7QCn6obnhdKAOf5buzmR2qC/QH4AK9JPsQmIYRa7SzSHDyz4JkW63W6MLs7tN8Ad7I/EN4ER9Uvj0DorUkdAuSepbU7viTGJ7gnwMzsyY7Gbzi+eQ56FQaM1ut8tv9ilXMulY5qFWYzvOtXvpT9LJOl1V0d02W+pATisx46BFOqGI/7aXYCiLuEcxj7wrEmqQCWQ+Lo/sDBgm5pGSWwBk+2dE+SfAAIv0OgTFDL+FAAAAAElFTkSuQmCC","export":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCRkQwQkRGNTcwRjExRTc4RDY3QkU4NjlDNzA4NjBFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCRkQwQkUwNTcwRjExRTc4RDY3QkU4NjlDNzA4NjBFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUJGRDBCREQ1NzBGMTFFNzhENjdCRTg2OUM3MDg2MEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUJGRDBCREU1NzBGMTFFNzhENjdCRTg2OUM3MDg2MEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GmEdrAAABDUlEQVR42mKMjo4+wMDAYM+AAPeA+DES/zcQ3wJiASC2AWI5IP73//9/HyC9nQVNMwikAvE+NDGQ4htALArEx4CYiZGRcRvQEE8mBkwggsZXBuLNQDwVpBFZAmjIdmwG/EPj/4XSv4D4P7piFiwGfEbjPwBiByitQIwB3UBcgsT/A8R3gZgfiI2JMUAXiokC6AZ8weZPNMAIxDwYBgCjZDWQSgGGLF4D/v37BzJgLjMzcwhQD8IAoMbjQOoTIScD1TFA00IIuhf4ifEz1AB+kO0M6AmDHIBswE8S9P3EZgAnExMTUV4AquOCeQE5DLKBgqKEDABpBOIwaFiADTgExHZALASUyCAxCA4BBBgAEsFHawdH8l0AAAAASUVORK5CYII=",export_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA5OTA2QjAxODY0MjExRTc5N0MyRjk4NzI3NURGMzg4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA5OTA2QjAyODY0MjExRTc5N0MyRjk4NzI3NURGMzg4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDk5MDZBRkY4NjQyMTFFNzk3QzJGOTg3Mjc1REYzODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDk5MDZCMDA4NjQyMTFFNzk3QzJGOTg3Mjc1REYzODgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4erSunAAABMklEQVR42qSTv0rEQBCHN5tolCDaCVqftYWWFipXaWNvcY0PYOsDqIU+gk8hWAhWaQRt5MDiWm1EDoSgd/4h8Rvc03HvcAP+4GN2k5nf7uwmUZ7nrTiOD6qqysyXHuHJ/OgD7mEaFmAGLmED3hNr7QnFVhUcw5GaT8Iy3LmiQ2jCBaxZt4JWF54VYnAG23Cj8lbgXAxePYMxbz7l4ixY791qYobV9ea3sAVXrhWtYpTBrut1oDfoSL+w7iePMlh01JJv0JerCdSMQzpkEEXRNWGTK335q5q8jJxThku/DHjYJjyEtkxeQWgPDPS1ZKa+vnOt+ae0QY/+6tb1tEFKX4Z/Yg6kx9AZSJh301QOMZGVy7JsEjvQD6w+AQ03jsVgB/blm8e9Edq7a1OuumC89ynAABnXUM7uVrfqAAAAAElFTkSuQmCC",
F:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAALCAYAAABCm8wlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNBM0UxMzkwNTcwQzExRTdBMjIxOTY3QkYxNUU1QkU4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNBM0UxMzkxNTcwQzExRTdBMjIxOTY3QkYxNUU1QkU4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0EzRTEzOEU1NzBDMTFFN0EyMjE5NjdCRjE1RTVCRTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0EzRTEzOEY1NzBDMTFFN0EyMjE5NjdCRjE1RTVCRTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5T6o0iAAAAM0lEQVR42mKcnck2k4GBIY0BO0hnQeakTPs5C10FEwMBQLkCRjyOnAV006BwJEEFAAEGAFKnDW7W/bUTAAAAAElFTkSuQmCC",foldLine:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5REI5NkM4NTcwRDExRTc4Q0VGQ0U3QUU2NEJFRjc2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5REI5NkM5NTcwRDExRTc4Q0VGQ0U3QUU2NEJFRjc2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTlEQjk2QzY1NzBEMTFFNzhDRUZDRTdBRTY0QkVGNzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTlEQjk2Qzc1NzBEMTFFNzhDRUZDRTdBRTY0QkVGNzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5YrucIAAABZElEQVR42qTVzSsFURjH8Zm5QymlsLSUrKaUhY0iL0ksiIVmSQo7IdnwV1BKFmxEUlailB3dIkt75bV7vUR5u75PPWqarjPDeerTnTPzzO+ezpy51w3D0IlVExYwj2PHXL/2erFGGbejFR1Frqfujd/Yp00j6ES/IdjY60eOqzGLVayhHDM4xH0sNLE3OmNpvMWijpdwh7kis03s/QluQS/GYwET6NF1dP7SmwmCoEK/eQUHseY8PjGGDV265RS9Oy7bTbZLkPCgtnCqxw0YMPRu41xm8I6phP0q1/dQQFdC7zSGZCmy+iBMlVdHylQ5ZGXGr066WnfS14vv/L/k3joJwSNq8YELPNsEV2EXpbhCo57fxLBnEfyFS9TgAaPYxyDabGYsVYlrdONNj5tR71kGZ3CDMh0XdPv6tsESVBL5MZNPV5bJNti4ZWyXwo2MXc30bIKfMKkvWE7PnUD+686+BRgA2cpW+a7+eXsAAAAASUVORK5CYII=",H:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNDMDNDMkU2NTcwQzExRTc4MkY4OTc1NUMyNjZGNkRBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNDMDNDMkU3NTcwQzExRTc4MkY4OTc1NUMyNjZGNkRBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0MwM0MyRTQ1NzBDMTFFNzgyRjg5NzU1QzI2NkY2REEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0MwM0MyRTU1NzBDMTFFNzgyRjg5NzU1QzI2NkY2REEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4E4wd6AAAAP0lEQVR42mJMTU2dycDAkAbE6bOAgAEJpKWl/QdS95gYiADUU8SCxFYCukGJkKJyKMarCJfvGOjsO6IUAQQYAKqXD4zV4m0GAAAAAElFTkSuQmCC",I:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAMCAYAAABIvGxUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFEN0Q3Nzk5MkVGMTExRTdCNEUwQzkwREE1MjhDNUVDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFEN0Q3NzlBMkVGMTExRTdCNEUwQzkwREE1MjhDNUVDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUQ3RDc3OTcyRUYxMTFFN0I0RTBDOTBEQTUyOEM1RUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUQ3RDc3OTgyRUYxMTFFN0I0RTBDOTBEQTUyOEM1RUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4xH9QFAAAAGUlEQVR42mIxNja+y8DAkM7EAAW0YwAEGADIHgH4pRkzRgAAAABJRU5ErkJggg==","import":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlDNjAzN0Q5NTcwRjExRTdCOTk4RDQ0MkRBODVCOTJEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlDNjAzN0RBNTcwRjExRTdCOTk4RDQ0MkRBODVCOTJEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUM2MDM3RDc1NzBGMTFFN0I5OThENDQyREE4NUI5MkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2MDM3RDg1NzBGMTFFN0I5OThENDQyREE4NUI5MkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Kv3H+AAABsklEQVR42pxTPUvDUBS9SV8/TCChNBTBiv/AQZCO/gWhm9Clg/4E6VToIBUV3JwcOit00Ekc/QdumdTJFgIlEvuRpvHc0NT4SCl44ZJ737vv3PPuO1Hq9fp+EATXiqJUKGGZTObZcZxjrAfFYpHm8/lyTwhBs9mMBoMBmaZJmqaRCMOwh+ItkgzgDcMwbITnSZDYcIZw9hccySatMHRuY/8oeYAN+RcadRA+LmvhHtxIAwKTHD67KWyZ0UOpVDJUVWVQUrkB/cP4avl83gXQK9JDkVLzgaIn+Tqy5XJMlipgw4x7QuriwffQxeFXWcWErd/vRy9nWdY9XrgmA93h43AMsHgWJMmCxuMx2bbNQ9fL5XINa5ci2cl13Vvf96NY13WewR/98Dqz4GtXq1XKZrMnXA+9XTFQuNDEO+IXZsKFaTOK1wqFQvx6TTR6Q/jJQAoXAKzLCk4+cdrVOB+NRhzugLEFrZ1iTpGOTLiPQy2ZhQySbALmncUcu9PplASKv7Gnwc/gG+v0wzPDv7UNkNpkMrlAHkTKRnKAod1g8s112kmyRG1rOBy2Pc+LfuIfAQYAQXvRBGMidqQAAAAASUVORK5CYII=",lassoSelect:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQzMzI1NjA3NTcwRjExRTc4NEY0QkYxQjk2QTlDRTE5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQzMzI1NjA4NTcwRjExRTc4NEY0QkYxQjk2QTlDRTE5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDMzMjU2MDU1NzBGMTFFNzg0RjRCRjFCOTZBOUNFMTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDMzMjU2MDY1NzBGMTFFNzg0RjRCRjFCOTZBOUNFMTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6cjwQ6AAABRklEQVR42qTUPShFcRjH8eM4cm+JErIQGW8WA2VEBotB3joiC2UmRkwsXiaLKFlk8BKFlJTBpFBiscjEYiDyku9TP3U6ztV171Ofbufcf7/7/5/nOTfL931H1Y56lCAP2XjDO55wj3NsORHlIY45lGnRDO4Ca4qQQCN60Y8dLIaDxpCLFie6HnEsVq3oQTPGcWU3XdRh0Em9bNfdOMMSan529Kpn8Z/6wBQusYAO29ELmpz0ahfbGLGgDUwglmbYLCotaB372ERpGkF2ok9XF5M40u66QgtHsYKqJEFteHYDN6btrOjEKgZwiEI1oy8UUI4hDGPeC315glM0aGcxdbUAtfbL6nQ+KuxIGp0LL0lrDyRHE12Man1a8K1m6CY42X+VvWd7mu4vHSOy3BQ7E9eL7GUadK1/hUSmQQ9Yw7I69au+BRgAyZhDnrspxBsAAAAASUVORK5CYII=",linkLine1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5NzA0QTA2NTcwRDExRTc4QUQzODYyMzlCRTRDQzcwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5NzA0QTA3NTcwRDExRTc4QUQzODYyMzlCRTRDQzcwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTk3MDRBMDQ1NzBEMTFFNzhBRDM4NjIzOUJFNENDNzAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTk3MDRBMDU1NzBEMTFFNzhBRDM4NjIzOUJFNENDNzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6CO1RtAAABHUlEQVR42mKMjo5moBBwALERE4WGKALxNCA+z0KBIX5APBGInZcsWfKdHBcxA3EHEK8H4gKgIfdAgqS6SAKIlwGxIxB3AvFGmAQpBtkC8XIglgbiA0BcjSxJjNcYgbgIiPdBDXkGxBFA/BdZESEX8QHxfCAOgvL/QA15ia4Qn0G6QLwWiFWRxCqA+DA2xbi8Fg/EJ9AMARnah8tWJiypdCYQLwBiLiTxW0CcDMT/cRnEgpZKVwGxCZqab0AcCsQf8QUmzEXeQHwGiyEgkAXElwhFLcigZiDeDMRCWORnAfFCYhIZyKBHOOTOAnEesakVZNBsIE5HC8j3QBwCxD+JNQgW2LOh9EwoHQvED0jJhMixBjNMDoi3klokAAQYAJy2MXosO7djAAAAAElFTkSuQmCC",linkLine2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MDlDMjlBNTcwRDExRTc5MDYxRTREM0IyRTA4OUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5MDlDMjlCNTcwRDExRTc5MDYxRTREM0IyRTA4OUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTkwOUMyOTg1NzBEMTFFNzkwNjFFNEQzQjJFMDg5REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTkwOUMyOTk1NzBEMTFFNzkwNjFFNEQzQjJFMDg5REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4u+ty/AAABVUlEQVR42qzTTygEYRjH8f0zyRInUVsoDnIZDstNyZaL4uKg5iblIsXFkRNFjg6cJMUelUIOkj83B3FyUf5loxw2Dv5/3/pNbRvNzM5OfXrnfXt75nmf95mo4ziREjxR/MRKEKgCFmJhg9WgBUkzCROsHn1oxRe+iw3WjHGkcI+7MJlNoB9nOHQXrQABGtCII2zgHav5G/xmFkcXdjCNE0wWbvITLKECm1ur1Fj910avYy7iCstYVwts4tVvMLP2qfdB1KETUxhBlTKNeB2zTIVOaz6KHIbRo7Xcf8cozKwDc/jAJXYxgzEceBXXzaxW47UyM1msoRtLGMKTn2Dl2NbXX9COLfRiVjd47qd/LNXHHK9NX8/oaE04DfJbxG3bTii7lAI+qj7HuMBtkGBZxn28YUD1ucEeskEycy/ABJrHiuYPxfz9+a1hGnUBz2qJwM+vAAMAYb4/gKLtImIAAAAASUVORK5CYII=",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOMAAAAyCAYAAACu7GzGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc3OEE2NTFCODY0MTExRTc4QkIyRjA1MjY4Rjg4RjMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc3OEE2NTFDODY0MTExRTc4QkIyRjA1MjY4Rjg4RjMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Nzc4QTY1MTk4NjQxMTFFNzhCQjJGMDUyNjhGODhGMzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Nzc4QTY1MUE4NjQxMTFFNzhCQjJGMDUyNjhGODhGMzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77y/a/AAALI0lEQVR42uxd23WbTBDe6LgB8uo3XAIuAZWAS4ASoAQoQZQgShAliBLMU/IaSsgv/rMTTcazVxCSnZ1zOM7FgmV2vm9uu6tvP378EEE+nUSXK71cMXOppJc/h8s1yZ/w5yB3kufn5z9/fgrq+DSSXa5E/tSBDgOsJwBO0BXJfx8vVyevIaj5fhLA+Ngygy6XV6QAXo+83Oh4/xQBvJT3agiIg2wk30KY+rAgLCUIuXATPNmaIeYMzIN89nzvIoSwIUz913PBUl5YJgmQxsP70TA3QYAeCchfL1ctSWD+vbcQugbP+C/K7JmOTDhaXa52gZdKpMdLGIC/KO5bSlDO/7cPgNzGM+6COh5CZuM/ESB2EizNQiCeGCCapJHXPJ6zx+eDeEgA4/3lIL0Q9lhv8hoX3DdhAC6kl5vv/d0A8koSgvAEdJAAxk/nEXMClFcEgrWB2DjeH4o4kSSNIAGMXzZHrAkQ9wu9oQ6IhfR2LjKhzyTiY2EpyIoSCjj3E5yLARCXthIgx4sJoIqF3vZd3lNX9AniIaGA8xheMWHCwaVAPDFA3K8Q9nboGXmYvhCmfjUwglRindZBTQC+ZlsCr8gJYLyR+DT9Z+bNEGOOQY1eeR31OkuEFoLW7g8OZP5jz3mH9bFjsJvlYIxl/oCNIDSF/WUNo8zEx9bI2nMyMWQyegDxhD77EqZ/WZgaMwpOgxq9jXuNyiltOWxBjvEKYXSQhWCcc4eWGFUX1LgoB/MV6P3hFkbxoFFKTMLoNpjAOjkjLpOHzal+0orrYuzIU4fU01QPbOQZyT+bOxFCisjr4eodvtXUXl6PCETYfpRa/m4tc5mtG9oQTtYeny0ZT3NLA09WAiMs9dtKYBfMu7xg6WEt/740xUqX6ubnz5/JUjD6Si6VE90QiGcEMJNBnxFwa8PkxHIy50n85QkimjfuJZBSR2DQlTvFjectUeS8rgZbMN5otonjDfLJDNkC7b32chz5Qls+yWdkBjLQEX19AeTZJkxNpKKWbjiF/CYjbA577FKisE7+v2tuhXOoXgOqo8LABsXYa2biSrHOURWDox6PZMxbeJpkwZixIY4EpDSCWeNdOFsDe+uIXcwg+C3cK9C0cJYytRO6JS4S/HLEeVzHCyDzneGBeEVH5unWoaSdkYFC2ACbXStx3Tybyc/kjpNOm+kcS8MytIoQC7dVKZPj5Er5azXrXeRISKvaKO9JLUhLNyev8jNnFFmcyH2HlUjjzOSoe+lIeoXHjjTeTUX6gtgO5zUjggNVyvf/eHYGIEbkgT6VU66kDWD4LieqkPef/+0FTczBMnyhoVvLTC4oaJTPxAoaSfED2PWA3jsmCvTN0XD4JBaQTbtRwYaLWlxy9woBAo4KiRjv0KwARLocEHap9BYRhu3zc2KTLSHEnAHrpHAO89pUcADRk8bNR8T4Kg8Fcee42CyK7tALpwbW5BRbMYRQSsVVTPiEvWKE8s1XFM6sERqmaKwJM5E6ANM8sRLbSMbMja33wKQFeqPkvMa7UOcBNtBqIgzaErJJvyLxcYFFZQAihN+m+0c7BYCSFYwvY9h/rd0JFGixJtw8IIYGpWckt2zRpL6L677CkSEm3/FT0hCWoRHNTybLyV2rIJaTnM8mj4ciXcGQUbnyu3BA3GuASCOMzoFgciZanNBcckDUnrZ3yRX/jHtnUJav8cXMwFpp4LYMZKscaiwN8fA5CoOFwiviMLZBRkTz5CVNde64xdRCD5QMlp4A4BrZ6HIjlfcvFd6mZjzGeAMgDpbpzCTcKtG0GNUqCNPF6/+xgZ1BWb5FChoGtI4vTQsGNorFRZsIFYAKwpI58qTQLy2lMiticPVKORoOb3rElKZ8mObMldjuTNOEITrT+0OlulLk7Gu+S0SAOJB6g01kYgpPM/QZlVeEcXBHZxYOtj7sNMrqLJkwMoS5rjlBLMy7GlR5bSf+XpBcMAZEveIBMbkKtKPlO6iqcrnCACJNFFCLj62gLVeuHBwNC4xdRVr5wgJYpCH8yQJYNVOI6iyKgo3GK0aoKNgyDsjGkWUUjBHzsMKSPd/RIFRHSbiEuSV5oUljKBNhWhMQMcAGZPB7A2htEnz8bNU7QStiMISqOXl+J27f2NcRqs0p4wcNaeE2gk8NgtstlFqGplw6YwpPgVgaeV9aUS5I5LRn5tGGvMHbjs/Pz90TY6QuxgchCXdokQ8QU6Q0VTkYn3pdI9COCAyNgp1LQiSqPBDrw3bxQa2IAkDhExrTSAxNV7AZNgYiDf9HCy8GXmdvYH+uwCYc7Az0VTqkUqp0ZjKQKi7slcSrQ2qTIRuPLZyIyh4bnDPmjrG8asAxYavJkf2OBkKAUJoyUYuA2CpAzH1hTGERUtmEU5DbVZqcABuhyjNCQWIJoS2RiDzfptoJK6h040wdgM2NZyB2hhd7t44FsN7wmZp4v5jMUSPtoxZ/n7gek3mzCU9j6RVbAGNGcqPWQUEFU4VdAsQIKaJjAAIKwArqEBh0XoT2O1W5TYS8pk0f8IAIYtLkkC3xNh3SXcQYzr2A6LolazSME39VnS8QC8bL2lRCjwwBN4a5TImHp+nbJO1Q57RsKsQA+jdcTU0cQghOQTQ8bRwrsLCEKdF4K6jsQe8vJ5OTIKNQGURKlFVpxqMrHlHWjTXGiI8nmRgywESB8817AZEekmXTf5sM4/RdvcMBEW+BMoWCXLQyaAAE61nfSIEtYyIwrrjp0qKBKLK6eMWBA6PJKyYKBdGqY+M4qDPKqd4UY8BNeO6EMlM4lTHh6WQBxt5gLMIAmkQTtuAWB16V0m8MRPoVAJMmfF8io+U7wfrhnvF8NnODgUXPoe0sfn8gdhMRe1URucsi81ow1fEd8hitoerDATEWH5uowkHhNQGbDXNyrQNTOEXZTTeRgwWBnIRd7zQ13LNgvOWWQMwIECG6uMWaV5uCIGx9qyyqkb1F2kA3vw+K6CZTVGRTxZxx74Kjn8RAfKzt7AzGB7kcNMQL5sWxclTfeIRf7ogMACqmrw5uPmVyAFM4mTgUZPAEwruAN35HoYyNwcYaMJrWOd46LD2SPL0T190VawpsQk+E+uycXJIz7PBoLQAYMbo+EyCC7kcGJCmyQ1VrJGOqsIOGbPC655SMFUi8UZH4Dg00UoSQiUJBKamSvcmHwK4E2CYDF/wdFzRehXvzdyJsZDJg3Qp71f33KDeFdynFdRfAsGDMOEfLxHVLEgXnraREpILn7pbrXRtUUMmQ7cBYamQPg4EoW1KQi5GtqnJteLcSed8T+n0VWU4WBT8a2TRofn/L65ccp9be5+P9U5T/NCRpbTSJ8jtiuj1iLVBOwnhIyJOWnD8C+Zpt1TZGeeleuC3BwmfU+HiM3/InNjK8YbtHYQ9tzawJDPDsuC0A24a2WtVTi49rXUdk5K4LQ/C7QB7XGewACidQze4t5r9GQJocbDRDBKI8Kwof7w/ftZGKa4sDwgrd11TjrSKd2PZck88kEFlAQQR/CSkFAs5fYPHA0rWbGZpb6l3ucXhVRApFw0r36j+rgXBgdBW8S/tFhNOhdQWSIwpDYxTKjBqiKxExAoObdAxLtqCNkxAPBGsxw4HTXwiM0BcUwn03xr8KyBhFEbbElROvpvIkqSK3gqsXgSw/BRifPI0LF1CC6MVXRziUTMTfK1loHj6Jax8veL5PKj5gxBXUPqhwExkCyL6++JybmgSvGCTIY4ARFwWCBAlyRzCOAYxBgjwGGLn9W0GCBLkDGKHClwX1BQlyXzDCTuk0ADJIkPXkyfNz8L0FobURJMhK8p8AAwA+GtpMWu8CqQAAAABJRU5ErkJggg==",moreB:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2RjNBRjk3NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2RjNBRjk4NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTZGM0FGOTU1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTZGM0FGOTY1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4po+RBAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",moreL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2RjNBRjk3NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2RjNBRjk4NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTZGM0FGOTU1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTZGM0FGOTY1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4po+RBAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",moreR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2RjNBRjk3NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2RjNBRjk4NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTZGM0FGOTU1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTZGM0FGOTY1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4po+RBAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",moreT:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2RjNBRjk3NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2RjNBRjk4NTcwRDExRTdBRjM0QTZFOENFMzA4QUUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTZGM0FGOTU1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTZGM0FGOTY1NzBEMTFFN0FGMzRBNkU4Q0UzMDhBRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4po+RBAAAAKUlEQVR42mKMjo5mQAJyQDyfBU3gABArMqELgDhM6AIwwQXIAiAAEGAAVM0FmNaiwTsAAAAASUVORK5CYII=",N:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNCMjE5RjMwNTcwQzExRTdBNUE3Q0M0Q0JDRTAwMEQ0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNCMjE5RjMxNTcwQzExRTdBNUE3Q0M0Q0JDRTAwMEQ0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0IyMTlGMkU1NzBDMTFFN0E1QTdDQzRDQkNFMDAwRDQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0IyMTlGMkY1NzBDMTFFN0E1QTdDQzRDQkNFMDAwRDQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6wEfVIAAAAe0lEQVR42mK0tJw7k4GBIQ2IVx87lhTGgASsrOb9B1J7mJDEQoGCxgxYALKi90A8k5CiWUBsDDQtFJ+iPUB8D5tpTGj8CiAWBJrWgVMR0HeroSamARUq4TIJbhoQd0A9g6kIaNpZqCdC8ZkEUpgONUUQpyIo6IQxAAIMAFXbIAPrBP0LAAAAAElFTkSuQmCC",O:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNBQUQ2QkExNTcwQzExRTdCN0Y5OEZBQ0RGNjAxMEUyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNBQUQ2QkEyNTcwQzExRTdCN0Y5OEZBQ0RGNjAxMEUyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0FBRDZCOUY1NzBDMTFFN0I3Rjk4RkFDREY2MDEwRTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0FBRDZCQTA1NzBDMTFFN0I3Rjk4RkFDREY2MDEwRTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7v1/SpAAAApElEQVR42mL4//8/Axjz8CgB8W4gfgfE/6H0KiAWhKlhYgABXl4XIHkXiI2BuBOIlYF4NRCHgsV5eZXA6qCm3oWaZgy3CSKeBhXfDeKDBFyQBTAwzCCoM4wZIGAPA3awB+ZUkGIlqOB7BvxACaT4HpQjiEMRTPweSPFZKMcFh2KIMz9/3oMeGi44QmMVJDQggrAQAeFyaATNRIocJYRiImMQIMAABJ6hKQJxme0AAAAASUVORK5CYII=",P:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAMCAYAAABfnvydAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5NTYxNEI2NTcwQzExRTdBMjUyRTRDNzRENzRGNEIyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5NTYxNEI3NTcwQzExRTdBMjUyRTRDNzRENzRGNEIyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qzk1NjE0QjQ1NzBDMTFFN0EyNTJFNEM3NEQ3NEY0QjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk1NjE0QjU1NzBDMTFFN0EyNTJFNEM3NEQ3NEY0QjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5jj5f0AAAAiElEQVR42mKcncm2m4GBQQmIzwKxCxALAvF7IE5PmfZzNRMDBIAUGAOxKxALQRWsmpPF7sICVcAAVK0MYwMlKkAKgDgNZgIKABkNZRpjVYAMsCoAWiEIZd7DZUIalD7LCPUmyHsge9OhvlkFVaDMgqQLZOw7mE4gDgM69j2yN12JdiRJCgACDAB8lCCyceGmhQAAAABJRU5ErkJggg==",paste:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAARCAYAAADtyJ2fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5RkE0QTFCNTcwRjExRTdCNTA2QjkxQUVGOTlCMjM2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5RkE0QTFDNTcwRjExRTdCNTA2QjkxQUVGOTlCMjM2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTlGQTRBMTk1NzBGMTFFN0I1MDZCOTFBRUY5OUIyMzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTlGQTRBMUE1NzBGMTFFN0I1MDZCOTFBRUY5OUIyMzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4mvFthAAABVElEQVR42oySz0qEQBzHx9GDEi6xS0oE3aIyFm91jKBTUbei8gF6hCCITh0i6AF6giAIIugQdKluXTrF9gBhS1jSsqjgn74TIwziyH7hg8Pv52dmnFHxPI+wFEVBVFUlpmnaQRA8GYYx4/v+FcbbruuSOI6JGApuwEBRlEGWZb0wDD91XZ/CROuWZW05jpNHUdTDOxn4AMeluAkewCPkWchrmqZ1bNu+o5R20zQ9YHX0T4EGNggfsBzxJ5P0JEl2sM3pPM/fIKm8dwhssCiKC+AVvINr9r2QCCTWS3idZQLEojgHLvnzP1yqpl0Vq+kCCxhCbQzMgyFYKsW8Ij6DVs2EERgH91SyIpPOQKfCJD/dlmyrLF/gu6b+U96jLEZTvUlsDJUczsjisKanjiKeg74Ay4vE6Zc/wD6/8LbQ3AMnYLdGXC7Fi5rmL1gBq5IVb/8EGAA/NWJbqnKCTgAAAABJRU5ErkJggg==",periodicTable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAACCAYAAABsfz2XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM2QUM1Q0U1NTcwQzExRTdBNjAyRkE4OUUzODFGREM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM2QUM1Q0U2NTcwQzExRTdBNjAyRkE4OUUzODFGREM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzZBQzVDRTM1NzBDMTFFN0E2MDJGQTg5RTM4MUZEQzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzZBQzVDRTQ1NzBDMTFFN0E2MDJGQTg5RTM4MUZEQzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7xtz0+AAAAIElEQVR42mKMjo4+zAABtgwIgFOMCcphZMAEWMUAAgwANSYD2yIjiwEAAAAASUVORK5CYII=",plusSymbol:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU0NEEzNDJCNTcwRjExRTdCMTExQzgzRENBMTFBNUVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU0NEEzNDJDNTcwRjExRTdCMTExQzgzRENBMTFBNUVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTQ0QTM0Mjk1NzBGMTFFN0IxMTFDODNEQ0ExMUE1RUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTQ0QTM0MkE1NzBGMTFFN0IxMTFDODNEQ0ExMUE1RUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz704fEkAAABCUlEQVR42mKJjo5mIAFMgNIFMAEWBtIAN7oAqQa8I9UADiBuB2JOKN8WSvND6e9MDBQCQi74AcSFSPxOKF0OE0B2QRkQn0bCqVgMFIJiBmQDeIB4MRC3ATEbEB8CYkEgngKNNmRLvkIxigHJQBwDVawPxMVArA51RT4QKyCpr4BiFANSgPgVEC+ChjonVHwfEP8HYj+0MPmBHojyQMwIxNOAmA8q/geIFaHixoRigR2I3wPxVagLGKAaz0D9u4+QASAnfQbidHLSAcivc4FYBYj7cahhJOSCLiB2h+YwZSBeC8QCQOwFxD+BOByUZPEZ8AKInYG4BoizgdgciP9BM840qCE4AUCAAQATSy7ij6CcowAAAABJRU5ErkJggg==",plusSymbol_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBDMjEwN0RFODY0NjExRTdCOUU1RTg3RjA3QUM2MTA0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBDMjEwN0RGODY0NjExRTdCOUU1RTg3RjA3QUM2MTA0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEMyMTA3REM4NjQ2MTFFN0I5RTVFODdGMDdBQzYxMDQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEMyMTA3REQ4NjQ2MTFFN0I5RTVFODdGMDdBQzYxMDQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz56dvTpAAAA20lEQVR42mL8//8/A7Hg2LFjYMVWVlaMMDEmBgoBxQYwEvICzNkD5wJCgcgClVACUjOB2BiIBYH4PRDPAiqsIBiIP378AJl6F6q5E4hNgPgsEJcDDd5N0AvPnzz5f+/hQxBbGWjjPSTngjS7ALErUHwPThdANa9G1gwFME0u+FzAAqVD8USXIDEGrFaSlw/FpgDowgpiDDCWkJZmxKYAKI4/FoA2g2gloBfSyEpI379//3/u3DkYfzU0KkHpAmSgEjBwlfF6gYODgxGqoQMa4qHQhHQPahheABBgAIZ7UC86Fz+CAAAAAElFTkSuQmCC",
Q:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM3OTEyRkZGNTcwQzExRTdCRDM0RkFFMDlCRDcwQTIzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM3OTEzMDAwNTcwQzExRTdCRDM0RkFFMDlCRDcwQTIzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qzc5MTJGRkQ1NzBDMTFFN0JEMzRGQUUwOUJENzBBMjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qzc5MTJGRkU1NzBDMTFFN0JEMzRGQUUwOUJENzBBMjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7UJ1szAAAA2klEQVR42oRRwQ3CMAxMIxZghTBCGYEVyqvvMkI7AoxA333BCozQjkBHICOUO3QWKWqFpZPj+Hx24myaJmdWluUZrgK2uhqAU9d19M4nxCdcDTyAPXAEAtAjRwG3SRSZaKFyMlXcU7EHmG9NuQBiQvwY4pEkjkV1I1N1dMs2yOceFQcFcYVs98Enlf8seswVVZ2vkKzzYDPf9Yh6gVxJrM1sKfpnPrRBtwtidrqqIxfzJavgpra2wVHF7Oxm5KTopeNOb3Kzdf9YI/Ve41AgLCorWWjNwX7jLcAA6PZY+K5csvcAAAAASUVORK5CYII=",rectSelect:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQzOTE3NDhBNTcwRjExRTc5RUY2ODcwNEI4Q0FGRkFDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQzOTE3NDhCNTcwRjExRTc5RUY2ODcwNEI4Q0FGRkFDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDM5MTc0ODg1NzBGMTFFNzlFRjY4NzA0QjhDQUZGQUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDM5MTc0ODk1NzBGMTFFNzlFRjY4NzA0QjhDQUZGQUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6R9BDMAAAArElEQVR42mKJjo6ewcDAsAqIqxkg4CYQZwFxERB7Q8W2AnEfEE8DYnWoWCsQhzECDTgCZNgwkAeOMAEJdgbyATsTkjPJAd5MDBQCJmgAkQu2ggz4QYEBP0AGvKfAgPcgA/woMMAPZIArBQa4ggyYTIEBk0EGfKPAgG8gA05SYMBJkAGZFBiQCTKglAIDyliARAcQM0Np5OwK4u8G4k1AzA0Vi4DSK6C0GUCAAQBwCB0LUYfbdgAAAABJRU5ErkJggg==",redo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCMzQxNEUxNTcwRjExRTdCNDAwRjMxQkE0REFBMzgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCMzQxNEUyNTcwRjExRTdCNDAwRjMxQkE0REFBMzgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUIzNDE0REY1NzBGMTFFN0I0MDBGMzFCQTREQUEzODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzNDE0RTA1NzBGMTFFN0I0MDBGMzFCQTREQUEzODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6skuj7AAAB4klEQVR42pRTO0hCURg+93pUVDSQMCpu0mOKoCJoiZaGQBwsArdwybU5mhtqaXFodQganRJaagoSgggaBXFTRAffb/v+2z1ysJvaDx/n/f3f/zhKOBxmFouFWa1WpigKGwwGjKxUKrFCoaDvkblcrqimaXPdbvfK6XTqe9Vqlamqqt/hzMQajQbz+XzM7/cP9zqdTrBSqYTgyI+HUdkpmSkRKWy1Wjok+4L3UK/XO2s2mzsgOsG9jDhU2WSbBRaBBd0z56zdbm+D7BPEgXGKduEtiHEP0IB5wA5Y6ZDCobzA3FCXxHiB9c2QCBeW+/3+LcYj4+JUBqfXCPGAGwlbx/gGuNk/jBxCFSsWi2kONqzV5B8kXaBmYIa6QD5EBDUQnebz+YRqs9nCVFLp/B24BA6BVThagvwVzOMyid1u/8jlcpvopYTD4WAcRAEqM1R18CgC0gcjdj2xoiGp/yQl9xgiUINp/6dq9Xp9i7oarPs4SI30jp4DoxgbRIqH50BM5Eg4UnFxDURPXq83hW/AhAfRtbQmQO0dcIytmFni0V88DRXxbDYryjlaXtE7j+MqSOV/LpfLGQpB9A8p8Hg8lFA5tF9ORhW94FHV7L/Jn3KScfzqVxIh/2aaY39IOI19CzAADFHqMkHXRIUAAAAASUVORK5CYII=",redo_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0RkNBRTk0NTdDNjExRTc5MjRCQ0VDODNCNEE2RkUxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY0RkNBRTk1NTdDNjExRTc5MjRCQ0VDODNCNEE2RkUxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjRGQ0FFOTI1N0M2MTFFNzkyNEJDRUM4M0I0QTZGRTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjRGQ0FFOTM1N0M2MTFFNzkyNEJDRUM4M0I0QTZGRTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4VmVSjAAAB5UlEQVR42pRTPUsDQRCdu2y+CUlAEBU9olYiqI2N2FgIIYVWdpLGtNZibaGNjYWNRQrBUhsDNlodGBBFsEziLwiE5C6fJvHNkQ0xriEODLN7N+/tzOxbzTRN0jSN2u026brueK1Wo2g0SqFQiKQ1Go1UsVicxPKE/3W7XSqVSuR2ux28IIV5PB6qVCoEIHU6HSfR5XIlfD7fTrPZNLBO8Xcmk6ariDhJCEGBQICCwaATvV7vBwNR8YFt26/VajXGOSOJhmwCBDPwad4wGK2v1ev1d1QWl0mq1tZxagLADaxn4VNozYvo5p9cFQh4GcJcM4hHID/rEyE5hqRztLXLMxnXgDnF3LZEb7ME8DOfQv8wro4P9fv9OYENOtEziCqSL7jd8zA8OERio839cDh8q+Oq99CrMQB+gR/Dt+EL8DkA5hHTgycA8xaJRFYgidtWq0UCZcUty+LbaAGQRLxhcSrmZPWvWtevkZdE7LCAnVuDOlfByjexiXKzrCHVHGDLvRs7BPhCClKKUqCsRUj+wTCMLLRB+XyeZEWyKgYBfAnQFbZ3qsELzCgHlaYLhYKUwQ/pD8jj/q9/DhFOeoTkP8vlsvOBxdZ7WzQK+IsIZT+hKktRwdgk8omYPAbVw5WE49i3AAMAk9zikS8F23EAAAAASUVORK5CYII=",ring3:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2OEUzNDVENTcwRDExRTdBNEYyQ0FCODIxQjc5QUE4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2OEUzNDVFNTcwRDExRTdBNEYyQ0FCODIxQjc5QUE4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTY4RTM0NUI1NzBEMTFFN0E0RjJDQUI4MjFCNzlBQTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTY4RTM0NUM1NzBEMTFFN0E0RjJDQUI4MjFCNzlBQTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4iCsRMAAABFUlEQVR42mKMjo5mIAJ4Q+mthBSyEGEYOxD3Q9l7gPgnPsVMRBhYCMRXobiQUhdKA3ExEJtB+aeAeDEQPyXXhV1APB2I70PxdKgYWV62BWJrIO5AEuuAitmSaiAzEE8C4lIg/oYk/g0qNgmqhmgD04D4PRCvxiK3GiqXRmykCANxPRC74AmOPGgSWgXEbwm5sBmIVwLxFTwGXoGqaSbkQgMgDgRiTSLSJ8gX14F4FhBfwOZCRmhg1wLxByIM/ABVOwmqF8PASCDmBOJ5DMSDeVA9kegG8gBxJxDnAvE/Egz8B9XTCTUDbmA1EO8F4hMMpIMTUL3VsEhRBeJkINZjIB9UAPElUBCwQIsmUSB+zkA56AcIMABG3jXlyZnR7AAAAABJRU5ErkJggg==",ring4:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA0MzRDOTVFNTcwRjExRTc5MTdEREZGRjMwM0E3OUM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA0MzRDOTVGNTcwRjExRTc5MTdEREZGRjMwM0E3OUM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDQzNEM5NUM1NzBGMTFFNzkxN0RERkZGMzAzQTc5QzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDQzNEM5NUQ1NzBGMTFFNzkxN0RERkZGMzAzQTc5QzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6EdNDxAAABBUlEQVR42qSU2Q2DMAyGkypTtNPADL0kdgFKO0lVeiwB20CngNqSU1lRLoKl/4EQf7Id27IoChFhNWgCNaGLKhJ2Bkn6btYANSyn757AlxQgOp1AGWiks4xB6yVAGwxtoLOOZRAEIuxogXFoTlCMtPIBseAHchg95eBQwaEqAWam33OoMmB44SvibWQ1xfRLBF5B+wQYh/7T34Bm+iHFOkP/GSMsCdotqB+3Lfl+sI7KeKXe0y4+2Fv3JH/liiKNhWrYi4+issyujjSn1nDB8M7TnGvlWAi8poMD1to2j2+WhQW6o7PWtcZC24bXVBLsQb2btA8bYw/eQbe1G1tDpxAM7SfAAPJtTKj2DEeYAAAAAElFTkSuQmCC",ring5:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4OTRCQTRFNTcwRDExRTc4QjczQTJGOTFBNjU0M0M3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4OTRCQTRGNTcwRDExRTc4QjczQTJGOTFBNjU0M0M3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTg5NEJBNEM1NzBEMTFFNzhCNzNBMkY5MUE2NTQzQzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTg5NEJBNEQ1NzBEMTFFNzhCNzNBMkY5MUE2NTQzQzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz56vjcuAAABUklEQVR42qTUOy8EURjG8TEkOu0Sl7AFqgkFOvpNZFkKyX4Cnc5nkOhUGpWCZK3EilssKpdC+AiUim0oJksW/zd5Nhkye5mZN/kVu+ecZ85tpiOfzzstqgfb+MYq3pt1dluEzeAZH/DxhOlmAzo9z2v0oHVsYQ0bOMIbdtV+h592ZtiHC8xjCoVA275mmMU5elsFZrSse8zhNeSBL5jFg7YjE7bkbmxqmXZKOzqERmVtV3hU3yHcoGYzHMUt0phQQ7t1rTFp7emYBZ6ghAVUnOhV0VjLOLbAMqphJxahbOynHaarU8w5yWsJRVd7NoLhBGG2h4OWZYFfurRJZplTRq1+Dw+wnHC5heDFvsQ4+mOEDWhsORhY1fVZjLnckk75z6tXjLlsCzwMe5dPMYlUhLCU3pSzsEBfX5lshMCsxvj1P7r+dbCT2tMXut1aCf74FWAAMFRKSdcbGUQAAAAASUVORK5CYII=",ring6:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAVCAYAAABLy77vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4MkMwNTM1NTcwRDExRTdBNEMxOEUwM0M0RjkyNTg0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4MkMwNTM2NTcwRDExRTdBNEMxOEUwM0M0RjkyNTg0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTgyQzA1MzM1NzBEMTFFN0E0QzE4RTAzQzRGOTI1ODQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTgyQzA1MzQ1NzBEMTFFN0E0QzE4RTAzQzRGOTI1ODQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60H73GAAABLElEQVR42uzUP0tCURjH8esltwaXuLlIQ0R/B8EQqncRDXWrobaCoPIlREbQ4iZRbyGhN9AkBk0ORdTuKKiz9n3gF1wuHi9CWz7wATnnOc/1ir+TCsPQG1HzuEUa5/h2NfqO9WlcoYE3vOAVN9pLHJTCHj6RwxqucYdVzGjvQL1DBxVQxxm2cYhWZN8+H2vvRL3r0UFZPKCGe2zolVzVUI/1PunsrA16RxuLeETfS66Bepd09sMGZVBCzxu/ujqb8b0/qsmgfz/I/ohlV6oT6veW6NmgBQRK9X481Y6ynl2LBuZshq9UHynVp0p1YcSQvHousKOHt/xYqjeV6ppSHUT2A609q6cYvSXiP3ZfqV5Wqpu4lKbWVobdElOOr99RqquoaG0LX673/RFgAKyiPynWx7mzAAAAAElFTkSuQmCC",ring7:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAzQ0Q3RUE3NTcwRjExRTdCNTBFOUVCQUI2QTEwQTdEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAzQ0Q3RUE4NTcwRjExRTdCNTBFOUVCQUI2QTEwQTdEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDNDRDdFQTU1NzBGMTFFN0I1MEU5RUJBQjZBMTBBN0QiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDNDRDdFQTY1NzBGMTFFN0I1MEU5RUJBQjZBMTBBN0QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7b0oGhAAABi0lEQVR42qzVzysEcRjH8ZnlJC7kH3AQJUpkFyclISVRahxwpjhx8CNy4MBFamuLk5L8ODsoBz/Gr/wBpBxJu7koB8v7qWc0O2F2d+apV7M1O5/5fp/5zndMy7KMLKoN8/jEIk78Lij0Od+BWZRhCQWI4wULOM41uBNzKNHAXaT13DYGsY6UzuDIGxBx/TbRgyusYA212HGFGtoOCa/R8FXY6PprxDKtUh3BIb582pTWm8ps+rCMSbS7g8tRp8e0kVvJ//d0MCkdXNJpRRSXeYQanhZdo8nd4xbtU9A610H+BMdwEVJwzAmWPtfragha0s5GWe8RfWhPeAshOIlnWYoR7UkY/XVKWhp1gs9CDLad4OaQHlzGA5Tge4yEGDyMB1kRQ7qwbX17glQ/etEgI37FgG6HlQFCq7Ch4SnnBbnBDPZRlEdoMQ4wjTvvtpnQliTyCN7EKbZ+24+lxlCN8RxCJ1Dhvcb7BXnXHsmSudXjf9WKKX0XPvw+TY8Y1amZWWyV3bolZNS3AAMAJDdVSPM29OoAAAAASUVORK5CYII=",ring8:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAzNjVGMUQwNTcwRjExRTc5OTE3ODY2RDk2NEMyOTMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAzNjVGMUQxNTcwRjExRTc5OTE3ODY2RDk2NEMyOTMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDM2NUYxQ0U1NzBGMTFFNzk5MTc4NjZEOTY0QzI5MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDM2NUYxQ0Y1NzBGMTFFNzk5MTc4NjZEOTY0QzI5MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5n9BvPAAABgElEQVR42qzUzSsEcRzH8bEtFw5ODoqwW5wdSBxE5CJyHeRhk5KHQnGRm4fDHjwdtrUeQjgIOSkPq1w5KDmQp+IPoCiS92/7bk3TzLZmfOt1md35zO/xm6Lrupag0tGKXtwjgn182b3gsXmeiyk8oAY92JDgZ0yjKJnAMmzjAl6UoAknWEclyvGDI0RlBpaBzdjEGfIxKNM01x1GkIcgxuVDsfIa/tiFfuxqyZVaxz1kYQCnxhEWwo8D7e+1JkvlNwZ2YgXfDgI/EEJfPDBNFnZRc14LaEGmCqzHNW5dBL7iEAG1KQGENfc1g1U1wgI8/UNgNh5V4JzcALcVm6kKXEKVXDenpQ55MXZU4DuWXY6yQ+76Z/wczqINGQ7CPPJu2Hiw1aYco91BYB1ecGVuDvMYQoPpjifqld2yqSGrbqO6zBiG1fZjAj6LoBxMSieqlVlF7Pqhus8VqEYqzmUpdHm+hUv5rVR6ZdQYYDe1G5n+KBplFD6Znjpvb3br8CvAAN/yTVGDaypBAAAAAElFTkSuQmCC",ringBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFMTgyMjIyNTcwRTExRTdCNDMzQjEwMDYyMkY1RTM1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFMTgyMjIzNTcwRTExRTdCNDMzQjEwMDYyMkY1RTM1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0UxODIyMjA1NzBFMTFFN0I0MzNCMTAwNjIyRjVFMzUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0UxODIyMjE1NzBFMTFFN0I0MzNCMTAwNjIyRjVFMzUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5MlTSkAAABhklEQVR42qyUTU6DQBiGacMFegWuQJfWnyi6txa1YOKqTVyyoUdoN+zbrWgMVfcK/nbdI4hH6BHwm+Sd5MsEKLaQPCHzTXl4Z/g6DcdxtJquE+KauAzDUNNrkh4Tt0RXFvSapHfEKbGQxWYN0lCVbpvYQtKuKt0m8RFxD+l33g8aG3TFIfFAnBFf7EXJNomLpBHhbyo+gLTHpD6kLWLM5c1/SIXAJj5ZfYAtaBMpl1cR70N6TnwocytshQmxXIW5TrxHzIkL4h01Ay+aEkPUppDPsC1GWR/vEo+QvrH6GClbuFu4D4AIMtdLpE/iQCF+kTJF0h6Syg8WQW5ga0ZFeyyT9oklEQdB8IMHZ3jYR7IRe27Ix6q4A6krhJBMMBcjtY20MeRt9uFy+7iD5QvpK6unnudZTCblK9YZWpF4p0Dag6ylJE2LknKxkD4TV4rURBulWHKiJC29hPgG0hdlbgmZwf6qybqk/Dzul8zbaKcxxpOqB0sjy7LcCdd1+TDCCiqL/wQYAOtKajJXqgV0AAAAAElFTkSuQmCC",ringN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyRkNCMEE1NTcwRjExRTdBMDRDRDU4NTMzM0I5REY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyRkNCMEE2NTcwRjExRTdBMDRDRDU4NTMzM0I5REY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDJGQ0IwQTM1NzBGMTFFN0EwNENENTg1MzMzQjlERjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDJGQ0IwQTQ1NzBGMTFFN0EwNENENTg1MzMzQjlERjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4KvvIwAAABjElEQVR42tTVMSiEYRzH8Xvfey0kdTLJRFcmRZHCwCCDUjaHlBjYGKUMJpOSEMpwJaVYpGSRRQYsMhjIIiJ1l64Od75//a/e3o573OsGT32Ge+/p9z7v/3n+72tFIpFAHqMUzZhEHHO4QDIzwckjtAHjqMU8QljFATZwKZPsXwRWYgoLeEQbtrCEdlRgDb2yYFlxp94tnSN4BtUYxpXnv2cMoRXrOJcVbxus3EI5JrKEuscx3mQPJPDOsBRJDc81UviwAwUa/zPY5CyndQMtg7lBmWfrZOmgpm9uUowWVOHdIDgmm+doJ/VhEYdYxi3KUI9B1CCKE4PgDiQc7fUV7GIWm9jRsDoNHJPJhuV99b4rHjCCRkzjCKM/BBTpE8nCXnQR0hxn8jtbTU/RbbCykHat7METwnp9X0rr57hJh93oDa7Rjz10SZ0dn8dVWvwePXpiYrp5YfsP+kDKUOK6JnUO+g1O6yY6rg+H9EWqEC1t5ftp8pbC8oR+8RMc11dBQs9x5qgOyIf1U4ABAPMgTZZcpU1BAAAAAElFTkSuQmCC",rotate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU1MTY3MTkyNjlDQjExRTc5QUM5RDQ1RTdGMEE2RkJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU1MTY3MTkzNjlDQjExRTc5QUM5RDQ1RTdGMEE2RkJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTUxNjcxOTA2OUNCMTFFNzlBQzlENDVFN0YwQTZGQkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTUxNjcxOTE2OUNCMTFFNzlBQzlENDVFN0YwQTZGQkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6j0vYCAAACqUlEQVR42myUy2tTURDGT25vH2mSpo1VWmwpmhp0J24aFSluYxduAq4E91YQSqwLqQtRiivBf0EXLiSCi64UBB9UkApxoRUUTEixqSUhhjZPf9/lnhqLB4aZOTPzzevcG0in06avr8+4rms6nY6p1+uerCPdnpGREZPNZmU7m0qlbubz+Tlrc83/z2loFor7+vdKpbKSTCbXkR8hTw0PD58PBAIv/wHxs17AcMtxnBkpzWbToBtfvhMOh0uIo6oW/4VWq/UXRI7tdvs2hiW1sru7W0N+3t/f/wFH2Sehy41GY9T6c1LwCSjv+lVkYEuSCVze2Ni4R0A5kUgYSldQsKenJ41fpLtnEs5T9Q0H4QT6sp9hHlrEUFY2tajK0N8iH9o/bKrP0OZBF4e7fjtPcXgIN91zkk4V15APQMeRJ7g7gnkamkI+p3Yu+uiL4iLNQcF2qPBXtgKSej6yUUUMvWEH+wNF6/MAYrHY3pvZNwPvTWlOAoN+efd+K1/ZiOmeg+SdnR214pGCarWa2d7eNltbW2ZsbMxEo1HvGdjtJBQk6u3t3WvJAihBuVw21WrVq86vYga/NjHvXZx/E5gPhUJeoAIUqLJZsweqbKzeRCIRO6co/J0AsYUBdDTppALkXCgUTKlU8rLZDQWDQU9WG5IHBwczSoStwHXDQdmkguuAvOFiUlvp3ow9mo/aka1YLP7Ev0SVVwGsO2qBM0dmfXS5gYGBabVi34sdttoiYBZ+he08APQoMVnZXT/jJRxfQ8fGx8djet60dgb+jU19UZsA3OcDXFBF8Xj8E3xV9wJ3/Go3ATsFnURepYpnAKywws+5XG55bW3NDA0NLWhODP4xAOv2K9ciuv8nVeijBozzE+gwcpytddQem9DvIUzQC2XXnX3ZfwQYANRiocv2XamiAAAAAElFTkSuQmCC",S:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM4RUE2Q0I2NTcwQzExRTdCRTVGQTgzOUI0QzUzMjIyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM4RUE2Q0I3NTcwQzExRTdCRTVGQTgzOUI0QzUzMjIyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzhFQTZDQjQ1NzBDMTFFN0JFNUZBODM5QjRDNTMyMjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzhFQTZDQjU1NzBDMTFFN0JFNUZBODM5QjRDNTMyMjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7lNkxSAAAAuElEQVR42nxQ2w3CMBC7dANWaD7hr4xAR6AjpCOUEegIYYSwAiPAH78wAh0h2MiRIpA4ybnk4vM9XM7ZaOO4SXA7YAUswIXhGO9LI8IVbg+cAA/MSmDcXAjrFv7BTGT1JkMiFY1KJPHxUgnPoH2ZY0/IirgHxVhqrsmuaryjOtDpj40Pn3KFVPXSiszGnyD5H1JFTpp4KCs42h/jdCRMlAYOwE1DTKVcg4MfvVaQtDOSzsCWSm8BBgCR7ky3EkdDxQAAAABJRU5ErkJggg==",setting:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIyMzg5MEU3NTg3QTExRTc4NjJDQUE1OTIzODRDOENCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIyMzg5MEU4NTg3QTExRTc4NjJDQUE1OTIzODRDOENCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjIzODkwRTU1ODdBMTFFNzg2MkNBQTU5MjM4NEM4Q0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjIzODkwRTY1ODdBMTFFNzg2MkNBQTU5MjM4NEM4Q0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5gWHD/AAADaUlEQVR42lSUXUiTURjHz9696qab+bVSkDTQ6AvTQCrSiqIvjAg1MRDqIojSIIVKQ7rwQuhCK6Kyy6BAumhFBiXZRdrNIqYhE0mwpmuk+YHOOed0/Z4XFzU4O89zzvP8///znOe8ppqaGhWJRJSmaUrXdbW0tGTMZrNZhcPhJuzDq6urZubXcXFx7bK/srJi7EuexEajUaWp/3/7CbAFg0E1OzurbDZbAUn1JpPpOvMuAZFkfBvJpQIQ+/0FgrWK6SmsThJKA4HASVQWLi8vfyPBw14RAEdY24vtZO0ZpGcETIZuoGnaAYIekbSB+WBaWlo7zPOLi4tNqampIYnBb4bgBua6UCjUbLVaP2D7if9F/kcDCGcE6V9APoSyblT1sRySugEeE+0kzsm+DSUBxnFy+okZkU19YWFBORwOH0Wrm5ubewlzCYDTgAlIPInnAYiS+IQ5zAhYLBYHIG3Yp8D4aVyW/MkNxMfHb01KSvJT4JD4BJXC1oe9m3kPfh+jhCE3uwjABEffJIqNGiUmJt6ksAXz8/ObBwYGrpEYLC4uTp+ZmWmfmppqzc3NdUrw6OhoeWZm5h2IjuFPM9ogb4NkGNB+Hecc8iuZBz0eTzQrK0txrGoC+u12u5NeMnqF9Resn+AE1ah6iIou1ruZtzM6dUCkVkn0TlxjY2NYEr1erxxNWsIAkXqJv9YmCgLD52iSrMcasgOjFgWfudaja8mdMBdS/PKEhAQDwO/3V1KbnbInZIwyll0A1lKODlNVVVWMTRqwAfaT2EG5PdbbCBqUTW5pB34D5icIbcS+gaSFfuqhzkrPzs5WYvh8vh8wridBJATllgjeh9oLUmyUXERtREiTk5MtEKSPjY35e3t7VU5OjtIEhIQcAu+73e5Lk5OTMwRZKb7iJiMTExMdtEUHSiNybJTaIfpN99ex9pixcXx8XOlDQ0NytDwSt+Xl5bmQW0bCLcAXmO9Ri1eiAqLTJF1BnZ0mbkHp+5SUlC0VFRX52F7jiWD0kFiXkZExTOAQoFdJdKD2NsFvOa4Zpa0A1hMzDXgL4wFEl7m5HoNI3tPaw30OyHfpH9ywHAP7LCD5BFoBdrP+TtblabBXhACXXL0BFHuRRi9omktsbsX4eJH8Ffcu7GaUdQmpfJP4yUt2/fsh+yPAAFE+9RuLTINtAAAAAElFTkSuQmCC",singleBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCMUNERUIxNTcwRDExRTc4NzlBRUZGQTZGQzVDOTlDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCMUNERUIyNTcwRDExRTc4NzlBRUZGQTZGQzVDOTlDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUIxQ0RFQUY1NzBEMTFFNzg3OUFFRkZBNkZDNUM5OUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUIxQ0RFQjA1NzBEMTFFNzg3OUFFRkZBNkZDNUM5OUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6o+fvwAAAAzUlEQVR42qzUyQrCMBSFYS19LEec9tY5Cq59La2KWvfO04t5AveCBJsmaQL/pg0ft6VpUQhR8LQ6aB56wtpoiaLQExajLvoEHrAVY/JCnglbNFnEmFyuEzbRmrD37w0XsIE2qKdiLqDEtoS9/m2wAeuE9dMwG1BiOzRAT91GE7BG2BA9sjZngVW0RyN0N3kUHVhBB8Jupi860GAJGttgaSBPNkFX249UBcuETdHF5QgFCpYQdnY94AyWfGAMSuyIZnkxBheEnXz8ur8CDACgtSagjDM4LwAAAABJRU5ErkJggg==",singleOrAromaticBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdGQzIxNjg2NTcwRTExRTdCMTFCRDIxMDM4M0FGRUZGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdGQzIxNjg3NTcwRTExRTdCMTFCRDIxMDM4M0FGRUZGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0ZDMjE2ODQ1NzBFMTFFN0IxMUJEMjEwMzgzQUZFRkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZDMjE2ODU1NzBFMTFFN0IxMUJEMjEwMzgzQUZFRkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5SSqwGAAABgUlEQVR42rSVPUvDQBjHNUj3ztKlfgGh2USsYmYFtQjZY9FBcNGP0Ey6ODRfwJfi4KzgoiBowC/QuLhnFwf/D/wPjjOxzfVy8KN5vV+fl8vNh2E4V9Pogj7Yl5OFGiXXYFdd8GqWPNclKpKsgyuXotUCSQNcgsRljT7BNnjlucz9DZbl12VEX5pkA7xpsplqdAqiknvH4AT8zNoMHTAAQzCmtKnd3wJP+gu2opQ8ghGlY4o7RS9UFW3y38tIOGkbZCDmce5ClFHUZiQqjQFFAZ9xIoqZqpzHzbIoqopUwQc8VynaY1SZ0QhWoiHrkrDwESeNmUKR+GXpqiJSEongluJ3StN/1tGfMekTNDLqIZM/MKqDKsWdFNEZWOKkOSNIp0nVNKIVsGh0WsS0SQp7NivcFK2BO9AyrgeMzLeJxhSJ5AbsaF9hcw1ZD69A8qLtjPeu9hCP268pkW48BxeuRDLhoSFpcLPy9f3ERUQ9I10flDmTFHWdtPGR2n5djl8BBgDtkVqoPcrokgAAAABJRU5ErkJggg==",singleOrDoubleBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgwMkMxNTMwNTcwRTExRTc4QTZCRDk0MDUyMkI0NkI3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgwMkMxNTMxNTcwRTExRTc4QTZCRDk0MDUyMkI0NkI3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODAyQzE1MkU1NzBFMTFFNzhBNkJEOTQwNTIyQjQ2QjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODAyQzE1MkY1NzBFMTFFNzhBNkJEOTQwNTIyQjQ2QjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Sr1RAAAABJ0lEQVR42qSSsWoCURBF1yVoSkvzARIbmzSW+g0x3WIfULBJwDofoAmkil2a7DZ2YqEkpFAs/AN/YSGBNCLo5g7MC8PwwFly4SA+9OzbuVOIoij4Z1qgG+b4QwUk4FxJ3sCjVXQBPsAa7JTkBizPjJJ38AJGfFYEz6ANVnRgEb0qCWUPrvgzsIquwY/nnCRV8AVSy4ycpKDOL/mVG/TFOuwm+BSyGliAezD1iWiwc1BWFcdgADKWzFkSux+Fak/oqjPwrSr+awc5gL6UyGFXeE/GYCge8qAklC0T+ERPSkI58mwyyxCdqCN3QiTjdo6+W8iEYicoJU/F1E791I1C1c6G119K7sDE+mqyHbexTpJYZ+SrmNb+1i2bJfRqPU/FaR4J5VeAAQCkwkPJW4wscQAAAABJRU5ErkJggg==",Star:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM4MDQyM0JGNTcwQzExRTdCOTg0RDJBQjY5QjhDQUU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM4MDQyM0MwNTcwQzExRTdCOTg0RDJBQjY5QjhDQUU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzgwNDIzQkQ1NzBDMTFFN0I5ODREMkFCNjlCOENBRTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzgwNDIzQkU1NzBDMTFFN0I5ODREMkFCNjlCOENBRTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5CagkQAAAAfUlEQVR42mL4//8/AwxHR0cLArESshgTAyroAOK7MTExgjABdAUoAKSQEWhkGpA9E4jfQ8VBuu9BaQamJUuWzALSnUiSIKAExGeBOIwR5BCocSD7y6EK3gM1CsHdAJQE6UiDGg0yTRAotgrZkUpQN4QBdVYA6VlQRYIAAQYA3EcyzbgSYSMAAAAASUVORK5CYII=",
subSymbol:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUzRTc4M0RDNTcwRjExRTdCRDk2OTQzMkUyRjlFMTY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUzRTc4M0RENTcwRjExRTdCRDk2OTQzMkUyRjlFMTY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTNFNzgzREE1NzBGMTFFN0JEOTY5NDMyRTJGOUUxNjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTNFNzgzREI1NzBGMTFFN0JEOTY5NDMyRTJGOUUxNjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7OexWOAAAA+klEQVR42mKMjo5mwAM4gLgdiDlBHBsbm3QQfeTIkZlQ+e9MDBQCFgLyP4C4EImfga4A2QVlQHwaCacS4wKQATxAvBiI24CYDYgPAbEgEE8B4glolmA1IBmIY6CK9YG4GIjVoa7IB2IFmGJg4GE1IAWIXwHxImioc0LF9wHxfyD2Q9aAbggoEOWBmBGIpwExH1T8DxArQsWNCcUCOxC/B+KrUBcwQDWeAeKvUJfgNQAUVZ+BOJ2cdADy61wgVgHifhxqGAm5oAuI3YG4AIiVgXgtEAsAsRcQ/wTicFCSxWfACyB2BuIaIM4GYnMg/gfE76AB+xOfCwACDACY4y+gM5aT6wAAAABJRU5ErkJggg==",subSymbol_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBDOEI4MUM4ODY0NjExRTc5OTM1ODFBMTlFRkZBRkRBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBDOEI4MUM5ODY0NjExRTc5OTM1ODFBMTlFRkZBRkRBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEM4QjgxQzY4NjQ2MTFFNzk5MzU4MUExOUVGRkFGREEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEM4QjgxQzc4NjQ2MTFFNzk5MzU4MUExOUVGRkFGREEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7iAdY8AAAAzklEQVR42mL8//8/Az5w7NgxvAqYGCgEjIRcQAiwQJ2pBKRmArExEAsC8XsgnmVlZVVByACmHz9+gJxwF6q5E4hNgPgsEJcDDd5N0AvPnzz5f+/hQxBbGWjjPaTAA2l2AWJXoPgenC6Aal6NrBkKYJpcCIYBEITiiS5BYgxYrSQvH4pNAdCFFcQYYCwhLc2ITQFQHH8sAG0G0UpAL6SRlZC+f//+/9y5czD+amhUgtIFyEAlYOAq4/UCBwcHI1RDBzTEQ6EJ6R7UMLwAIMAAZc5FLbwCD7MAAAAASUVORK5CYII=",temp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAICAYAAADjoT9jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MjkyRThENTcwRDExRTc5NDE2OTFFRDE2MEIzRUQ4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MjkyRThFNTcwRDExRTc5NDE2OTFFRDE2MEIzRUQ4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyOTJFOEI1NzBEMTFFNzk0MTY5MUVEMTYwQjNFRDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyOTJFOEM1NzBEMTFFNzk0MTY5MUVEMTYwQjNFRDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz79my9+AAABF0lEQVR42rRSPWuDUBQ1+hSjiEoHh1bc3RwzuYb+Bf9H6a/IGvon8h8ydeoqGBwCthIQIyJa8KPtPRAhiySF5IC8e8997x7veW/meZ5vWdaGMSbPCVVVFU3T7GzbXnA3AO+67vaBkOf5puu6HvHYnLi8LMu6bdsf5FEUvSAGR+lvXdct4lPOpWkajnWsYRj6/JRyHMcrWZY1XddVTJUkyftYA0faR8IHYvoUNEMNe8EVRfFlGMZ6UkBRlKUoigxTQEiSpKdrLOn7vsE6DEMlCII2KUB27b8JsExVVYnuyf6P93TGIZs+2dQGx3Ge4SV8pr/qsix7I/pwqbFpmo84R49GJLteZ0EQcLcCLhm2nE/Lc3fGnwADADGAnD3dNWCzAAAAAElFTkSuQmCC",text:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASCAYAAACEnoQPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk1QzI3NDlENTcwRDExRTdBRDhDQkQ0MEQ5MjNBQzdBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk1QzI3NDlFNTcwRDExRTdBRDhDQkQ0MEQ5MjNBQzdBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTVDMjc0OUI1NzBEMTFFN0FEOENCRDQwRDkyM0FDN0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTVDMjc0OUM1NzBEMTFFN0FEOENCRDQwRDkyM0FDN0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B1FQyAAAAh0lEQVR42mKMjo7ezcDA4MJAOghjARJKUM4eIF6NJDkTSt8D4k4s4oIsSIIgjbNwaEYWTwNiY5BmJiTBs0Q69x6MwQJ1LimaQa54D1IP0pxOYkDtgVnIxEABGNU8cjUrQRM+DAjCMgIhzaC8fReIzyCJGUP574A4FFkxC5rmCmw24Mp5AAEGAKuIGNYzK5oMAAAAAElFTkSuQmCC",threeBond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgwOTNFNUM5NTcwRTExRTc5NTI0ODE1NjA5NUM1MUM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgwOTNFNUNBNTcwRTExRTc5NTI0ODE1NjA5NUM1MUM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODA5M0U1Qzc1NzBFMTFFNzk1MjQ4MTU2MDk1QzUxQzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODA5M0U1Qzg1NzBFMTFFNzk1MjQ4MTU2MDk1QzUxQzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6JAvFVAAABkElEQVR42qzVd0/CQBzGcWx4SW7FLQ5URHDiwvGf78gNGPfCgeLe80X5/JKnyeXS1ra0yTcECJ/rHde2Ip1OhwI64iiBZtUPwwHhA2gZ9epfGAHhKyiGflGU7wOZQb+C/6BOlEfJIAboQ6t8NfEt4i8oIv+HUQa+xhl8ow7iKeKN6BDt+plBTMG/UDva5pk/Ez9CU6jkdQayS9b5x5r4jg1+7XUXCb7B/f6J2oiniDfouJcBehT8A7XK+hJ/In6MplXc7S4SPKvhe2jYAr/yeqEJvkn8HbUQH0GPqN4J/2+AbuIJ4s1on/gD8RM0Y4c7LZHgOTSI3ogfoFELvOi0BIYNnrXAx9A9qnOLWw3QRXyIeJOC3xE/5S256Gb7hTU8zzV/JS6X+zjxWgW/dHvxGAqe03A58wl0i2pQAWW84OYAUeJJ4hHi8qi7IX6G5tCF1xuXwfVVb7GyLJPEqxX83M9tN8wfhzS8hKqIzvvF9V2U0XBZjgXOwPeh7iJzJpUKXij3gW11oS2hxSBwOf4EGABuj3L9EeQVTgAAAABJRU5ErkJggg==",undo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCOTgwQ0EyNTcwRjExRTc5RjVCRkQ4MzJGOENEMTI2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCOTgwQ0EzNTcwRjExRTc5RjVCRkQ4MzJGOENEMTI2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUI5ODBDQTA1NzBGMTFFNzlGNUJGRDgzMkY4Q0QxMjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUI5ODBDQTE1NzBGMTFFNzlGNUJGRDgzMkY4Q0QxMjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5nJ1UlAAACAklEQVR42oyUS2hTQRSGJ5PJizxWAYOCtKV0UVy0YFfFlVAorhRcScC1C7eFUgqli3bvshsXInThY9NCH+C2iCCIG0HFUihJSAjeJJDHTdLvXGbCpZiagZ+cOzP/P+efcyaRYrGohsOhGgwGKpPJKBmtVktFIpENwjJrezLHd7DP/fZ6vWBvPB4PYq3skEWtdbCx3+/vIbzN3KPw+k3DuCAajap2uz0N4R2fiyLI+K4mHCMhsllFaB+BrDHGZXAb3AEdUL1JSFvPa9g5JKus2AvZeA5+W/wAp2ALzpLsCdvVkI9Y2B1zkPiLgyyYAw8hb/L7Gd57MOXEdK1W+yUVk0wmHULG/uNYLPYN7nwgVC6XX2DrCROtf3Bk7hL8hexLQQTOFpwsbg4Q1DqVSknffCiVSguJROLrNaHXYAby3WQyOUv2K/V6fZ3e+TKqljFTnU7naeBHrJHVT8L7nPQmJNSUinGqx6nnjUbjpNls7hAvwXkGfGlIz/NWtetaW60BcRG8tOnfk3UOCQ6TthDY+C0iD2gZlc/nF8yYy3yF2AXiPSFdL7XM5XI5lU6nzyqVyjFiy2ZcZRD6KBcrJMnYPh1lO15Vq1XFnQX3SHa3zP/KHM6CYsgzUtyT6na77n3+4bF/MpP2jhALhYJyVuWS7fDA5EK+749sub8TG1+C0pUAAwDShyIBu9XK2AAAAABJRU5ErkJggg==",undo_disable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1NzU1MjhDNTdDNjExRTc5MEQ5RDQzMzI1MDNFNUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY1NzU1MjhENTdDNjExRTc5MEQ5RDQzMzI1MDNFNUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU3NTUyOEE1N0M2MTFFNzkwRDlENDMzMjUwM0U1REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU3NTUyOEI1N0M2MTFFNzkwRDlENDMzMjUwM0U1REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4d5CnWAAAB60lEQVR42oxUO0sDQRCe21zeCUknKIiKpBCLCFqJbUCsFKxEsLawsBHERiz8AZY2KUSwkNgo+ACLNCkEQWwEFY1gNAgh79cl8ZvlLizBxw183OzszLczs7OnpVIparfbZBgGhcNh0jSNcrkcORyOLeifRLRPpnQ6HenndDqp2WzKtdvtlntCdRJCMAETc/AObHNst/CX6F1F16lSqQwji2MQTpjme7IpXSJkMlur1Y6gBpnUzKIfxAOw1YEvK/OfRJibG61W6wxkQS7NcgbJCj7PJh6AK+xv4zvVW66WTCbPERDjJtsRyw8HJ0C0juxf2CZ8Pt8TK/81U70UBjKbB+6gj8nSQqHQKgwLaHD5B7Iy8A7kcZjBY8JQDg5CP4VNiEajwbOQAGEU6d72EMXhOAIMwm/U7/fHgE3M0o3lgJghzNWibDbPD/CIeifxPVAyK5k3VkDAq9frvfR4PLsgmgKWkInBgwn7rFDrxsltLJeBNZNo3NrnckAmSzN7dIiDZ0BM+Xw+qv/S0D04viGoyYGq8JpHJBKJEEhS6XT6IpvNTut/XNAJZ6E2l1tgEWUyGelUr9fj6FGfbvcJMAk/2Gq1yqVQqVSS5DxHgUDg2jaRy+WiYrEog/kvoUgBNvtE6jvreQXvsH98CzAA4PoUYxQJfy4AAAAASUVORK5CYII=",X:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM4Nzk5RTg0NTcwQzExRTc5NjQ1QUVFRDA5MDY5NDU3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM4Nzk5RTg1NTcwQzExRTc5NjQ1QUVFRDA5MDY5NDU3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qzg3OTlFODI1NzBDMTFFNzk2NDVBRUVEMDkwNjk0NTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qzg3OTlFODM1NzBDMTFFNzk2NDVBRUVEMDkwNjk0NTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz74DDhPAAAArklEQVR42myQwRWCMBBEAx3QQizBFqQEvCR3SwglYAucc5IStAVLkBYsIc7gRAPKe8uy5M8MS+WcC8aYATXFGI9Gl/f+gtah2iqlxBcPDBa1AzhjPuD5moW1hCf1QT2o97wtThv7XvAIl0WcnT4qAc8MrCB+C9pd460QfyHEMWpPF8Zitj+QYujWbpZ4Q1AF/YIzYhk5ya0rnQjNAMY/S5haqzfFQV6CAsuUlwADALlTQapa+e0fAAAAAElFTkSuQmCC",zoomin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5Q0UxMUYwNTcwRjExRTdCOUJFQzc5MjlBRkFCMTNBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY5Q0UxMUYxNTcwRjExRTdCOUJFQzc5MjlBRkFCMTNBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjlDRTExRUU1NzBGMTFFN0I5QkVDNzkyOUFGQUIxM0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjlDRTExRUY1NzBGMTFFN0I5QkVDNzkyOUFGQUIxM0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Nyej2AAACfUlEQVR42qSTO2hUURCGz969+97FYhXBVKIIKqQRk8IE1FTbKLaLWMbGUvGBEKOQByr2FloFQQtTpomFCmJQCxsRZUXRVVjW7LrZ98vvv5wL17USB4Y558ycf+afMyeUy+VMUIbDoQmHwyabzZputxuNRCKXOD7T6/X2hEIh4zjON/wP2C9Go9GfxWLRbG1tGWcwGJhR7ff7stOu69YBm+dSFZCbJFnG96ndbp8HvMz+JD7T6XSMG4/H/6oIgAmWT1m/o4ITgHxUAvmo0DSbzR3sHxKzmslkTiWTyVU3kUiYUaHkdTJ/5+IBn6po+YKvxP4Yy+cAPSY+7SgwqFQwS0C6UqlMlUol78yC3MWuiXYsFjPpdFp2Bpry3YCFO1rQOcr+mkqlCqhoen1DptD9WqhC9QbbppoXUJ11RlHIepCsLxWszFR0j+Mf6F50YNdrPILZ3Nw0VLTOnRRMHBNUtQB1Lai0yPID2rQ+rb8E/BHvgVqt1uiLveFljjQaDSMfj3FVCfC9J2QfOq04KMmninL4yw78jK/1el3cb0NrO7MxUavVPDDb7EfY+wKR2N7uhOI4gHdC+Xw+2B9vGMnwBLBxjnYB1FGv/DkSgGLsCxeIG8Of8J7fTrJnLeAr9lm0QuBxP4FeSgLAIcxnzndXq9WjfJOBq9fxq7F2AXMBXURnuKThLBP3TL0C/DA6Rh9/0Z9JgDbUFsfnbGUJvQzYPPYK/Cdp6mnovGavpkoLfKuzxGwDcEOFqPHBaVzCeRErkGs6EF34r0BpRXPjN1n/Uz8++G38eVmwIHPY68Hm+00Ojoid9D9EEzgnOqoiCPKv4nL5rW3uLfMf8luAAQAtI3kuCAzcVwAAAABJRU5ErkJggg==",zoomout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5NjVCRkU2NTcwRjExRTdCMzQ0QUIzQzg5Qzg4MjVGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY5NjVCRkU3NTcwRjExRTdCMzQ0QUIzQzg5Qzg4MjVGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Njk2NUJGRTQ1NzBGMTFFN0IzNDRBQjNDODlDODgyNUYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Njk2NUJGRTU1NzBGMTFFN0IzNDRBQjNDODlDODgyNUYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5kr9/qAAACZElEQVR42qSTu4tTQRTGJzeT9waLKIJbiZ3CWoi7hQjqVmkU2yCWa2Op+EBYV2F3RcX/wG4RbNzSZi1UEBe1sLFQIopGQWIS89g8Nom/L9yB8VqJA4dz554z3znfN2dssVg0/hqPxyYej5tCoWAGg0EykUhc5vfZ7e3tfbFYzARB8JX4A/YryWTyZ6VSMa1WywSj0chEbTgcyh+11rYBW+JQA5DbFLlF7GOv17sAeJX9KWKm3+8bm06n/+oIgFk+n/L9jg5OAvJBBRSjQ7O1tbWL/UNy1vP5/OlsNrtuM5mMiS5a3qDyNw7ud1T9BcgPwI/z+RygR+RPWSX6i0MLuKl6vX5QLUsraeNMtFOplBET9vPo0wXoJixstKHzVPySy+XKmGhOdPOXAKUNRXuAvIDqQhBFIekAVV+KjirT8X1+f/eNnMdcgqnVagbhN9jnLGJGxR7irKuMVfj3PlLvsxdPTC6o2+1Gb+wNN3Ok0+kYxbiMayqmmA46mlBSTB0ViVcD+Bln7XZb3O9CaydCzzabzQmYA5LQTvRQ291QnAHwXqxUKv0hopI5+ASwGX7tAaivG5Imiuk7HFiJXcam0TITuEpuokPAV+wLWJ3EE462V/AQxT7h9zYajWM8k5F1w6ZuQr+Mu4itYPMc0HBWyXsmioAfxqbR8Rf6zAG0KVmCyECuYlcAW8Jfhc4cop5Bj9fsJaqsDL1z5OwAcFONSHh/GlcJXsIL5Hr4FDRLa1zAmjTSksjSSS/esTDevCyHIIv4G7747rH6IxKddC1N46LoqAsf5F+X5fDbUNw75j/WbwEGANywbhP6TLHsAAAAAElFTkSuQmCC",themeName:"gray"},ipmd.THEME.gray={DISPLAY_TYPE:"line",BG_COLOR:"#FFFFFF",SCALE:1,ROTATE_ANGLE:0,BOND_LENGTH:40,BOND_WIDTH:2,BOND_A:1.75,BOND_THICKENABLE:!1,TEMPLEAT_BONE_LENGTH:50,LIGHT_DIRECTION:[-.1,-.1,-1],LIGHT_DIF_COLOR:"#999999",LIGHT_SPE_COLOR:"#CCCCCC",PRJ_PERSPECTIVE:!0,PRJ_PERSPECTIVE_ANGLE:45,PRJ_ORTHO_WIDTH:40,PRJ_WH_RATIO:void 0,PRJ_FRONT_CULL:.1,PRJ_BACK_CULL:1e4,CULL_BF:!0,FOG_MODE:0,FOG_COLOR:"#222222",FOG_START:0,FOG_END:1,FOG_DENSITY:1,PPT_COLOR:"#808080",PPT_WIDTH:1.5,ATOM_DISPLAY:!0,ATOM_COLOR:"#222222",ATOM_FONT_SIZE:18,ATOM_IDX_COLOR:"#222222",ATOM_IDX_SIZE:12,ATOM_IDX_R:16,ATOM_IDX_DISPLAY:!1,ATOM_FONT_BOLD:!1,ATOM_FONT_ITALIC:!1,ATOM_CIRCLES:!1,ATOM_CIRCLE_DIA:10,ATOM_CIRCLE_BORDER:1.25,ATOM_CIRCLE_BORDER_COLOR:"#222222",ATOM_LP_COLOR:"#222222",ATOM_LP_DIST:8,ATOM_LP_SPREAD:4,ATOM_LP_DIA:1,ATOM_IMPLICIT_H:!0,ATOM_BLACK_H:!0,ATOM_DISPLAY_ALL_C:!1,ATOM_DISPLAY_ALONE_C:!0,ATOM_DISPLAY_TERMINAL_C:!1,ATOM_SHOW_HIDDEN_C:!0,ATOM_SHOW_ATTR_C:!0,ATOM_DEBUG_LABEL:!1,ATOM_ERRTIP_COLOR:"rgba(255,0,0,0)",ATOM_ERRTIP_F_COLOR:"rgba(255,0,0,.5)",ATOM_ERRTIP_FILL:!0,ATOM_ERRTIP_R:8,ATOM_DPI:50,ATOM_SPHERE_DIA:.8,ATOM_USE_VDW_DIA:!1,ATOM_VDW_MUL:1,ATOM_MATER_AMB_COLOR:"#333333",ATOM_MATER_SPE_COLOR:"#7C7C7C",ATOM_MATER_SHINY:6,ATOM_NON_BONDED:!1,ATOM_DISPLAY_LABELS:!1,ATOM_LONE_STAR:!1,ATOM_PROPS_TYPE:[{key:"element",order:1,stereo:STEREO.none},{key:"query",order:2,stereo:STEREO.none}],ATOM_PROPS_TOPO:[{key:"undefined",altLabel:void 0},{key:"ring",altLabel:"ring"},{key:"chain",altLabel:"chain"}],BOND_DISPLAY:!0,BOND_COLOR:"#222222",BOND_ENDS:"round",BOND_GRADIENT:!1,BOND_SAT_WIDTH:6,BOND_SAT_ANGLE:Math.PI/3,BOND_SYMMETRICAL:!0,BOND_CLEAR_OVERLAPS:!0,BOND_OVERLAP_CLEAR_WIDTH:.5,BOND_ATOM_LABEL_BUFFER:1,BOND_WEDGE_THICKNESS:.22,BOND_WAVY_LEN:5,BOND_HASH_LEN:1,BOND_HASH_PAD:5.6,BOND_HASH_PAD_2:2,BOND_HASH_PAD_3:8,BOND_DOT_WIDTH:2,BOND_LEWIS_STYLE:!1,BOND_FONT_SIZE:12,BOND_FONT_FAMILIES:["TimesNewRoman","Arial","宋体","黑体","微软雅黑"],BOND_SHOW_ORDERS:!1,BOND_DPI:42,BOND_RENDER_LINES:!1,BOND_GAP:.05,BOND_CYLINDER_DIA:.3,BOND_PILL_LAT_DPI:10,BOND_PILL_LONG_DPI:20,BOND_PILL_HEIGHT:.3,BOND_PILL_PAD:.1,BOND_PILL_DIA:.3,BOND_MATER_AMB_COLOR:"#444444",BOND_MATER_SPE_COLOR:"#7C7C7C",BOND_MATER_SHINY:12,BOND_PROPS_TYPE:[{key:"single",order:1,stereo:STEREO.none},{key:"double",order:2,stereo:STEREO.none},{key:"triple",order:3,stereo:STEREO.none},{key:"aromatic",order:1.5,stereo:STEREO.none},{key:"up",order:1,stereo:STEREO.protruding},{key:"down",order:1,stereo:STEREO.recessed},{key:"singleUpDown",order:0,stereo:STEREO.none},{key:"doubleCisTrans",order:0,stereo:STEREO.none},{key:"doubleCisTransUnspec",order:0,stereo:STEREO.none},{key:"singleDouble",order:2.5,stereo:STEREO.ambiguous},{key:"singleAromatic",order:1.5,stereo:STEREO.recessed,altLabel:"S/A"},{key:"doubleAromatic",order:1.5,stereo:STEREO.protruding,altLabel:"D/A"},{key:"any",order:.5,stereo:STEREO.none}],BOND_PROPS_TOPO:[{key:"undefined",altLabel:void 0},{key:"ring",altLabel:"ring"},{key:"chain",altLabel:"chain"}],BOND_PROPS_THICK:[{key:"1.0 pound",value:1},{key:"1.5 pound",value:1.5},{key:"2.0 pound",value:2},{key:"2.5 pound",value:2.5},{key:"3.0 pound",value:3}],PRO_DISPLAY_RIBBON:!0,PRO_DISPLAY_BACKBONE:!1,PRO_BACKBONE_THICKNESS:1.75,PRO_BACKBONE_COLOR:"#CCCCCC",PRO_RIBBON_PAINT:!1,PRO_DISPLAY_PIPE_PLANK:!1,PRO_NORMAL_COLOR:"#CCCCCC",PRO_RESIDUE_COLOR:"none",PRO_PRIMARY_COLOR:"#FF0D0D",PRO_SECONDARY_COLOR:"#FFFF30",PRO_RIBBON_PRIMARY_COLOR:"#00E740",PRO_RIBBON_SECONDARY_COLOR:"#9905FF",PRO_RIBBON_SHEET_COLOR:"#E8BB99",PRO_TUBE_COLOR:"#FF0D0D",PRO_RIBBON_THICKNESS:.2,PRO_TUBE_THICKNESS:.5,PRO_PLANK_SHEET_WIDTH:3.5,PRO_HELIX_DIA:4,PRO_VERTICAL_DPI:10,PRO_HORIZONTAL_DPI:9,PRO_TUBE_DPI:30,PRO_MATER_AMB_COLOR:"#444444",PRO_MATER_SPE_COLOR:"#888888",PRO_MATER_SHINY:32,PRO_POLAR_COLOR:"#C10000",PRO_ACIDITY_COLOR:"#0000FF",PRO_ALKALINE_COLOR:"#FF0000",PRO_NEUTRAL_COLOR:"#773300",NUC_DISPLAY:!0,NUC_COLOR:"#C10000",NUC_TUBE_COLOR:"#CCCCCC",NUC_RESIDUE_COLOR:"none",NUC_TUBE_THICKNESS:1.75,NUC_VERTICAL_DPI:10,NUC_TUBE_DPI:60,NUC_MATER_AMB_COLOR:"#444444",NUC_MATER_SPE_COLOR:"#888888",NUC_MATER_SHINY:32,MACRO_DISPLAY_ATOMS:!1,MACRO_DISPLAY_BONDS:!1,MACRO_ATL_DIST:-1,MACRO_SHOW_WATER:!1,MACRO_COLOR_CHAIN:!1,MACRO_GRADIENT_COLORS:["#0000FF","#00FFFF","#00FF00","#FFFF00","#FF0000"],SURFACES_DISPLAY:!0,SURFACES_STYLE:"Dot",SURFACES_COLOR:"#E9B862",SURFACES_MATER_AMB_COLOR:"#444444",SURFACES_MATER_SPE_COLOR:"#888888",SURFACES_MATER_SHINY:32,PLOT_COLOR:"#222222",PLOT_FILL_COLOR:"#CCCCCC",PLOT_TEXT_COLOR:"#222222",PLOT_WIDTH:1.5,PLOT_R:3,PLOT_SHOW_ITG:!1,PLOT_ITG_COLOR:"#c10000",PLOT_ITG_LINE_WIDTH:1.5,PLOT_SHOW_GRID:!1,PLOT_GRID_COLOR:"#808080",PLOT_GRID_LINE_WIDTH:.5,PLOT_SHOW_Y:!0,PLOT_FLIP_X:!1,TEXT_COLOR:"#222222",TEXT_FONT_SIZE:18,TEXT_FONT_FAMILIES:["TimesNewRoman","Arial","宋体","黑体","微软雅黑"],TEXT_FONT_BOLD:!0,TEXT_FONT_ITALIC:!1,TEXT_FONT_STROKE:!0,TEXT_STROKE_COLOR:"#222222",TEXT_FILL_COLOR:"#CCCCCC",TEXT_LINE_WIDTH:1.5,TEXT_INPUT_FAMILIES:["TimesNewRoman","Arial","宋体","黑体","微软雅黑"],TEXT_INPUT_SIZE:[12,14,16,18,20,24,30,32,36,40],TEXT_INPUT_COLOR:["#222222","#FF0000","#008000","#0000FF","#999999","#800080"],PRMT_COLOR:"#222222",PRMT_F_COLOR:"#CCCCCC",PRMT_A_COLOR:"rgba(0,0,0,.2)",PRMT_AF_COLOR:"#0000FF",PRMT_LINE_WIDTH:1.5,PRMT_A_LINE_WIDTH:5,PRMT_LINE_JOIN:"miter",PRMT_LINE_CAP:"butt",PRMT_ARROW_LENGTH:8,COMPASS_DISPLAY:!1,COMPASS_X_COLOR:"#FF0000",COMPASS_Y_COLOR:"#00FF00",COMPASS_Z_COLOR:"#0000FF",COMPASS_SIZE:50,COMPASS_DPI:10,COMPASS_DISPLAY_TEXT:!0,COMPASS_TYPE:0,MEASURE_UPDATE:!1,MEASURE_ANGLE_BANDS:10,MEASURE_DISPLAY_TEXT:!0,DOT_COLOR:"#222222",BOUND_COLOR:"#0000FF",BOUND_LINE_WIDTH:1.5,BOUND_JOIN:"miter",POINT_R:3,FOCUS_COLOR:"rgba(117, 248, 250, .3)",FOCUS_LINE_WIDTH:1.75,FOCUS_BOND_WIDTH:8,FOCUS_R:9,FOCUS_H_COLOR:"rgba(68, 219, 219, .3)",OVERLAP_COLOR:"#C10000",LASSO_COLOR:"#74F8FA",LASSO_V_COLOR:"#87F5F5",LASSO_V_R:3.5,LASSO_E_COLOR:"rgba(225, 249, 249, .7)",LASSO_E_RWIDTH:25,LASSO_E_RFLAGPAD:8,LASSO_E_TCOLOR:"#222222",LASSO_E_TSIZE:12,LASSO_E_TFAMILY:"微软雅黑",LASSO_GRADIENT:"#75F8FA",LASSO_GRD_END:"#75F8FA",LASSO_R:9,LASSO_LINE_WIDTH:2,LASSO_LINE_DASH:5,LASSO_ROTATE_BUFF:25,COMB_SIZE:8,COMB_COLOR:"#FF02F0",COMB_F_COLOR:"#FF02F0",CTRL_COLOR:"#885110",CTRL_STROKE:"#0000FF",CTRL_COLOR:"#885110",CTRL_SIZE:8,QUERY_COLOR:"#222222",TEMP_COLOR:"#00FF00",TEMP_LINE_WIDTH:1.5,TOUCH_ASIS_COLOR:"#0239FF",TOUCH_ASIS_SIZE:150,TOUCH_ASIS_SCALE:1.2,BRAND_COLOR:"#e4e4e4",BRAND_SIZE:60,BRAND_FAMILIES:"微软雅黑",CR_COLOR:"rgba(0,60,0,.5)",BTN_NORMAL_BGC:"#FFFFFF",BTN_FOCUS_BGC:"#B6CDEF",DEBUG_BOUND:!1,COLOR_H:"#656565",COLOR_He:"#a26666",COLOR_Li:"#660903",COLOR_Be:"#656565",COLOR_B:"#029a02",COLOR_C:"#010000",COLOR_N:"#39399d",COLOR_O:"#ff0c0c",COLOR_F:"#9b6906",COLOR_Ne:"#444444",COLOR_Na:"#1e1eff",COLOR_Mg:"#127012",COLOR_Al:"#656565",COLOR_Si:"#9b6906",COLOR_P:"#9b6906",COLOR_S:"#66662b",COLOR_Cl:"#029a02",COLOR_Ar:"#444444",COLOR_K:"#019a9a",COLOR_Ca:"#656565",COLOR_Sc:"#33669a",COLOR_Ti:"#656565",COLOR_V:"#66662b",COLOR_Cr:"#656565",COLOR_Mn:"#656565",COLOR_Fe:"#9b6906",COLOR_Co:"#33669a",COLOR_Ni:"#683333",COLOR_Cu:"#683333",COLOR_Zn:"#683333",COLOR_Ga:"#33669a",COLOR_Ge:"#33669a",COLOR_As:"#66662b",COLOR_Se:"#66662b",COLOR_Br:"#683333",COLOR_Kr:"#444444",COLOR_Rb:"#019a9a",COLOR_Sr:"#a83e3e",COLOR_Y:"#33669a",COLOR_Zr:"#33669a",COLOR_Nb:"#33669a",COLOR_Mo:"#33669a",COLOR_Tc:"#33669a",COLOR_Ru:"#33669a",COLOR_Rh:"#66662b",COLOR_Pd:"#66662b",COLOR_Ag:"#656565",COLOR_Cd:"#33669a",COLOR_In:"#33669a",COLOR_Sn:"#33669a",COLOR_Sb:"#33669a",COLOR_Te:"#66662b",COLOR_I:"#6b099c",COLOR_Xe:"#444444",COLOR_Cs:"#019a9a",COLOR_Ba:"#9b6906",COLOR_La:"#990032",COLOR_Ce:"#990032",COLOR_Pr:"#990032",COLOR_Nd:"#990032",COLOR_Pm:"#990032",COLOR_Sm:"#990032",COLOR_Eu:"#9b6906",COLOR_Gd:"#66662b",COLOR_Tb:"#029a02",COLOR_Dy:"#990032",COLOR_Ho:"#990032",COLOR_Er:"#990032",COLOR_Tm:"#990032",COLOR_Yb:"#990032",COLOR_Lu:"#990032",COLOR_Hf:"#990032",COLOR_Ta:"#990032",COLOR_W:"#990032",COLOR_Re:"#990032",COLOR_Os:"#990032",COLOR_Ir:"#990032",COLOR_Pt:"#990032",COLOR_Au:"#9b6906",COLOR_Hg:"#444444",COLOR_Tl:"#990032",COLOR_Pb:"#444444",COLOR_Bi:"#990032",COLOR_Po:"#990032",COLOR_At:"#6b099c",COLOR_Rn:"#444444",COLOR_Fr:"#990032",COLOR_Ra:"#990032",COLOR_Ac:"#990032",COLOR_Th:"#990032",COLOR_Pa:"#990032",COLOR_U:"#9b6906",COLOR_Np:"#990032",COLOR_Pu:"#990032",COLOR_Am:"#990032",COLOR_Cm:"#990032",COLOR_Bk:"#990032",COLOR_Cf:"#990032",COLOR_Es:"#990032",COLOR_Fm:"#990032",COLOR_Md:"#990032",COLOR_No:"#990032",COLOR_Lr:"#990032",COLOR_Rf:"#990032",COLOR_Db:"#990032",COLOR_Sg:"#990032",COLOR_Bh:"#990032",COLOR_Hs:"#990032",COLOR_Mt:"#990032",COLOR_Ds:"#010000",COLOR_Rg:"#010000",COLOR_Cn:"#010000",COLOR_Uut:"#010000",COLOR_Uuq:"#010000",COLOR_Uup:"#010000",COLOR_Uuh:"#010000",COLOR_Uus:"#010000",COLOR_Uuo:"#010000",COLOR_X:"#FF0000",COLOR_A:"#FF0000",COLOR_Q:"#FF0000","COLOR_*":"#FF0000",COLOR_Star:"#FF0000",COL_R_Ala:["#222222","#222222"],COL_R_Arg:["#222222","#222222"],COL_R_Asn:["#222222","#222222"],COL_R_Asp:["#222222","#222222"],COL_R_Cys:["#222222","#222222"],COL_R_Gln:["#222222","#222222"],COL_R_Glu:["#222222","#222222"],COL_R_Gly:["#222222","#222222"],COL_R_His:["#222222","#222222"],COL_R_Ile:["#222222","#222222"],COL_R_Leu:["#222222","#222222"],COL_R_Lys:["#222222","#222222"],COL_R_Met:["#222222","#222222"],COL_R_Phe:["#222222","#222222"],COL_R_Pro:["#222222","#222222"],COL_R_Ser:["#222222","#222222"],COL_R_Thr:["#222222","#222222"],COL_R_Trp:["#222222","#222222"],COL_R_Tyr:["#222222","#222222"],COL_R_Val:["#222222","#222222"],COL_R_Asx:["#222222","#222222"],COL_R_Glx:["#222222","#222222"],"COL_R_*":["#222222","#222222"],COL_R_Star:["#222222","#222222"],COL_R_A:["#222222","#222222"],COL_R_G:["#222222","#222222"],COL_R_I:["#222222","#222222"],COL_R_C:["#222222","#222222"],COL_R_T:["#222222","#222222"],COL_R_U:["#222222","#222222"],name:"gray"},function(a,b,c){function d(a){var b=a.length,c=la.type(a);return!la.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)))}function e(a){var b=Aa[a]={};return la.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function f(a,b,d,e){if(la.acceptData(a)){var f,g,h=la.expando,i=a.nodeType,j=i?la.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==c||"string"!=typeof b)return k||(k=i?a[h]=ca.pop()||la.guid++:h),j[k]||(j[k]=i?{}:{toJSON:la.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=la.extend(j[k],b):j[k].data=la.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==c&&(g[la.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[la.camelCase(b)])):f=g,f}}function g(a,b,c){if(la.acceptData(a)){var d,e,f=a.nodeType,g=f?la.cache:a,h=f?a[la.expando]:la.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){la.isArray(b)?b=b.concat(la.map(b,la.camelCase)):b in d?b=[b]:(b=la.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!i(d):!la.isEmptyObject(d))return}(c||(delete g[h].data,i(g[h])))&&(f?la.cleanData([a],!0):la.support.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function h(a,b,d){if(d===c&&1===a.nodeType){var e="data-"+b.replace(Ca,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:Ba.test(d)?la.parseJSON(d):d)}catch(f){}la.data(a,b,d)}else d=c}return d}function i(a){var b;for(b in a)if(("data"!==b||!la.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function n(a,b,c){if(la.isFunction(b))return la.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return la.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Ra.test(b))return la.filter(b,a,c);b=la.filter(b,a)}return la.grep(a,function(a){return la.inArray(a,b)>=0!==c})}function o(a){var b=Va.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function p(a,b){return la.nodeName(a,"table")&&la.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function q(a){return a.type=(null!==la.find.attr(a,"type"))+"/"+a.type,a}function r(a){var b=fb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function s(a,b){for(var c,d=0;null!=(c=a[d]);d++)la._data(c,"globalEval",!b||la._data(b[d],"globalEval"))}function t(a,b){if(1===b.nodeType&&la.hasData(a)){var c,d,e,f=la._data(a),g=la._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)la.event.add(b,c,h[c][d])}g.data&&(g.data=la.extend({},g.data))}}function u(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!la.support.noCloneEvent&&b[la.expando]){e=la._data(b);for(d in e.events)la.removeEvent(b,d,e.handle);b.removeAttribute(la.expando)}"script"===c&&b.text!==a.text?(q(b).text=a.text,r(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),la.support.html5Clone&&a.innerHTML&&!la.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&cb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function v(a,b){var d,e,f=0,g=typeof a.getElementsByTagName!==X?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==X?a.querySelectorAll(b||"*"):c;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!b||la.nodeName(e,b)?g.push(e):la.merge(g,v(e,b));return b===c||b&&la.nodeName(a,b)?la.merge([a],g):g}function w(a){cb.test(a.type)&&(a.defaultChecked=a.checked)}function x(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=zb.length;e--;)if(b=zb[e]+c,b in a)return b;return d}function y(a,b){return a=b||a,"none"===la.css(a,"display")||!la.contains(a.ownerDocument,a)}function z(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=la._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&y(d)&&(f[g]=la._data(d,"olddisplay",D(d.nodeName)))):f[g]||(e=y(d),(c&&"none"!==c||!e)&&la._data(d,"olddisplay",e?c:la.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function A(a,b,c){var d=sb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function B(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=la.css(a,c+yb[f],!0,e)),
d?("content"===c&&(g-=la.css(a,"padding"+yb[f],!0,e)),"margin"!==c&&(g-=la.css(a,"border"+yb[f]+"Width",!0,e))):(g+=la.css(a,"padding"+yb[f],!0,e),"padding"!==c&&(g+=la.css(a,"border"+yb[f]+"Width",!0,e)));return g}function C(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=lb(a),g=la.support.boxSizing&&"border-box"===la.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=mb(a,b,f),(e<0||null==e)&&(e=a.style[b]),tb.test(e))return e;d=g&&(la.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+B(a,b,c||(g?"border":"content"),d,f)+"px"}function D(a){var b=Z,c=vb[a];return c||(c=E(a,b),"none"!==c&&c||(kb=(kb||la("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(kb[0].contentWindow||kb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=E(a,b),kb.detach()),vb[a]=c),c}function E(a,b){var c=la(b.createElement(a)).appendTo(b.body),d=la.css(c[0],"display");return c.remove(),d}function F(a,b,c,d){var e;if(la.isArray(b))la.each(b,function(b,e){c||Bb.test(a)?d(a,e):F(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==la.type(b))d(a,b);else for(e in b)F(a+"["+e+"]",b[e],c,d)}function G(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(la.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function H(a,b,c,d){function e(h){var i;return f[h]=!0,la.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function I(a,b){var d,e,f=la.ajaxSettings.flatOptions||{};for(e in b)b[e]!==c&&((f[e]?a:d||(d={}))[e]=b[e]);return d&&la.extend(!0,a,d),a}function J(a,b,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===c&&(f=a.mimeType||b.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}if(g)return g!==j[0]&&j.unshift(g),d[g]}function K(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function L(){try{return new a.XMLHttpRequest}catch(b){}}function M(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function N(){return setTimeout(function(){_b=c}),_b=la.now()}function O(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f=0,g=ec.length,h=la.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||N(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:la.extend({},b),opts:la.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=la.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);f<g;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return la.map(k,O,j),la.isFunction(j.opts.start)&&j.opts.start.call(a,j),la.fx.timer(la.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=la.camelCase(c),e=b[d],f=a[c],la.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=la.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&y(a),n=la._data(a,"fxshow");c.queue||(h=la._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,la.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===la.css(a,"display")&&"none"===la.css(a,"float")&&(la.support.inlineBlockNeedsLayout&&"inline"!==D(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",la.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||la.style(a,d)}if(!la.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=la._data(a,"fxshow",{}),f&&(n.hidden=!m),m?la(a).show():j.done(function(){la(a).hide()}),j.done(function(){var b;la._removeData(a,"fxshow");for(b in k)la.style(a,b,k[b])});for(d in k)g=O(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function S(a,b,c,d,e){return new S.prototype.init(a,b,c,d,e)}function T(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=yb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function U(a){return la.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var V,W,X=typeof c,Y=a.location,Z=a.document,$=Z.documentElement,_=a.jQuery,aa=a.$,ba={},ca=[],da="1.10.2",ea=ca.concat,fa=ca.push,ga=ca.slice,ha=ca.indexOf,ia=ba.toString,ja=ba.hasOwnProperty,ka=da.trim,la=function(a,b){return new la.fn.init(a,b,W)},ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,na=/\S+/g,oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ra=/^[\],:{}\s]*$/,sa=/(?:^|:|,)(?:\s*\[)+/g,ta=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ua=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,va=/^-ms-/,wa=/-([\da-z])/gi,xa=function(a,b){return b.toUpperCase()},ya=function(a){(Z.addEventListener||"load"===a.type||"complete"===Z.readyState)&&(za(),la.ready())},za=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",ya,!1),a.removeEventListener("load",ya,!1)):(Z.detachEvent("onreadystatechange",ya),a.detachEvent("onload",ya))};la.fn=la.prototype={jquery:da,constructor:la,init:function(a,b,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pa.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||d).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof la?b[0]:b,la.merge(this,la.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),qa.test(e[1])&&la.isPlainObject(b))for(e in b)la.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=Z.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):la.isFunction(a)?d.ready(a):(a.selector!==c&&(this.selector=a.selector,this.context=a.context),la.makeArray(a,this))},selector:"",length:0,toArray:function(){return ga.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a){var b=la.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return la.each(this,a,b)},ready:function(a){return la.ready.promise().done(a),this},slice:function(){return this.pushStack(ga.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},map:function(a){return this.pushStack(la.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:fa,sort:[].sort,splice:[].splice},la.fn.init.prototype=la.fn,la.extend=la.fn.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||la.isFunction(h)||(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(la.isPlainObject(d)||(b=la.isArray(d)))?(b?(b=!1,g=a&&la.isArray(a)?a:[]):g=a&&la.isPlainObject(a)?a:{},h[e]=la.extend(k,g,d)):d!==c&&(h[e]=d));return h},la.extend({expando:"jQuery"+(da+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===la&&(a.$=aa),b&&a.jQuery===la&&(a.jQuery=_),la},isReady:!1,readyWait:1,holdReady:function(a){a?la.readyWait++:la.ready(!0)},ready:function(a){if(a===!0?!--la.readyWait:!la.isReady){if(!Z.body)return setTimeout(la.ready);la.isReady=!0,a!==!0&&--la.readyWait>0||(V.resolveWith(Z,[la]),la.fn.trigger&&la(Z).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===la.type(a)},isArray:Array.isArray||function(a){return"array"===la.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ba[ia.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==la.type(a)||a.nodeType||la.isWindow(a))return!1;try{if(a.constructor&&!ja.call(a,"constructor")&&!ja.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(la.support.ownLast)for(b in a)return ja.call(a,b);for(b in a);return b===c||ja.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=qa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=la.buildFragment([a],b,e),e&&la(e).remove(),la.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=la.trim(b),b&&ra.test(b.replace(ta,"@").replace(ua,"]").replace(sa,"")))?new Function("return "+b)():void la.error("Invalid JSON: "+b)},parseXML:function(b){var d,e;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(f){d=c}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||la.error("Invalid XML: "+b),d},noop:function(){},globalEval:function(b){b&&la.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(va,"ms-").replace(wa,xa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;f<g&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;f<g&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ka&&!ka.call("\ufeff ")?function(a){return null==a?"":ka.call(a)}:function(a){return null==a?"":(a+"").replace(oa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?la.merge(c,"string"==typeof a?[a]:a):fa.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(ha)return ha.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var d=b.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=b[f];else for(;b[f]!==c;)a[e++]=b[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;f<g;f++)e=b(a[f],f,c),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,c),null!=e&&(i[i.length]=e);return ea.apply([],i)},guid:1,proxy:function(a,b){var d,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),la.isFunction(a)?(d=ga.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ga.call(arguments)))},e.guid=a.guid=a.guid||la.guid++,e):c},access:function(a,b,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===la.type(d)){f=!0;for(i in d)la.access(a,b,i,d[i],!0,g,h)}else if(e!==c&&(f=!0,la.isFunction(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(la(a),c)})),b))for(;i<j;i++)b(a[i],d,h?e:e.call(a[i],i,b(a[i],d)));return f?a:k?b.call(a):j?b(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),la.ready.promise=function(b){if(!V)if(V=la.Deferred(),"complete"===Z.readyState)setTimeout(la.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",ya,!1),a.addEventListener("load",ya,!1);else{Z.attachEvent("onreadystatechange",ya),a.attachEvent("onload",ya);var c=!1;try{c=null==a.frameElement&&Z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!la.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}za(),la.ready()}}()}return V.promise(b)},la.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ba["[object "+b+"]"]=b.toLowerCase()}),W=la(Z),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ja,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){d&&!(e=ka.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ja," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];h<e;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ja,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;e<f;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ga=fa.replace("w","w#"),ha="\\["+ea+"*("+fa+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ga+")|)|)"+ea+"*\\]",ia=":("+fa+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ha.replace(3,8)+")*)|.*)\\)|)",ja=new RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),ka=new RegExp("^"+ea+"*,"+ea+"*"),ma=new RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=new RegExp(ea+"*[+~]"),oa=new RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=new RegExp(ia),qa=new RegExp("^"+ga+"$"),ra={ID:new RegExp("^#("+fa+")"),CLASS:new RegExp("^\\.("+fa+")"),TAG:new RegExp("^("+fa.replace("w","w*")+")"),ATTR:new RegExp("^"+ha),PSEUDO:new RegExp("^"+ia),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:new RegExp("^(?:"+da+")$","i"),needsContext:new RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=new RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(za){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==W)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==W&&I)return b.getElementsByClassName(a)},K=[],J=[],(x.qsa=sa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ia)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?ca.call(E,a)-ca.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),x.matchesSelector&&I&&(!K||!K.test(b))&&(!J||!J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ja,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[c<0?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),la.find=c,la.expr=c.selectors,la.expr[":"]=la.expr.pseudos,la.unique=c.uniqueSort,la.text=c.getText,la.isXMLDoc=c.isXML,la.contains=c.contains}(a);var Aa={};la.Callbacks=function(a){a="string"==typeof a?Aa[a]||e(a):la.extend({},a);var b,d,f,g,h,i,j=[],k=!a.once&&[],l=function(c){for(d=a.memory&&c,f=!0,h=i||0,i=0,g=j.length,b=!0;j&&h<g;h++)if(j[h].apply(c[0],c[1])===!1&&a.stopOnFalse){d=!1;break}b=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){
if(j){var c=j.length;!function e(b){la.each(b,function(b,c){var d=la.type(c);"function"===d?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==d&&e(c)})}(arguments),b?g=j.length:d&&(i=c,l(d))}return this},remove:function(){return j&&la.each(arguments,function(a,c){for(var d;(d=la.inArray(c,j,d))>-1;)j.splice(d,1),b&&(d<=g&&g--,d<=h&&h--)}),this},has:function(a){return a?la.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=d=c,this},disabled:function(){return!j},lock:function(){return k=c,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,c){return!j||f&&!k||(c=c||[],c=[a,c.slice?c.slice():c],b?k.push(c):l(c)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},la.extend({Deferred:function(a){var b=[["resolve","done",la.Callbacks("once memory"),"resolved"],["reject","fail",la.Callbacks("once memory"),"rejected"],["notify","progress",la.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return la.Deferred(function(c){la.each(b,function(b,f){var g=f[0],h=la.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&la.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?la.extend(a,d):d}},e={};return d.pipe=d.then,la.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=ga.call(arguments),g=f.length,h=1!==g||a&&la.isFunction(a.promise)?g:0,i=1===h?a:la.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?ga.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&la.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),la.support=function(b){var c,d,e,f,g,h,i,j,k,l=Z.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Z.createElement("select"),h=f.appendChild(Z.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Z.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Z.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Z.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in la(b))break;return b.ownLast="0"!==k,la(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Z.getElementsByTagName("body")[0];g&&(c=Z.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",la.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Z.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==X&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ba=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ca=/([A-Z])/g;la.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?la.cache[a[la.expando]]:a[la.expando],!!a&&!i(a)},data:function(a,b,c){return f(a,b,c)},removeData:function(a,b){return g(a,b)},_data:function(a,b,c){return f(a,b,c,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&la.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),la.fn.extend({data:function(a,b){var d,e,f=null,g=0,i=this[0];if(a===c){if(this.length&&(f=la.data(i),1===i.nodeType&&!la._data(i,"parsedAttrs"))){for(d=i.attributes;g<d.length;g++)e=d[g].name,0===e.indexOf("data-")&&(e=la.camelCase(e.slice(5)),h(i,e,f[e]));la._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){la.data(this,a)}):arguments.length>1?this.each(function(){la.data(this,a,b)}):i?h(i,a,la.data(i,a)):null},removeData:function(a){return this.each(function(){la.removeData(this,a)})}}),la.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=la._data(a,b),c&&(!d||la.isArray(c)?d=la._data(a,b,la.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=la.queue(a,b),d=c.length,e=c.shift(),f=la._queueHooks(a,b),g=function(){la.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return la._data(a,c)||la._data(a,c,{empty:la.Callbacks("once memory").add(function(){la._removeData(a,b+"queue"),la._removeData(a,c)})})}}),la.fn.extend({queue:function(a,b){var d=2;return"string"!=typeof a&&(b=a,a="fx",d--),arguments.length<d?la.queue(this[0],a):b===c?this:this.each(function(){var c=la.queue(this,a,b);la._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&la.dequeue(this,a)})},dequeue:function(a){return this.each(function(){la.dequeue(this,a)})},delay:function(a,b){return a=la.fx?la.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,e=1,f=la.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(b=a,a=c),a=a||"fx";h--;)d=la._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(b)}});var Da,Ea,Fa=/[\t\r\n\f]/g,Ga=/\r/g,Ha=/^(?:input|select|textarea|button|object)$/i,Ia=/^(?:a|area)$/i,Ja=/^(?:checked|selected)$/i,Ka=la.support.getSetAttribute,La=la.support.input;la.fn.extend({attr:function(a,b){return la.access(this,la.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){la.removeAttr(this,a)})},prop:function(a,b){return la.access(this,la.prop,a,b,arguments.length>1)},removeProp:function(a){return a=la.propFix[a]||a,this.each(function(){try{this[a]=c,delete this[a]}catch(b){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(la.isFunction(a))return this.each(function(b){la(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(na)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fa," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=la.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(la.isFunction(a))return this.each(function(b){la(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(na)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fa," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?la.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):la.isFunction(a)?this.each(function(c){la(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=la(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==X&&"boolean"!==c||(this.className&&la._data(this,"__className__",this.className),this.className=this.className||a===!1?"":la._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Fa," ").indexOf(b)>=0)return!0;return!1},val:function(a){var b,d,e,f=this[0];{if(arguments.length)return e=la.isFunction(a),this.each(function(b){var f;1===this.nodeType&&(f=e?a.call(this,b,la(this).val()):a,null==f?f="":"number"==typeof f?f+="":la.isArray(f)&&(f=la.map(f,function(a){return null==a?"":a+""})),d=la.valHooks[this.type]||la.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==c||(this.value=f))});if(f)return d=la.valHooks[f.type]||la.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(b=d.get(f,"value"))!==c?b:(b=f.value,"string"==typeof b?b.replace(Ga,""):null==b?"":b)}}}),la.extend({valHooks:{option:{get:function(a){var b=la.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(la.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!la.nodeName(c.parentNode,"optgroup"))){if(b=la(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=la.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=la.inArray(la(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,b,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===X?la.prop(a,b,d):(1===g&&la.isXMLDoc(a)||(b=b.toLowerCase(),e=la.attrHooks[b]||(la.expr.match.bool.test(b)?Ea:Da)),d===c?e&&"get"in e&&null!==(f=e.get(a,b))?f:(f=la.find.attr(a,b),null==f?c:f):null!==d?e&&"set"in e&&(f=e.set(a,d,b))!==c?f:(a.setAttribute(b,d+""),d):void la.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=la.propFix[c]||c,la.expr.match.bool.test(c)?La&&Ka||!Ja.test(c)?a[d]=!1:a[la.camelCase("default-"+c)]=a[d]=!1:la.attr(a,c,""),a.removeAttribute(Ka?c:d)},attrHooks:{type:{set:function(a,b){if(!la.support.radioValue&&"radio"===b&&la.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!la.isXMLDoc(a),g&&(b=la.propFix[b]||b,f=la.propHooks[b]),d!==c?f&&"set"in f&&(e=f.set(a,d,b))!==c?e:a[b]=d:f&&"get"in f&&null!==(e=f.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var b=la.find.attr(a,"tabindex");return b?parseInt(b,10):Ha.test(a.nodeName)||Ia.test(a.nodeName)&&a.href?0:-1}}}}),Ea={set:function(a,b,c){return b===!1?la.removeAttr(a,c):La&&Ka||!Ja.test(c)?a.setAttribute(!Ka&&la.propFix[c]||c,c):a[la.camelCase("default-"+c)]=a[c]=!0,c}},la.each(la.expr.match.bool.source.match(/\w+/g),function(a,b){var d=la.expr.attrHandle[b]||la.find.attr;la.expr.attrHandle[b]=La&&Ka||!Ja.test(b)?function(a,b,e){var f=la.expr.attrHandle[b],g=e?c:(la.expr.attrHandle[b]=c)!=d(a,b,e)?b.toLowerCase():null;return la.expr.attrHandle[b]=f,g}:function(a,b,d){return d?c:a[la.camelCase("default-"+b)]?b.toLowerCase():null}}),La&&Ka||(la.attrHooks.value={set:function(a,b,c){return la.nodeName(a,"input")?void(a.defaultValue=b):Da&&Da.set(a,b,c)}}),Ka||(Da={set:function(a,b,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=b+="","value"===d||b===a.getAttribute(d)?b:c}},la.expr.attrHandle.id=la.expr.attrHandle.name=la.expr.attrHandle.coords=function(a,b,d){var e;return d?c:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},la.valHooks.button={get:function(a,b){var d=a.getAttributeNode(b);return d&&d.specified?d.value:c},set:Da.set},la.attrHooks.contenteditable={set:function(a,b,c){Da.set(a,""!==b&&b,c)}},la.each(["width","height"],function(a,b){la.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),la.support.hrefNormalized||la.each(["href","src"],function(a,b){la.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),la.support.style||(la.attrHooks.style={get:function(a){return a.style.cssText||c},set:function(a,b){return a.style.cssText=b+""}}),la.support.optSelected||(la.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),la.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){la.propFix[this.toLowerCase()]=this}),la.support.enctype||(la.propFix.enctype="encoding"),la.each(["radio","checkbox"],function(){la.valHooks[this]={set:function(a,b){if(la.isArray(b))return a.checked=la.inArray(la(a).val(),b)>=0}},la.support.checkOn||(la.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Ma=/^(?:input|select|textarea)$/i,Na=/^key/,Oa=/^(?:mouse|contextmenu)|click/,Pa=/^(?:focusinfocus|focusoutblur)$/,Qa=/^([^.]*)(?:\.(.+)|)$/;la.event={global:{},add:function(a,b,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=la._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=la.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof la===X||a&&la.event.triggered===a.type?c:la.event.dispatch.apply(l.elem,arguments)},l.elem=a),b=(b||"").match(na)||[""],i=b.length;i--;)g=Qa.exec(b[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=la.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=la.event.special[o]||{},m=la.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&la.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),la.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=la.hasData(a)&&la._data(a);if(q&&(k=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Qa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=la.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||la.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)la.event.remove(a,n+b[j],c,d,!0);la.isEmptyObject(k)&&(delete q.handle,la._removeData(a,"events"))}},trigger:function(b,d,e,f){var g,h,i,j,k,l,m,n=[e||Z],o=ja.call(b,"type")?b.type:b,p=ja.call(b,"namespace")?b.namespace.split("."):[];if(i=l=e=e||Z,3!==e.nodeType&&8!==e.nodeType&&!Pa.test(o+la.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,b=b[la.expando]?b:new la.Event(o,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=p.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=e),d=null==d?[b]:la.makeArray(d,[b]),k=la.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!la.isWindow(e)){for(j=k.delegateType||o,Pa.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Z)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!b.isPropagationStopped();)b.type=m>1?j:k.bindType||o,g=(la._data(i,"events")||{})[b.type]&&la._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&la.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&b.preventDefault();if(b.type=o,!f&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&la.acceptData(e)&&h&&e[o]&&!la.isWindow(e)){l=e[h],l&&(e[h]=null),la.event.triggered=o;try{e[o]()}catch(q){}la.event.triggered=c,l&&(e[h]=l)}return b.result}},dispatch:function(a){a=la.event.fix(a);var b,d,e,f,g,h=[],i=ga.call(arguments),j=(la._data(this,"events")||{})[a.type]||[],k=la.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=la.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(e.namespace)||(a.handleObj=e,a.data=e.data,d=((la.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==c&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;g<i;g++)e=b[g],d=e.selector+" ",f[d]===c&&(f[d]=e.needsContext?la(d,this).index(j)>=0:la.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<b.length&&h.push({elem:this,handlers:b.slice(i)}),h},fix:function(a){if(a[la.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Oa.test(e)?this.mouseHooks:Na.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new la.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||Z,f=e.documentElement,d=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||g===c||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===l()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(la.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return la.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==c&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=la.extend(new la.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?la.event.trigger(e,null,b):la.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},la.removeEvent=Z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===X&&(a[d]=null),a.detachEvent(d,c))},la.Event=function(a,b){return this instanceof la.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?j:k):this.type=a,b&&la.extend(this,b),this.timeStamp=a&&a.timeStamp||la.now(),void(this[la.expando]=!0)):new la.Event(a,b)},la.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()}},la.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){la.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||la.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),la.support.submitBubbles||(la.event.special.submit={setup:function(){return!la.nodeName(this,"form")&&void la.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,d=la.nodeName(b,"input")||la.nodeName(b,"button")?b.form:c;d&&!la._data(d,"submitBubbles")&&(la.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),la._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&la.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!la.nodeName(this,"form")&&void la.event.remove(this,"._submit")}}),la.support.changeBubbles||(la.event.special.change={setup:function(){return Ma.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(la.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),la.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),la.event.simulate("change",this,a,!0)})),!1):void la.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ma.test(b.nodeName)&&!la._data(b,"changeBubbles")&&(la.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||la.event.simulate("change",this.parentNode,a,!0)}),la._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return la.event.remove(this,"._change"),!Ma.test(this.nodeName)}}),la.support.focusinBubbles||la.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){la.event.simulate(b,a.target,la.event.fix(a),!0)};la.event.special[b]={setup:function(){0===c++&&Z.addEventListener(a,d,!0)},teardown:function(){0===--c&&Z.removeEventListener(a,d,!0)}}}),la.fn.extend({on:function(a,b,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof b&&(d=d||b,b=c);for(g in a)this.on(g,b,d,a[g],f);return this}if(null==d&&null==e?(e=b,d=b=c):null==e&&("string"==typeof b?(e=d,d=c):(e=d,d=b,b=c)),e===!1)e=k;else if(!e)return this;return 1===f&&(h=e,e=function(a){return la().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=la.guid++)),this.each(function(){la.event.add(this,a,e,d,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,la(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return b!==!1&&"function"!=typeof b||(d=b,b=c),d===!1&&(d=k),this.each(function(){la.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){la.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return la.event.trigger(a,b,c,!0)}});var Ra=/^.[^:#\[\.,]*$/,Sa=/^(?:parents|prev(?:Until|All))/,Ta=la.expr.match.needsContext,Ua={children:!0,contents:!0,next:!0,prev:!0};la.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(la(a).filter(function(){for(b=0;b<e;b++)if(la.contains(d[b],this))return!0}));for(b=0;b<e;b++)la.find(a,d[b],c);return c=this.pushStack(e>1?la.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=la(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(la.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(n(this,a||[],!0))},filter:function(a){return this.pushStack(n(this,a||[],!1))},is:function(a){return!!n(this,"string"==typeof a&&Ta.test(a)?la(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ta.test(a)||"string"!=typeof a?la(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&la.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?la.unique(f):f)},index:function(a){return a?"string"==typeof a?la.inArray(this[0],la(a)):la.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?la(a,b):la.makeArray(a&&a.nodeType?[a]:a),d=la.merge(this.get(),c);return this.pushStack(la.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),la.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la.dir(a,"parentNode")},parentsUntil:function(a,b,c){return la.dir(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return la.dir(a,"nextSibling")},prevAll:function(a){return la.dir(a,"previousSibling")},nextUntil:function(a,b,c){return la.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return la.dir(a,"previousSibling",c)},siblings:function(a){return la.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return la.sibling(a.firstChild)},contents:function(a){return la.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:la.merge([],a.childNodes)}},function(a,b){la.fn[a]=function(c,d){var e=la.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=la.filter(d,e)),this.length>1&&(Ua[a]||(e=la.unique(e)),Sa.test(a)&&(e=e.reverse())),this.pushStack(e)}}),la.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?la.find.matchesSelector(d,a)?[d]:[]:la.find.matches(a,la.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,d){for(var e=[],f=a[b];f&&9!==f.nodeType&&(d===c||1!==f.nodeType||!la(f).is(d));)1===f.nodeType&&e.push(f),f=f[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Va="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wa=/ jQuery\d+="(?:null|\d+)"/g,Xa=new RegExp("<(?:"+Va+")[\\s/>]","i"),Ya=/^\s+/,Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$a=/<([\w:]+)/,_a=/<tbody/i,ab=/<|&#?\w+;/,bb=/<(?:script|style|link)/i,cb=/^(?:checkbox|radio)$/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,eb=/^$|\/(?:java|ecma)script/i,fb=/^true\/(.*)/,gb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,hb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:la.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ib=o(Z),jb=ib.appendChild(Z.createElement("div"));hb.optgroup=hb.option,hb.tbody=hb.tfoot=hb.colgroup=hb.caption=hb.thead,hb.th=hb.td,la.fn.extend({text:function(a){return la.access(this,function(a){return a===c?la.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?la.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||la.cleanData(v(c)),c.parentNode&&(b&&la.contains(c.ownerDocument,c)&&s(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&la.cleanData(v(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&la.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return la.clone(this,a,b)})},html:function(a){return la.access(this,function(a){var b=this[0]||{},d=0,e=this.length;if(a===c)return 1===b.nodeType?b.innerHTML.replace(Wa,""):c;if("string"==typeof a&&!bb.test(a)&&(la.support.htmlSerialize||!Xa.test(a))&&(la.support.leadingWhitespace||!Ya.test(a))&&!hb[($a.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Za,"<$1></$2>");try{for(;d<e;d++)b=this[d]||{},1===b.nodeType&&(la.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=la.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),la(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=ea.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=la.isFunction(n);if(o||!(k<=1||"string"!=typeof n||la.support.checkClone)&&db.test(n))return this.each(function(d){
var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=la.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=la.map(v(i,"script"),q),f=g.length;j<k;j++)e=i,j!==m&&(e=la.clone(e,!0,!0),f&&la.merge(g,v(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,la.map(g,r),j=0;j<f;j++)e=g[j],eb.test(e.type||"")&&!la._data(e,"globalEval")&&la.contains(h,e)&&(e.src?la._evalUrl(e.src):la.globalEval((e.text||e.textContent||e.innerHTML||"").replace(gb,"")));i=d=null}return this}}),la.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){la.fn[a]=function(a){for(var c,d=0,e=[],f=la(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),la(f[d])[b](c),fa.apply(e,c.get());return this.pushStack(e)}}),la.extend({clone:function(a,b,c){var d,e,f,g,h,i=la.contains(a.ownerDocument,a);if(la.support.html5Clone||la.isXMLDoc(a)||!Xa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(jb.innerHTML=a.outerHTML,jb.removeChild(f=jb.firstChild)),!(la.support.noCloneEvent&&la.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||la.isXMLDoc(a)))for(d=v(f),h=v(a),g=0;null!=(e=h[g]);++g)d[g]&&u(e,d[g]);if(b)if(c)for(h=h||v(a),d=d||v(f),g=0;null!=(e=h[g]);g++)t(e,d[g]);else t(a,f);return d=v(f,"script"),d.length>0&&s(d,!i&&v(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=o(b),n=[],p=0;p<l;p++)if(f=a[p],f||0===f)if("object"===la.type(f))la.merge(n,f.nodeType?[f]:f);else if(ab.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=($a.exec(f)||["",""])[1].toLowerCase(),k=hb[i]||hb._default,h.innerHTML=k[1]+f.replace(Za,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!la.support.leadingWhitespace&&Ya.test(f)&&n.push(b.createTextNode(Ya.exec(f)[0])),!la.support.tbody)for(f="table"!==i||_a.test(f)?"<table>"!==k[1]||_a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)la.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(la.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),la.support.appendChecked||la.grep(v(n,"input"),w),p=0;f=n[p++];)if((!d||la.inArray(f,d)===-1)&&(g=la.contains(f.ownerDocument,f),h=v(m.appendChild(f),"script"),g&&s(h),c))for(e=0;f=h[e++];)eb.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=la.expando,i=la.cache,j=la.support.deleteExpando,k=la.event.special;null!=(c=a[g]);g++)if((b||la.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?la.event.remove(c,d):la.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==X?c.removeAttribute(h):c[h]=null,ca.push(e))}},_evalUrl:function(a){return la.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),la.fn.extend({wrapAll:function(a){if(la.isFunction(a))return this.each(function(b){la(this).wrapAll(a.call(this,b))});if(this[0]){var b=la(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return la.isFunction(a)?this.each(function(b){la(this).wrapInner(a.call(this,b))}):this.each(function(){var b=la(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=la.isFunction(a);return this.each(function(c){la(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){la.nodeName(this,"body")||la(this).replaceWith(this.childNodes)}).end()}});var kb,lb,mb,nb=/alpha\([^)]*\)/i,ob=/opacity\s*=\s*([^)]*)/,pb=/^(top|right|bottom|left)$/,qb=/^(none|table(?!-c[ea]).+)/,rb=/^margin/,sb=new RegExp("^("+ma+")(.*)$","i"),tb=new RegExp("^("+ma+")(?!px)[a-z%]+$","i"),ub=new RegExp("^([+-])=("+ma+")","i"),vb={BODY:"block"},wb={position:"absolute",visibility:"hidden",display:"block"},xb={letterSpacing:0,fontWeight:400},yb=["Top","Right","Bottom","Left"],zb=["Webkit","O","Moz","ms"];la.fn.extend({css:function(a,b){return la.access(this,function(a,b,d){var e,f,g={},h=0;if(la.isArray(b)){for(f=lb(a),e=b.length;h<e;h++)g[b[h]]=la.css(a,b[h],!1,f);return g}return d!==c?la.style(a,b,d):la.css(a,b)},a,b,arguments.length>1)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){y(this)?la(this).show():la(this).hide()})}}),la.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=mb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":la.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=la.camelCase(b),j=a.style;if(b=la.cssProps[i]||(la.cssProps[i]=x(j,i)),h=la.cssHooks[b]||la.cssHooks[i],d===c)return h&&"get"in h&&(f=h.get(a,!1,e))!==c?f:j[b];if(g=typeof d,"string"===g&&(f=ub.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(la.css(a,b)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||la.cssNumber[i]||(d+="px"),la.support.clearCloneStyle||""!==d||0!==b.indexOf("background")||(j[b]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===c)))try{j[b]=d}catch(k){}}},css:function(a,b,d,e){var f,g,h,i=la.camelCase(b);return b=la.cssProps[i]||(la.cssProps[i]=x(a.style,i)),h=la.cssHooks[b]||la.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===c&&(g=mb(a,b,e)),"normal"===g&&b in xb&&(g=xb[b]),""===d||d?(f=parseFloat(g),d===!0||la.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(lb=function(b){return a.getComputedStyle(b,null)},mb=function(a,b,d){var e,f,g,h=d||lb(a),i=h?h.getPropertyValue(b)||h[b]:c,j=a.style;return h&&(""!==i||la.contains(a.ownerDocument,a)||(i=la.style(a,b)),tb.test(i)&&rb.test(b)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Z.documentElement.currentStyle&&(lb=function(a){return a.currentStyle},mb=function(a,b,d){var e,f,g,h=d||lb(a),i=h?h[b]:c,j=a.style;return null==i&&j&&j[b]&&(i=j[b]),tb.test(i)&&!pb.test(b)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===b?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),la.each(["height","width"],function(a,b){la.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&qb.test(la.css(a,"display"))?la.swap(a,wb,function(){return C(a,b,d)}):C(a,b,d)},set:function(a,c,d){var e=d&&lb(a);return A(a,c,d?B(a,b,d,la.support.boxSizing&&"border-box"===la.css(a,"boxSizing",!1,e),e):0)}}}),la.support.opacity||(la.cssHooks.opacity={get:function(a,b){return ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=la.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===la.trim(f.replace(nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=nb.test(f)?f.replace(nb,e):f+" "+e)}}),la(function(){la.support.reliableMarginRight||(la.cssHooks.marginRight={get:function(a,b){if(b)return la.swap(a,{display:"inline-block"},mb,[a,"marginRight"])}}),!la.support.pixelPosition&&la.fn.position&&la.each(["top","left"],function(a,b){la.cssHooks[b]={get:function(a,c){if(c)return c=mb(a,b),tb.test(c)?la(a).position()[b]+"px":c}}})}),la.expr&&la.expr.filters&&(la.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!la.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||la.css(a,"display"))},la.expr.filters.visible=function(a){return!la.expr.filters.hidden(a)}),la.each({margin:"",padding:"",border:"Width"},function(a,b){la.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+yb[d]+b]=f[d]||f[d-2]||f[0];return e}},rb.test(a)||(la.cssHooks[a+b].set=A)});var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;la.fn.extend({serialize:function(){return la.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=la.prop(this,"elements");return a?la.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!la(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!cb.test(a))}).map(function(a,b){var c=la(this).val();return null==c?null:la.isArray(c)?la.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),la.param=function(a,b){var d,e=[],f=function(a,b){b=la.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===c&&(b=la.ajaxSettings&&la.ajaxSettings.traditional),la.isArray(a)||a.jquery&&!la.isPlainObject(a))la.each(a,function(){f(this.name,this.value)});else for(d in a)F(d,a[d],b,f);return e.join("&").replace(Ab,"+")},la.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){la.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),la.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fb,Gb,Hb=la.now(),Ib=/\?/,Jb=/#.*$/,Kb=/([?&])_=[^&]*/,Lb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Qb=la.fn.load,Rb={},Sb={},Tb="*/".concat("*");try{Gb=Y.href}catch(Ub){Gb=Z.createElement("a"),Gb.href="",Gb=Gb.href}Fb=Pb.exec(Gb.toLowerCase())||[],la.fn.load=function(a,b,d){if("string"!=typeof a&&Qb)return Qb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),la.isFunction(b)?(d=b,b=c):b&&"object"==typeof b&&(g="POST"),h.length>0&&la.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){f=arguments,h.html(e?la("<div>").append(la.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},la.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){la.fn[b]=function(a){return this.on(b,a)}}),la.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gb,type:"GET",isLocal:Mb.test(Fb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":la.parseJSON,"text xml":la.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?I(I(a,la.ajaxSettings),b):I(la.ajaxSettings,a)},ajaxPrefilter:G(Rb),ajaxTransport:G(Sb),ajax:function(a,b){function d(a,b,d,e){var f,l,s,t,v,x=b;2!==u&&(u=2,i&&clearTimeout(i),k=c,h=e||"",w.readyState=a>0?4:0,f=a>=200&&a<300||304===a,d&&(t=J(m,w,d)),t=K(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(la.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(la.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!a&&x||(x="error",a<0&&(a=0))),w.status=a,w.statusText=(b||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=c,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--la.active||la.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=c),b=b||{};var e,f,g,h,i,j,k,l,m=la.ajaxSetup({},b),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?la(n):la.event,p=la.Deferred(),q=la.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Lb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Gb)+"").replace(Jb,"").replace(Ob,Fb[1]+"//"),m.type=b.method||b.type||m.method||m.type,m.dataTypes=la.trim(m.dataType||"*").toLowerCase().match(na)||[""],null==m.crossDomain&&(e=Pb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Fb[1]&&e[2]===Fb[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Fb[3]||("http:"===Fb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=la.param(m.data,m.traditional)),H(Rb,m,b,w),2===u)return w;j=m.global,j&&0===la.active++&&la.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Nb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Ib.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Kb.test(g)?g.replace(Kb,"$1_="+Hb++):g+(Ib.test(g)?"&":"?")+"_="+Hb++)),m.ifModified&&(la.lastModified[g]&&w.setRequestHeader("If-Modified-Since",la.lastModified[g]),la.etag[g]&&w.setRequestHeader("If-None-Match",la.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||b.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Tb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=H(Sb,m,b,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(u<2))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return la.get(a,b,c,"json")},getScript:function(a,b){return la.get(a,c,b,"script")}}),la.each(["get","post"],function(a,b){la[b]=function(a,d,e,f){return la.isFunction(d)&&(f=f||e,e=d,d=c),la.ajax({url:a,type:b,dataType:f,data:d,success:e})}}),la.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return la.globalEval(a),a}}}),la.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),la.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=Z.head||la("head")[0]||Z.documentElement;return{send:function(c,e){b=Z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(c,!0)}}}});var Vb=[],Wb=/(=)\?(?=&|$)|\?\?/;la.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Vb.pop()||la.expando+"_"+Hb++;return this[a]=!0,a}}),la.ajaxPrefilter("json jsonp",function(b,d,e){var f,g,h,i=b.jsonp!==!1&&(Wb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wb.test(b.data)&&"data");if(i||"jsonp"===b.dataTypes[0])return f=b.jsonpCallback=la.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i?b[i]=b[i].replace(Wb,"$1"+f):b.jsonp!==!1&&(b.url+=(Ib.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){return h||la.error(f+" was not called"),h[0]},b.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,b[f]&&(b.jsonpCallback=d.jsonpCallback,Vb.push(f)),h&&la.isFunction(g)&&g(h[0]),h=g=c}),"script"});var Xb,Yb,Zb=0,$b=a.ActiveXObject&&function(){var a;for(a in Xb)Xb[a](c,!0)};la.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&L()||M()}:L,Yb=la.ajaxSettings.xhr(),la.support.cors=!!Yb&&"withCredentials"in Yb,Yb=la.support.ajax=!!Yb,Yb&&la.ajaxTransport(function(b){if(!b.crossDomain||la.support.cors){var d;return{send:function(e,f){var g,h,i=b.xhr();if(b.username?i.open(b.type,b.url,b.async,b.username,b.password):i.open(b.type,b.url,b.async),b.xhrFields)for(h in b.xhrFields)i[h]=b.xhrFields[h];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(b.hasContent&&b.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=c,g&&(i.onreadystatechange=la.noop,$b&&delete Xb[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!b.isLocal||b.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},b.async?4===i.readyState?setTimeout(d):(g=++Zb,$b&&(Xb||(Xb={},la(a).unload($b)),Xb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(c,!0)}}}});var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+ma+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[R],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(la.cssNumber[a]?"":"px"),g=(la.cssNumber[a]||"px"!==f&&+d)&&cc.exec(la.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,la.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};la.Animation=la.extend(P,{tweener:function(a,b){la.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),la.Tween=S,S.prototype={constructor:S,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(la.cssNumber[c]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var b,c=S.propHooks[this.prop];return this.options.duration?this.pos=b=la.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=la.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){la.fx.step[a.prop]?la.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[la.cssProps[a.prop]]||la.cssHooks[a.prop])?la.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},la.each(["toggle","show","hide"],function(a,b){var c=la.fn[b];la.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(T(b,!0),a,d,e)}}),la.fn.extend({fadeTo:function(a,b,c,d){return this.filter(y).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=la.isEmptyObject(a),f=la.speed(b,c,d),g=function(){var b=P(this,la.extend({},a),f);(e||la._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=b,b=a,a=c),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=la.timers,g=la._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&dc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||la.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=la._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=la.timers,g=d?d.length:0;for(c.finish=!0,la.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),la.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){la.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),la.speed=function(a,b,c){var d=a&&"object"==typeof a?la.extend({},a):{complete:c||!c&&b||la.isFunction(a)&&a,duration:a,easing:c&&b||b&&!la.isFunction(b)&&b};return d.duration=la.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in la.fx.speeds?la.fx.speeds[d.duration]:la.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){la.isFunction(d.old)&&d.old.call(this),d.queue&&la.dequeue(this,d.queue)},d},la.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},la.timers=[],la.fx=S.prototype.init,la.fx.tick=function(){var a,b=la.timers,d=0;for(_b=la.now();d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||la.fx.stop(),_b=c},la.fx.timer=function(a){a()&&la.timers.push(a)&&la.fx.start()},la.fx.interval=13,la.fx.start=function(){ac||(ac=setInterval(la.fx.tick,la.fx.interval))},la.fx.stop=function(){clearInterval(ac),ac=null},la.fx.speeds={slow:600,fast:200,_default:400},la.fx.step={},la.expr&&la.expr.filters&&(la.expr.filters.animated=function(a){return la.grep(la.timers,function(b){return a===b.elem}).length}),la.fn.offset=function(a){if(arguments.length)return a===c?this:this.each(function(b){la.offset.setOffset(this,a,b)});var b,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return b=g.documentElement,la.contains(b,f)?(typeof f.getBoundingClientRect!==X&&(e=f.getBoundingClientRect()),d=U(g),{top:e.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):e},la.offset={setOffset:function(a,b,c){var d=la.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=la(a),h=g.offset(),i=la.css(a,"top"),j=la.css(a,"left"),k=("absolute"===d||"fixed"===d)&&la.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),la.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},la.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===la.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),la.nodeName(a[0],"html")||(c=a.offset()),c.top+=la.css(a[0],"borderTopWidth",!0),c.left+=la.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-la.css(d,"marginTop",!0),left:b.left-c.left-la.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||$;a&&!la.nodeName(a,"html")&&"static"===la.css(a,"position");)a=a.offsetParent;return a||$})}}),la.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);la.fn[a]=function(e){return la.access(this,function(a,e,f){var g=U(a);return f===c?g?b in g?g[b]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?la(g).scrollLeft():f,d?f:la(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),la.each({Height:"height",Width:"width"},function(a,b){la.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,e){la.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return la.access(this,function(b,d,e){var f;return la.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):e===c?la.css(b,d,h):la.style(b,d,e,h)},b,g?e:c,g,null)}})}),la.fn.size=function(){return this.length},la.fn.andSelf=la.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=la:(a.jQuery=a.$=la,"function"==typeof define&&define.amd&&define("jquery",[],function(){return la})),b&&(b.jQuery=la)}(window,ipmd.ext),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;h<i;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),
this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0))}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:d<0?"left":c>0?"right":"center",vertical:f<0?"top":e>0?"bottom":"middle"};n<l&&h(c+d)<n&&(i.horizontal="center"),p<m&&h(e+f)<p&&(i.vertical="middle"),g(h(c),h(d))>g(h(e),h(f))?i.important="horizontal":i.important="vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&j<=0?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&i<=0?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&j<=0?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&i<=0?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];k<0?(c=a.left+m+n+o+b.collisionWidth-g-f,(c<0||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];k<0?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(d<0||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&e<11,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0))},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1)},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,r<h-p||q>i+p||t<j-p||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&a<b+c}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];b<c.length;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;
this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return!(!d||(d.currentItem||d.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),!e&&(!!this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,b,d){if(!b.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.width,j=h+a.helperProportions.height,k=b.offset.left,l=b.offset.top,m=k+b.proportions().width,n=l+b.proportions().height;switch(d){case"fit":return k<=g&&i<=m&&l<=h&&j<=n;case"intersect":return k<g+a.helperProportions.width/2&&i-a.helperProportions.width/2<m&&l<h+a.helperProportions.height/2&&j-a.helperProportions.height/2<n;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,c(f,l,b.proportions().height)&&c(e,k,b.proportions().width);case"touch":return(h>=l&&h<=n||j>=l&&j<=n||h<l&&j>n)&&(g>=k&&g<=m||i>=k&&i<=m||g<k&&i>m);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){function c(a){return parseInt(a,10)||0}function d(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=c(this.helper.css("left")),e=c(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return!!n&&(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1)},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,c,e,f,g,h=this.options;g={minWidth:d(h.minWidth)?h.minWidth:0,maxWidth:d(h.maxWidth)?h.maxWidth:1/0,minHeight:d(h.minHeight)?h.minHeight:0,maxHeight:d(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,c=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),c<g.maxWidth&&(g.maxWidth=c),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,e=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,e=d(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=d(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=d(a.width)&&b.minWidth&&b.minWidth>a.width,h=d(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(c),l=/nw|ne|n/.test(c);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;b<c.length;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=c(b.css("padding"+e))}),j.containerOffset=b.offset(),j.containerPosition=b.position(),j.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=Math.abs(g.parentData.left)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(n-j>0?(b.size.height=n,b.position.top=f.top-l):(b.size.height=j,b.position.top=f.top+e.height-j),m-i>0?(b.size.width=m,b.position.left=f.left-k):(b.size.width=i,b.position.left=f.left+e.width-i))}})}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");if(e)return d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||c.right<f||c.top>i||c.bottom<g):"fit"===e.tolerance&&(j=c.left>f&&c.right<h&&c.top>g&&c.bottom<i),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&a<b+c}function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===a.axis||d(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")===f)return d=a(this),!1}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&!(e===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===e||a.contains(this.placeholder[0],e)||"semi-dynamic"===this.options.type&&a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),
this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&d+j<i,m="y"===this.options.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=b&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return!!e&&(this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1))},_intersectsWithSides:function(a){var b=c(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&b||"up"===e&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;d<j;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){c&&!d.forcePlaceholderSize||(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||d(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(n&&!c(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height)||(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),Math.abs(l-k)<g&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down")));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[p].element,!0),this._trigger("change",b,this._uiHash()),this.containers[p]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),d[0].style.width&&!c.forceHelperSize||d.width(this.currentItem.width()),d[0].style.height&&!c.forceHelperSize||d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a,b){var c=0,d={},e={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",e.height=e.paddingTop=e.paddingBottom=e.borderTopWidth=e.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var b,d=this.options,e=d.heightStyle,f=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(b){var c=a(this),d=c.attr("id"),e=c.next(),f=e.attr("id");d||(d=g+"-header-"+b,c.attr("id",d)),f||(f=g+"-panel-"+b,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(d.event),"fill"===e?(b=f.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=!g&&this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,c){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(c)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(d,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(e,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}})):b.animate(d,h,g,n):a.animate(e,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}(jQuery),function(a,b){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=!!f||!g&&this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({
of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a,b){var c,d="ui-button ui-widget ui-state-default ui-corner-all",e="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},g=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,e=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){e.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];g(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!e.disabled&&(a(this).addClass("ui-state-active"),c=this,void b.document.one("mouseup",function(){c=null}))}).bind("mouseup"+this.eventNamespace,function(){return!e.disabled&&void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return!e.disabled&&void(b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",e.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+e).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.element.prop("disabled",!!b),void(b&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?g(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label))}}),a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),"focus"!==d&&"both"!==d||b.focus(this._showDatepicker),"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),void(k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>-1},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id===a.datepicker._mainDivId||0!==c.parents("#"+a.datepicker._mainDivId).length||c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)&&(!c.hasClass(a.datepicker.markerClassName)||a.datepicker._curInst===d)||a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=c.substring(i).match(e);if(!f)throw"Missing number at position "+i;return i+=f[0].length,parseInt(f[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];if(c.substr(i,d.length).toLowerCase()===d.toLowerCase())return f=b[0],i+=d.length,!1}),f!==-1)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=k?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),r<=f)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),
g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&b<Z?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,_<0&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;J<H;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;v<7;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&I<Z||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;k<12;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";o<=p;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.4"}(jQuery),function(a,b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(e.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){d.height=a(this).height(),d.width=a(this).width(),a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var e=this,f=!1,g={};a.each(b,function(a,b){e._setOption(a,b),a in c&&(f=!0),a in d&&(g[a]=b)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return!!a(b.target).closest(".ui-dialog").length||!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),a.ui.dialog.overlayInstances=0,a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(e[0]<0?e[0]:"+"+e[0])+" "+d[1]+(e[1]<0?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(c),b||this.uiDialog.hide()}})}(jQuery),function(a,b){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&d.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),e<0?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),
this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return a===b&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;b<c;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active"))return this._start(b)!==!1&&void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return!(!this.spinning&&this._trigger("start",a)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}"max"!==a&&"min"!==a&&"step"!==a||"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a=a.cloneNode(!1),a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||a.inArray(d,b)!==-1?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),a.inArray(c,d)!==-1)return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);e!==-1&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),
b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return void g.find(".ui-tooltip-content").html(e);d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(!0,d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";if(h)return f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:l<=.5?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=d<=.5?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||!a.fx.step[d]&&isNaN(parseFloat(e))||(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!(b&&"number"!=typeof b&&!a.fx.speeds[b])||("string"==typeof b&&!a.effects.effect[b]||(!!a.isFunction(b)||"object"==typeof b&&!b.effect))}a.extend(a.effects,{version:"1.10.4",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<.5?c(2*a)/2:1-c(a*-2+2)/2}})}()}(jQuery),function(a,b){var c=/up|down|vertical/,d=/up|left|vertical|horizontal/;a.effects.effect.blind=function(b,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,b.mode||"hide"),l=b.direction||"up",m=c.test(l),n=m?"height":"width",o=m?"top":"left",p=d.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a,b){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;d<n;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a,b){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a,b){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a,b){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;f<l;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;g<m;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a,b){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a,b){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a,b){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a,b){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for(!g&&e.is(":visible")||(e.css("opacity",0).show(),l=1),d=1;d<j;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a,b){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},"box"!==p&&"both"!==p||(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),"content"!==p&&"both"!==p||f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),"content"!==p&&"both"!==p||(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a,b){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;d<j;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a,b){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a,b){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(a){"use strict";function b(c,d){var e=a.noop,f=this,g={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,formatGroup:b.formatGroup,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return a.value.toLowerCase().indexOf(c)!==-1},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.noSuggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},f.hint=null,f.hintValue="",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.utils=c,a.Autocomplete=b,b.formatResult=function(a,b){if(!b)return a.value;var d="("+c.escapeRegExChars(b)+")";return a.value.replace(new RegExp(d,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},b.formatGroup=function(a,b){return'<div class="autocomplete-group"><strong>'+b+"</strong></div>"},b.prototype={killerFn:null,initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.killerFn=function(b){a(b.target).closest("."+d.options.containerClass).length||(d.killSuggestions(),d.disableKillerFn())},d.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),"auto"!==g.width&&c.css("width",g.width),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){return d.select(a(this).data("index")),!1}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on("resize.autocomplete",d.fixPositionCapture),d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete",function(){d.onFocus()}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("input.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.fixPosition(),a.el.val().length>=a.options.minChars&&a.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var a=this;a.currentRequest&&(a.currentRequest.abort(),a.currentRequest=null)},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,"bottom"),a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);
e=Math.max(l,m)===l?"top":"bottom"}if("top"===e?i.top+=-f:i.top+=g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&(i.width=b.el.outerWidth()+"px"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.visible&&(a.options.preserveInput||a.el.val(a.currentValue),a.hide()),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:!document.selection||(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length)},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case d.ESC:b.el.val(b.currentValue),b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(b.selectedIndex===-1)return void b.hide();if(b.select(b.selectedIndex),b.options.tabDisabled===!1)return;break;case d.RETURN:if(b.selectedIndex===-1)return void b.hide();b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);return b.selection&&b.currentValue!==e&&(b.selection=null,(c.onInvalidateSelection||a.noop).call(b.element)),clearInterval(b.onChangeInterval),b.currentValue=d,b.selectedIndex=-1,c.triggerSelectOnValidInput&&b.isExactMatch(e)?void b.select(0):void(e.length<c.minChars?b.hide():b.getSuggestions(e))},isExactMatch:function(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,g=this,h=g.options,i=h.serviceUrl;if(h.params[h.paramName]=b,d=h.ignoreParams?null:h.params,h.onSearchStart.call(g.element,h.params)!==!1){if(a.isFunction(h.lookup))return void h.lookup(b,function(a){g.suggestions=a.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,a.suggestions)});g.isLocal?c=g.getSuggestionsLocal(b):(a.isFunction(i)&&(i=i.call(g.element,b)),e=i+"?"+a.param(d||{}),c=g.cachedResponse[e]),c&&a.isArray(c.suggestions)?(g.suggestions=c.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,c.suggestions)):g.isBadQuery(b)?h.onSearchComplete.call(g.element,b,[]):(g.abortAjax(),f={url:i,data:d,type:h.type,dataType:h.dataType},a.extend(f,h.ajaxSettings),g.currentRequest=a.ajax(f).done(function(a){var c;g.currentRequest=null,c=h.transformResult(a,b),g.processResponse(c,b,e),h.onSearchComplete.call(g.element,b,c.suggestions)}).fail(function(a,c,d){h.onSearchError.call(g.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=d.groupBy,f=d.formatResult,g=c.getQuery(c.currentValue),h=c.classes.suggestion,i=c.classes.selected,j=a(c.suggestionsContainer),k=a(c.noSuggestionsContainer),l=d.beforeRender,m="",n=function(a,c){var f=a.data[e];return b===f?"":(b=f,d.formatGroup(a,b))};return d.triggerSelectOnValidInput&&c.isExactMatch(g)?void c.select(0):(a.each(c.suggestions,function(a,b){e&&(m+=n(b,g,a)),m+='<div class="'+h+'" data-index="'+a+'">'+f(b,g,a)+"</div>"}),this.adjustContainerWidth(),k.detach(),j.html(m),a.isFunction(l)&&l.call(c.element,j,c.suggestions),c.fixPosition(),j.show(),d.autoSelectFirst&&(c.selectedIndex=0,j.scrollTop(0),j.children("."+h).first().addClass(i)),c.visible=!0,void c.findBestHint())},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);this.adjustContainerWidth(),d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer);"auto"===d.width?(b=c.el.outerWidth(),e.css("width",b>0?b:300)):"flex"===d.width&&e.css("width","")},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),a.inArray(b,["auto","bottom","top"])===-1&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&!a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,d.selectedIndex!==-1&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a),b.disableKillerFn()},moveUp:function(){var b=this;if(b.selectedIndex!==-1)return 0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,e<f?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value)),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.autocomplete=a.fn.devbridgeAutocomplete=function(c,d){var e="autocomplete";return arguments.length?this.each(function(){var f=a(this),g=f.data(e);"string"==typeof c?g&&"function"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))}):this.first().data(e)}}),function(a){"use strict";var b,c=a.Uint8Array,d=a.HTMLCanvasElement,e=d&&d.prototype,f=/\s*;\s*base64\s*(?:;|$)/i,g="toDataURL",h=function(a){for(var d,e,f,g=a.length,h=new c(g/4*3|0),i=0,j=0,k=[0,0],l=0,m=0;g--;)e=a.charCodeAt(i++),d=b[e-43],255!==d&&d!==f&&(k[1]=k[0],k[0]=e,m=m<<6|d,l++,4===l&&(h[j++]=m>>>16,61!==k[1]&&(h[j++]=m>>>8),61!==k[0]&&(h[j++]=m),l=0));return h};c&&(b=new c([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!d||e.toBlob&&e.toBlobHD||(e.toBlob||(e.toBlob=function(a,b){if(b||(b="image/png"),this.mozGetAsFile)return void a(this.mozGetAsFile("canvas",b));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(b))return void a(this.msToBlob());var d,e=Array.prototype.slice.call(arguments,1),i=this[g].apply(this,e),j=i.indexOf(","),k=i.substring(j+1),l=f.test(i.substring(0,j));Blob.fake?(d=new Blob,l?d.encoding="base64":d.encoding="URI",d.data=k,d.size=k.length):c&&(d=l?new Blob([h(k)],{type:b}):new Blob([decodeURIComponent(k)],{type:b})),a(d)}),!e.toBlobHD&&e.toDataURLHD?e.toBlobHD=function(){g="toDataURLHD";var a=this.toBlob();return g="toDataURL",a}:e.toBlobHD=e.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Clipboard=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){for(;a&&a.nodeType!==e;){if("function"==typeof a.matches&&a.matches(b))return a;a=a.parentNode}}var e=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var f=Element.prototype;f.matches=f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector}b.exports=d},{}],2:[function(a,b,c){function d(a,b,c,d,f){var g=e.apply(this,arguments);return a.addEventListener(c,g,f),{destroy:function(){a.removeEventListener(c,g,f)}}}function e(a,b,c,d){return function(c){c.delegateTarget=f(c.target,b),c.delegateTarget&&d.call(a,c)}}var f=a("./closest");b.exports=d},{"./closest":1}],3:[function(a,b,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType},c.nodeList=function(a){var b=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===b||"[object HTMLCollection]"===b)&&"length"in a&&(0===a.length||c.node(a[0]))},c.string=function(a){return"string"==typeof a||a instanceof String},c.fn=function(a){var b=Object.prototype.toString.call(a);return"[object Function]"===b}},{}],4:[function(a,b,c){function d(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!h.string(b))throw new TypeError("Second argument must be a String");if(!h.fn(c))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,b,c);if(h.nodeList(a))return f(a,b,c);if(h.string(a))return g(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function e(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function f(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function g(a,b,c){return i(document.body,a,b,c)}var h=a("./is"),i=a("delegate");b.exports=d},{"./is":3,delegate:2}],5:[function(a,b,c){function d(a){var b;if("SELECT"===a.nodeName)a.focus(),b=a.value;else if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName){var c=a.hasAttribute("readonly");c||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),c||a.removeAttribute("readonly"),b=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),e=document.createRange();e.selectNodeContents(a),d.removeAllRanges(),d.addRange(e),b=d.toString()}return b}b.exports=d},{}],6:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],7:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","select"],f);else if("undefined"!=typeof d)f(c,b("select"));else{var g={exports:{}};f(g,e.select),e.clipboardAction=g.exports}}(this,function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(){function a(b){d(this,a),this.resolveOptions(b),this.initSelection()}return g(a,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action,this.container=a.container,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return a.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=c+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,e["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,e["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var a=void 0;try{a=document.execCommand(this.action)}catch(b){a=!1}this.handleResult(a)}},{key:"handleResult",value:function(a){this.emitter.emit(a?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=a,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(a){if(void 0!==a){if(!a||"object"!==("undefined"==typeof a?"undefined":f(a))||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function(){return this._target}}]),a}();a.exports=h})},{select:5}],8:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if("undefined"!=typeof d)f(c,b("./clipboard-action"),b("tiny-emitter"),b("good-listener"));else{var g={exports:{}};f(g,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=g.exports}}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){var c="data-clipboard-"+a;if(b.hasAttribute(c))return b.getAttribute(c)}var j=e(b),k=e(c),l=e(d),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d.trigger=a,d.resolveOptions(c),d}return h(b,a),n(b,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof a.action?a.action:this.defaultAction,this.target="function"==typeof a.target?a.target:this.defaultTarget,this.text="function"==typeof a.text?a.text:this.defaultText,this.container="object"===m(a.container)?a.container:document.body}},{key:"listenClick",value:function(a){var b=this;this.listener=(0,l["default"])(a,"click",function(a){return b.onClick(a)})}},{key:"onClick",value:function(a){var b=a?a.delegateTarget||a.currentTarget:this.trigger;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new j["default"]({action:this.action(b),target:this.target(b),text:this.text(b),container:this.container,trigger:b,emitter:this})}},{key:"defaultAction",value:function(a){return i("action",a)}},{key:"defaultTarget",value:function(a){var b=i("target",a);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(a){return i("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],b="string"==typeof a?[a]:a,c=!!document.queryCommandSupported;return b.forEach(function(a){c=c&&!!document.queryCommandSupported(a)}),c}}]),b}(k["default"]);a.exports=o})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e=!a.externalHost&&"download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=[],m=function(){for(var a=l.length;a--;){var b=l[a];"string"==typeof b?c().revokeObjectURL(b):b.remove()}l.length=0},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(b,i){var m,o,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return l.push(a),a},u=function(){n(q,"writestart progress write writeend".split(" "))},v=function(){!s&&m||(m=t(b)),o?o.location.href=m:window.open(m,"_blank"),q.readyState=q.DONE,u()},w=function(a){return function(){if(q.readyState!==q.DONE)return a.apply(this,arguments)}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,i||(i="download"),e?(m=t(b),d.href=m,d.download=i,f(d),q.readyState=q.DONE,void u()):(a.chrome&&r&&r!==j&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=b.size,void h(a.TEMPORARY,k,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(i,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){o.location.href=a.toURL(),l.push(a),q.readyState=q.DONE,n(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(i,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v)):void v())},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,a.addEventListener("unload",m,!1),q.unload=function(){m(),a.removeEventListener("unload",m,!1)},q}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),String.prototype.endsWithAny=function(){for(var a=Array.prototype.slice.call(arguments),b=this.toLowerCase().toString(),c=0;c<a.length;c++)if(b.indexOf(a[c],b.length-a[c].length)!==-1)return!0;return!1};var saveTextAs=saveTextAs||function(a,b,c){if(b=b||"download.txt",c=c||"utf-8",a=(a||"").replace(/\r?\n/g,"\r\n"),saveAs&&Blob){var d=new Blob([a],{type:"text/plain;charset="+c});return saveAs(d,b),!0}var e=window.frames.saveTxtWindow;if(!e&&(e=document.createElement("iframe"),e.id="saveTxtWindow",e.style.display="none",document.body.insertBefore(e,null),e=window.frames.saveTxtWindow,!e&&(e=window.open("","_temp","width=100,height=100"),!e)))return window.alert("Sorry, download file could not be created."),!1;var f=e.document;f.open("text/html","replace"),f.charset=c,b.endsWithAny(".htm",".html")?(f.close(),f.body.innerHTML="\r\n"+a+"\r\n"):(b.endsWithAny(".txt")||(b+=".txt"),f.write(a),f.close());var g=f.execCommand("SaveAs",null,b);return e.close(),g};!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(ipmd.ext.jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=g.detail*-1),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=g.wheelDeltaX*-1),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=l*-1,l=0),j=0===l?k:l,"deltaY"in g&&(l=g.deltaY*-1,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=k*-1)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||m<f)&&(f=m,120===f&&(d=!0,f/=40)),d&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null,d=null}var d,e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.8",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a,b){"object"==typeof exports?module.exports=b(global):"function"==typeof define&&define.amd?define([],function(){return b(a)}):b(a)}(this,function(a){"use strict";function b(a){return f=a}function c(){return f="undefined"!=typeof Float32Array?Float32Array:Array}var d=1e-6,e={};!function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),b=new Int32Array(a.buffer);e.invsqrt=function(c){var d=.5*c;a[0]=c;var e=1.5;b[0]=1597463007-(b[0]>>1);var f=a[0];return f*(e-d*f*f)}}else e.invsqrt=function(a){return 1/Math.sqrt(a)}}();var f=null;c();var g={};g.create=function(a){var b=new f(3);return a?(b[0]=a[0],b[1]=a[1],b[2]=a[2]):b[0]=b[1]=b[2]=0,b},g.createFrom=function(a,b,c){var d=new f(3);return d[0]=a,d[1]=b,d[2]=c,d},g.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},g.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d},g.add=function(a,b,c){return c&&a!==c?(c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c):(a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a)},g.subtract=function(a,b,c){return c&&a!==c?(c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c):(a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a)},g.multiply=function(a,b,c){return c&&a!==c?(c[0]=a[0]*b[0],c[1]=a[1]*b[1],c[2]=a[2]*b[2],c):(a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],a)},g.negate=function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b},g.scale=function(a,b,c){return c&&a!==c?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c):(a[0]*=b,a[1]*=b,a[2]*=b,a)},g.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=Math.sqrt(c*c+d*d+e*e);return f?1===f?(b[0]=c,b[1]=d,b[2]=e,b):(f=1/f,b[0]=c*f,b[1]=d*f,b[2]=e*f,b):(b[0]=0,b[1]=0,b[2]=0,b)},g.cross=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=b[0],h=b[1],i=b[2];return c[0]=e*i-f*h,c[1]=f*g-d*i,c[2]=d*h-e*g,c},g.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},g.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},g.direction=function(a,b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1],f=a[2]-b[2],g=Math.sqrt(d*d+e*e+f*f);return g?(g=1/g,c[0]=d*g,c[1]=e*g,c[2]=f*g,c):(c[0]=0,c[1]=0,c[2]=0,c)},g.lerp=function(a,b,c,d){return d||(d=a),d[0]=a[0]+c*(b[0]-a[0]),d[1]=a[1]+c*(b[1]-a[1]),d[2]=a[2]+c*(b[2]-a[2]),d},g.dist=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)};var h=null,i=new f(4);g.unproject=function(a,b,c,d,e){e||(e=a),h||(h=o.create());var f=h,g=i;return g[0]=2*(a[0]-d[0])/d[2]-1,g[1]=2*(a[1]-d[1])/d[3]-1,g[2]=2*a[2]-1,g[3]=1,o.multiply(c,b,f),o.inverse(f)?(o.multiplyVec4(f,g),0===g[3]?null:(e[0]=g[0]/g[3],e[1]=g[1]/g[3],e[2]=g[2]/g[3],e)):null};var j=g.createFrom(1,0,0),k=g.createFrom(0,1,0),l=g.createFrom(0,0,1),m=g.create();g.rotationTo=function(a,b,c){c||(c=p.create());var d=g.dot(a,b),e=m;if(d>=1)p.set(q,c);else if(d<1e-6-1)g.cross(j,a,e),g.length(e)<1e-6&&g.cross(k,a,e),g.length(e)<1e-6&&g.cross(l,a,e),g.normalize(e),p.fromAngleAxis(Math.PI,e,c);else{var f=Math.sqrt(2*(1+d)),h=1/f;g.cross(a,b,e),c[0]=e[0]*h,c[1]=e[1]*h,c[2]=e[2]*h,c[3]=.5*f,p.normalize(c)}return c[3]>1?c[3]=1:c[3]<-1&&(c[3]=-1),c},g.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var n={};n.create=function(a){var b=new f(9);return a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]):b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=0,b},n.createFrom=function(a,b,c,d,e,g,h,i,j){var k=new f(9);return k[0]=a,k[1]=b,k[2]=c,k[3]=d,k[4]=e,k[5]=g,k[6]=h,k[7]=i,k[8]=j,k},n.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},n.inverse=function(a,b){var c,d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=l*h-i*k,o=-l*g+i*j,p=k*g-h*j,q=d*m+e*o+f*p;return q?(c=1/q,b||(b=n.create()),b[0]=m*c,b[1]=(-l*e+f*k)*c,b[2]=(i*e-f*h)*c,b[3]=o*c,b[4]=(l*d-f*j)*c,b[5]=(-i*d+f*g)*c,b[6]=p*c,b[7]=(-k*d+e*j)*c,b[8]=(h*d-e*g)*c,b):null},n.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=b[0],n=b[1],o=b[2],p=b[3],q=b[4],r=b[5],s=b[6],t=b[7],u=b[8];return c[0]=m*d+n*g+o*j,c[1]=m*e+n*h+o*k,c[2]=m*f+n*i+o*l,c[3]=p*d+q*g+r*j,c[4]=p*e+q*h+r*k,c[5]=p*f+q*i+r*l,c[6]=s*d+t*g+u*j,c[7]=s*e+t*h+u*k,c[8]=s*f+t*i+u*l,c},n.multiplyVec2=function(a,b,c){c||(c=b);var d=b[0],e=b[1];return c[0]=d*a[0]+e*a[3]+a[6],c[1]=d*a[1]+e*a[4]+a[7],c},n.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];return c[0]=d*a[0]+e*a[3]+f*a[6],c[1]=d*a[1]+e*a[4]+f*a[7],c[2]=d*a[2]+e*a[5]+f*a[8],c},n.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},n.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d&&Math.abs(a[3]-b[3])<d&&Math.abs(a[4]-b[4])<d&&Math.abs(a[5]-b[5])<d&&Math.abs(a[6]-b[6])<d&&Math.abs(a[7]-b[7])<d&&Math.abs(a[8]-b[8])<d},n.identity=function(a){return a||(a=n.create()),a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},n.transpose=function(a,b){if(!b||a===b){var c=a[1],d=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=c,a[5]=a[7],a[6]=d,a[7]=e,a}return b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8],b},n.toMat4=function(a,b){return b||(b=o.create()),b[15]=1,b[14]=0,b[13]=0,b[12]=0,b[11]=0,b[10]=a[8],b[9]=a[7],b[8]=a[6],b[7]=0,b[6]=a[5],b[5]=a[4],
b[4]=a[3],b[3]=0,b[2]=a[2],b[1]=a[1],b[0]=a[0],b},n.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"};var o={};o.create=function(a){var b=new f(16);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]),b},o.createFrom=function(a,b,c,d,e,g,h,i,j,k,l,m,n,o,p,q){var r=new f(16);return r[0]=a,r[1]=b,r[2]=c,r[3]=d,r[4]=e,r[5]=g,r[6]=h,r[7]=i,r[8]=j,r[9]=k,r[10]=l,r[11]=m,r[12]=n,r[13]=o,r[14]=p,r[15]=q,r},o.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},o.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d&&Math.abs(a[3]-b[3])<d&&Math.abs(a[4]-b[4])<d&&Math.abs(a[5]-b[5])<d&&Math.abs(a[6]-b[6])<d&&Math.abs(a[7]-b[7])<d&&Math.abs(a[8]-b[8])<d&&Math.abs(a[9]-b[9])<d&&Math.abs(a[10]-b[10])<d&&Math.abs(a[11]-b[11])<d&&Math.abs(a[12]-b[12])<d&&Math.abs(a[13]-b[13])<d&&Math.abs(a[14]-b[14])<d&&Math.abs(a[15]-b[15])<d},o.identity=function(a){return a||(a=o.create()),a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},o.transpose=function(a,b){if(!b||a===b){var c=a[1],d=a[2],e=a[3],f=a[6],g=a[7],h=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=c,a[6]=a[9],a[7]=a[13],a[8]=d,a[9]=f,a[11]=a[14],a[12]=e,a[13]=g,a[14]=h,a}return b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15],b},o.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15];return n*k*h*e-j*o*h*e-n*g*l*e+f*o*l*e+j*g*p*e-f*k*p*e-n*k*d*i+j*o*d*i+n*c*l*i-b*o*l*i-j*c*p*i+b*k*p*i+n*g*d*m-f*o*d*m-n*c*h*m+b*o*h*m+f*c*p*m-b*g*p*m-j*g*d*q+f*k*d*q+j*c*h*q-b*k*h*q-f*c*l*q+b*g*l*q},o.inverse=function(a,b){b||(b=a);var c,d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14],s=a[15],t=d*i-e*h,u=d*j-f*h,v=d*k-g*h,w=e*j-f*i,x=e*k-g*i,y=f*k-g*j,z=l*q-m*p,A=l*r-n*p,B=l*s-o*p,C=m*r-n*q,D=m*s-o*q,E=n*s-o*r,F=t*E-u*D+v*C+w*B-x*A+y*z;return F?(c=1/F,b[0]=(i*E-j*D+k*C)*c,b[1]=(-e*E+f*D-g*C)*c,b[2]=(q*y-r*x+s*w)*c,b[3]=(-m*y+n*x-o*w)*c,b[4]=(-h*E+j*B-k*A)*c,b[5]=(d*E-f*B+g*A)*c,b[6]=(-p*y+r*v-s*u)*c,b[7]=(l*y-n*v+o*u)*c,b[8]=(h*D-i*B+k*z)*c,b[9]=(-d*D+e*B-g*z)*c,b[10]=(p*x-q*v+s*t)*c,b[11]=(-l*x+m*v-o*t)*c,b[12]=(-h*C+i*A-j*z)*c,b[13]=(d*C-e*A+f*z)*c,b[14]=(-p*w+q*u-r*t)*c,b[15]=(l*w-m*u+n*t)*c,b):null},o.toRotationMat=function(a,b){return b||(b=o.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},o.toMat3=function(a,b){return b||(b=n.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[4],b[4]=a[5],b[5]=a[6],b[6]=a[8],b[7]=a[9],b[8]=a[10],b},o.toInverseMat3=function(a,b){var c,d=a[0],e=a[1],f=a[2],g=a[4],h=a[5],i=a[6],j=a[8],k=a[9],l=a[10],m=l*h-i*k,o=-l*g+i*j,p=k*g-h*j,q=d*m+e*o+f*p;return q?(c=1/q,b||(b=n.create()),b[0]=m*c,b[1]=(-l*e+f*k)*c,b[2]=(i*e-f*h)*c,b[3]=o*c,b[4]=(l*d-f*j)*c,b[5]=(-i*d+f*g)*c,b[6]=p*c,b[7]=(-k*d+e*j)*c,b[8]=(h*d-e*g)*c,b):null},o.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14],s=a[15],t=b[0],u=b[1],v=b[2],w=b[3];return c[0]=t*d+u*h+v*l+w*p,c[1]=t*e+u*i+v*m+w*q,c[2]=t*f+u*j+v*n+w*r,c[3]=t*g+u*k+v*o+w*s,t=b[4],u=b[5],v=b[6],w=b[7],c[4]=t*d+u*h+v*l+w*p,c[5]=t*e+u*i+v*m+w*q,c[6]=t*f+u*j+v*n+w*r,c[7]=t*g+u*k+v*o+w*s,t=b[8],u=b[9],v=b[10],w=b[11],c[8]=t*d+u*h+v*l+w*p,c[9]=t*e+u*i+v*m+w*q,c[10]=t*f+u*j+v*n+w*r,c[11]=t*g+u*k+v*o+w*s,t=b[12],u=b[13],v=b[14],w=b[15],c[12]=t*d+u*h+v*l+w*p,c[13]=t*e+u*i+v*m+w*q,c[14]=t*f+u*j+v*n+w*r,c[15]=t*g+u*k+v*o+w*s,c},o.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];return c[0]=a[0]*d+a[4]*e+a[8]*f+a[12],c[1]=a[1]*d+a[5]*e+a[9]*f+a[13],c[2]=a[2]*d+a[6]*e+a[10]*f+a[14],c},o.multiplyVec4=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2],g=b[3];return c[0]=a[0]*d+a[4]*e+a[8]*f+a[12]*g,c[1]=a[1]*d+a[5]*e+a[9]*f+a[13]*g,c[2]=a[2]*d+a[6]*e+a[10]*f+a[14]*g,c[3]=a[3]*d+a[7]*e+a[11]*f+a[15]*g,c},o.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=b[0],q=b[1],r=b[2];return c&&a!==c?(d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],c[0]=d,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=i,c[6]=j,c[7]=k,c[8]=l,c[9]=m,c[10]=n,c[11]=o,c[12]=d*p+h*q+l*r+a[12],c[13]=e*p+i*q+m*r+a[13],c[14]=f*p+j*q+n*r+a[14],c[15]=g*p+k*q+o*r+a[15],c):(a[12]=a[0]*p+a[4]*q+a[8]*r+a[12],a[13]=a[1]*p+a[5]*q+a[9]*r+a[13],a[14]=a[2]*p+a[6]*q+a[10]*r+a[14],a[15]=a[3]*p+a[7]*q+a[11]*r+a[15],a)},o.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2];return c&&a!==c?(c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d,c[4]=a[4]*e,c[5]=a[5]*e,c[6]=a[6]*e,c[7]=a[7]*e,c[8]=a[8]*f,c[9]=a[9]*f,c[10]=a[10]*f,c[11]=a[11]*f,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c):(a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=e,a[8]*=f,a[9]*=f,a[10]*=f,a[11]*=f,a)},o.rotate=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=c[0],D=c[1],E=c[2],F=Math.sqrt(C*C+D*D+E*E);return F?(1!==F&&(F=1/F,C*=F,D*=F,E*=F),e=Math.sin(b),f=Math.cos(b),g=1-f,h=a[0],i=a[1],j=a[2],k=a[3],l=a[4],m=a[5],n=a[6],o=a[7],p=a[8],q=a[9],r=a[10],s=a[11],t=C*C*g+f,u=D*C*g+E*e,v=E*C*g-D*e,w=C*D*g-E*e,x=D*D*g+f,y=E*D*g+C*e,z=C*E*g+D*e,A=D*E*g-C*e,B=E*E*g+f,d?a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a,d[0]=h*t+l*u+p*v,d[1]=i*t+m*u+q*v,d[2]=j*t+n*u+r*v,d[3]=k*t+o*u+s*v,d[4]=h*w+l*x+p*y,d[5]=i*w+m*x+q*y,d[6]=j*w+n*x+r*y,d[7]=k*w+o*x+s*y,d[8]=h*z+l*A+p*B,d[9]=i*z+m*A+q*B,d[10]=j*z+n*A+r*B,d[11]=k*z+o*A+s*B,d):null},o.rotateX=function(a,b,c){var d=Math.sin(b),e=Math.cos(b),f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11];return c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[4]=f*e+j*d,c[5]=g*e+k*d,c[6]=h*e+l*d,c[7]=i*e+m*d,c[8]=f*-d+j*e,c[9]=g*-d+k*e,c[10]=h*-d+l*e,c[11]=i*-d+m*e,c},o.rotateY=function(a,b,c){var d=Math.sin(b),e=Math.cos(b),f=a[0],g=a[1],h=a[2],i=a[3],j=a[8],k=a[9],l=a[10],m=a[11];return c?a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=f*e+j*-d,c[1]=g*e+k*-d,c[2]=h*e+l*-d,c[3]=i*e+m*-d,c[8]=f*d+j*e,c[9]=g*d+k*e,c[10]=h*d+l*e,c[11]=i*d+m*e,c},o.rotateZ=function(a,b,c){var d=Math.sin(b),e=Math.cos(b),f=a[0],g=a[1],h=a[2],i=a[3],j=a[4],k=a[5],l=a[6],m=a[7];return c?a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=f*e+j*d,c[1]=g*e+k*d,c[2]=h*e+l*d,c[3]=i*e+m*d,c[4]=f*-d+j*e,c[5]=g*-d+k*e,c[6]=h*-d+l*e,c[7]=i*-d+m*e,c},o.frustum=function(a,b,c,d,e,f,g){g||(g=o.create());var h=b-a,i=d-c,j=f-e;return g[0]=2*e/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*e/i,g[6]=0,g[7]=0,g[8]=(b+a)/h,g[9]=(d+c)/i,g[10]=-(f+e)/j,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(f*e*2)/j,g[15]=0,g},o.perspective=function(a,b,c,d,e){var f=c*Math.tan(a*Math.PI/360),g=f*b;return o.frustum(-g,g,-f,f,c,d,e)},o.ortho=function(a,b,c,d,e,f,g){g||(g=o.create());var h=b-a,i=d-c,j=f-e;return g[0]=2/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2/i,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=-2/j,g[11]=0,g[12]=-(a+b)/h,g[13]=-(d+c)/i,g[14]=-(f+e)/j,g[15]=1,g},o.lookAt=function(a,b,c,d){d||(d=o.create());var e,f,g,h,i,j,k,l,m,n,p=a[0],q=a[1],r=a[2],s=c[0],t=c[1],u=c[2],v=b[0],w=b[1],x=b[2];return p===v&&q===w&&r===x?o.identity(d):(k=p-v,l=q-w,m=r-x,n=1/Math.sqrt(k*k+l*l+m*m),k*=n,l*=n,m*=n,e=t*m-u*l,f=u*k-s*m,g=s*l-t*k,n=Math.sqrt(e*e+f*f+g*g),n?(n=1/n,e*=n,f*=n,g*=n):(e=0,f=0,g=0),h=l*g-m*f,i=m*e-k*g,j=k*f-l*e,n=Math.sqrt(h*h+i*i+j*j),n?(n=1/n,h*=n,i*=n,j*=n):(h=0,i=0,j=0),d[0]=e,d[1]=h,d[2]=k,d[3]=0,d[4]=f,d[5]=i,d[6]=l,d[7]=0,d[8]=g,d[9]=j,d[10]=m,d[11]=0,d[12]=-(e*p+f*q+g*r),d[13]=-(h*p+i*q+j*r),d[14]=-(k*p+l*q+m*r),d[15]=1,d)},o.fromRotationTranslation=function(a,b,c){c||(c=o.create());var d=a[0],e=a[1],f=a[2],g=a[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,p=e*j,q=f*j,r=g*h,s=g*i,t=g*j;return c[0]=1-(n+q),c[1]=l+t,c[2]=m-s,c[3]=0,c[4]=l-t,c[5]=1-(k+q),c[6]=p+r,c[7]=0,c[8]=m+s,c[9]=p-r,c[10]=1-(k+n),c[11]=0,c[12]=b[0],c[13]=b[1],c[14]=b[2],c[15]=1,c},o.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"};var p={};p.create=function(a){var b=new f(4);return a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0,b},p.createFrom=function(a,b,c,d){var e=new f(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e},p.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},p.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d&&Math.abs(a[3]-b[3])<d},p.identity=function(a){return a||(a=p.create()),a[0]=0,a[1]=0,a[2]=0,a[3]=1,a};var q=p.identity();p.calculateW=function(a,b){var c=a[0],d=a[1],e=a[2];return b&&a!==b?(b[0]=c,b[1]=d,b[2]=e,b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),b):(a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a)},p.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},p.inverse=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return b&&a!==b?(b[0]=-a[0]*h,b[1]=-a[1]*h,b[2]=-a[2]*h,b[3]=a[3]*h,b):(a[0]*=-h,a[1]*=-h,a[2]*=-h,a[3]*=h,a)},p.conjugate=function(a,b){return b&&a!==b?(b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=a[3],b):(a[0]*=-1,a[1]*=-1,a[2]*=-1,a)},p.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},p.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=Math.sqrt(c*c+d*d+e*e+f*f);return 0===g?(b[0]=0,b[1]=0,b[2]=0,b[3]=0,b):(g=1/g,b[0]=c*g,b[1]=d*g,b[2]=e*g,b[3]=f*g,b)},p.add=function(a,b,c){return c&&a!==c?(c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c[3]=a[3]+b[3],c):(a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a)},p.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=b[0],i=b[1],j=b[2],k=b[3];return c[0]=d*k+g*h+e*j-f*i,c[1]=e*k+g*i+f*h-d*j,c[2]=f*k+g*j+d*i-e*h,c[3]=g*k-d*h-e*i-f*j,c},p.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2],g=a[0],h=a[1],i=a[2],j=a[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return c[0]=k*j+n*-g+l*-i-m*-h,c[1]=l*j+n*-h+m*-g-k*-i,c[2]=m*j+n*-i+k*-h-l*-g,c},p.scale=function(a,b,c){return c&&a!==c?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b,c):(a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a)},p.toMat3=function(a,b){b||(b=n.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,o=d*i,p=e*i,q=f*g,r=f*h,s=f*i;return b[0]=1-(m+p),b[1]=k+s,b[2]=l-r,b[3]=k-s,b[4]=1-(j+p),b[5]=o+q,b[6]=l+r,b[7]=o-q,b[8]=1-(j+m),b},p.toMat4=function(a,b){b||(b=o.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,n=d*i,p=e*i,q=f*g,r=f*h,s=f*i;return b[0]=1-(m+p),b[1]=k+s,b[2]=l-r,b[3]=0,b[4]=k-s,b[5]=1-(j+p),b[6]=n+q,b[7]=0,b[8]=l+r,b[9]=n-q,b[10]=1-(j+m),b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},p.slerp=function(a,b,c,d){d||(d=a);var e,f,g,h,i=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];return Math.abs(i)>=1?(d!==a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]),d):(e=Math.acos(i),f=Math.sqrt(1-i*i),Math.abs(f)<.001?(d[0]=.5*a[0]+.5*b[0],d[1]=.5*a[1]+.5*b[1],d[2]=.5*a[2]+.5*b[2],d[3]=.5*a[3]+.5*b[3],d):(g=Math.sin((1-c)*e)/f,h=Math.sin(c*e)/f,d[0]=a[0]*g+b[0]*h,d[1]=a[1]*g+b[1]*h,d[2]=a[2]*g+b[2]*h,d[3]=a[3]*g+b[3]*h,d))},p.fromRotationMatrix=function(a,b){b||(b=p.create());var c,d=a[0]+a[4]+a[8];if(d>0)c=Math.sqrt(d+1),b[3]=.5*c,c=.5/c,b[0]=(a[7]-a[5])*c,b[1]=(a[2]-a[6])*c,b[2]=(a[3]-a[1])*c;else{var e=p.fromRotationMatrix.s_iNext=p.fromRotationMatrix.s_iNext||[1,2,0],f=0;a[4]>a[0]&&(f=1),a[8]>a[3*f+f]&&(f=2);var g=e[f],h=e[g];c=Math.sqrt(a[3*f+f]-a[3*g+g]-a[3*h+h]+1),b[f]=.5*c,c=.5/c,b[3]=(a[3*h+g]-a[3*g+h])*c,b[g]=(a[3*g+f]+a[3*f+g])*c,b[h]=(a[3*h+f]+a[3*f+h])*c}return b},n.toQuat4=p.fromRotationMatrix,function(){var a=n.create();p.fromAxes=function(b,c,d,e){return a[0]=c[0],a[3]=c[1],a[6]=c[2],a[1]=d[0],a[4]=d[1],a[7]=d[2],a[2]=b[0],a[5]=b[1],a[8]=b[2],p.fromRotationMatrix(a,e)}}(),p.identity=function(a){return a||(a=p.create()),a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},p.fromAngleAxis=function(a,b,c){c||(c=p.create());var d=.5*a,e=Math.sin(d);return c[3]=Math.cos(d),c[0]=e*b[0],c[1]=e*b[1],c[2]=e*b[2],c},p.toAngleAxis=function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];if(c>0){b[3]=2*Math.acos(a[3]);var d=e.invsqrt(c);b[0]=a[0]*d,b[1]=a[1]*d,b[2]=a[2]*d}else b[3]=0,b[0]=1,b[1]=0,b[2]=0;return b},p.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var r={};r.create=function(a){var b=new f(2);return a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0),b},r.createFrom=function(a,b){var c=new f(2);return c[0]=a,c[1]=b,c},r.add=function(a,b,c){return c||(c=b),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c},r.subtract=function(a,b,c){return c||(c=b),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c},r.multiply=function(a,b,c){return c||(c=b),c[0]=a[0]*b[0],c[1]=a[1]*b[1],c},r.divide=function(a,b,c){return c||(c=b),c[0]=a[0]/b[0],c[1]=a[1]/b[1],c},r.scale=function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c},r.dist=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},r.set=function(a,b){return b[0]=a[0],b[1]=a[1],b},r.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d},r.negate=function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b},r.normalize=function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];return c>0?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0,b},r.cross=function(a,b,c){var d=a[0]*b[1]-a[1]*b[0];return c?(c[0]=c[1]=0,c[2]=d,c):d},r.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},r.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},r.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},r.direction=function(a,b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1],f=d*d+e*e;return f?(f=1/Math.sqrt(f),c[0]=d*f,c[1]=e*f,c):(c[0]=0,c[1]=0,c[2]=0,c)},r.lerp=function(a,b,c,d){return d||(d=a),d[0]=a[0]+c*(b[0]-a[0]),d[1]=a[1]+c*(b[1]-a[1]),d},r.str=function(a){return"["+a[0]+", "+a[1]+"]"};var s={};s.create=function(a){var b=new f(4);return a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0,b},s.createFrom=function(a,b,c,d){var e=new f(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e},s.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},s.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d&&Math.abs(a[3]-b[3])<d},s.identity=function(a){return a||(a=s.create()),a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},s.transpose=function(a,b){if(!b||a===b){var c=a[1];return a[1]=a[2],a[2]=c,a}return b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3],b},s.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},s.inverse=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=c*f-e*d;return g?(g=1/g,b[0]=f*g,b[1]=-d*g,b[2]=-e*g,b[3]=c*g,b):null},s.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3];return c[0]=d*b[0]+e*b[2],c[1]=d*b[1]+e*b[3],c[2]=f*b[0]+g*b[2],c[3]=f*b[1]+g*b[3],c},s.rotate=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=Math.sin(b),i=Math.cos(b);return c[0]=d*i+e*h,c[1]=d*-h+e*i,c[2]=f*i+g*h,c[3]=f*-h+g*i,c},s.multiplyVec2=function(a,b,c){c||(c=b);var d=b[0],e=b[1];return c[0]=d*a[0]+e*a[1],c[1]=d*a[2]+e*a[3],c},s.scale=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=b[0],i=b[1];return c[0]=d*h,c[1]=e*i,c[2]=f*h,c[3]=g*i,c},s.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var t={};return t.create=function(a){var b=new f(4);return a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=0,b[3]=0),b},t.createFrom=function(a,b,c,d){var e=new f(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e},t.add=function(a,b,c){return c||(c=b),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c[3]=a[3]+b[3],c},t.subtract=function(a,b,c){return c||(c=b),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c[3]=a[3]-b[3],c},t.multiply=function(a,b,c){return c||(c=b),c[0]=a[0]*b[0],c[1]=a[1]*b[1],c[2]=a[2]*b[2],c[3]=a[3]*b[3],c},t.divide=function(a,b,c){return c||(c=b),c[0]=a[0]/b[0],c[1]=a[1]/b[1],c[2]=a[2]/b[2],c[3]=a[3]/b[3],c},t.scale=function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b,c},t.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},t.equal=function(a,b){return a===b||Math.abs(a[0]-b[0])<d&&Math.abs(a[1]-b[1])<d&&Math.abs(a[2]-b[2])<d&&Math.abs(a[3]-b[3])<d},t.negate=function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=-a[3],b},t.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},t.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},t.lerp=function(a,b,c,d){return d||(d=a),d[0]=a[0]+c*(b[0]-a[0]),d[1]=a[1]+c*(b[1]-a[1]),d[2]=a[2]+c*(b[2]-a[2]),d[3]=a[3]+c*(b[3]-a[3]),d},t.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"},a&&(a.glMatrixArrayType=f,a.MatrixArray=f,a.setMatrixArrayType=b,a.determineMatrixArrayType=c,a.glMath=e,a.vec2=r,a.vec3=g,a.vec4=t,a.mat2=s,a.mat3=n,a.mat4=o,a.quat4=p),{glMatrixArrayType:f,MatrixArray:f,setMatrixArrayType:b,determineMatrixArrayType:c,glMath:e,vec2:r,vec3:g,vec4:t,mat2:s,mat3:n,mat4:o,quat4:p}}),ipmd.animations=function(a){"use strict";var b={};return a.requestAnimFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b,c){a.setTimeout(b,1e3/60)}}(),b.requestInterval=function(b,c){function d(){var g=(new Date).getTime(),h=g-e;h>=c&&(b.call(),e=(new Date).getTime()),f.value=a.requestAnimFrame(d)}if(!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame&&a.mozCancelRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame))return a.setInterval(b,c);var e=(new Date).getTime(),f=new Object;return f.value=a.requestAnimFrame(d),f},b.clearRequestInterval=function(b){a.cancelAnimationFrame?a.cancelAnimationFrame(b.value):a.webkitCancelAnimationFrame?a.webkitCancelAnimationFrame(b.value):a.webkitCancelRequestAnimationFrame?a.webkitCancelRequestAnimationFrame(b.value):a.mozCancelRequestAnimationFrame?a.mozCancelRequestAnimationFrame(b.value):a.oCancelRequestAnimationFrame?a.oCancelRequestAnimationFrame(b.value):a.msCancelRequestAnimationFrame?a.msCancelRequestAnimationFrame(b.value):clearInterval(b)},b.requestTimeout=function(b,c){function d(){var g=(new Date).getTime(),h=g-e;h>=c?b.call():f.value=a.requestAnimFrame(d)}if(!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame&&a.mozCancelRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame))return a.setTimeout(b,c);var e=(new Date).getTime(),f=new Object;return f.value=a.requestAnimFrame(d),f},b.clearRequestTimeout=function(b){a.cancelAnimationFrame?a.cancelAnimationFrame(b.value):a.webkitCancelAnimationFrame?a.webkitCancelAnimationFrame(b.value):a.webkitCancelRequestAnimationFrame?a.webkitCancelRequestAnimationFrame(b.value):a.mozCancelRequestAnimationFrame?a.mozCancelRequestAnimationFrame(b.value):a.oCancelRequestAnimationFrame?a.oCancelRequestAnimationFrame(b.value):a.msCancelRequestAnimationFrame?a.msCancelRequestAnimationFrame(b.value):clearTimeout(b)},b}(window),function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:a>0?1:-1});var a={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},b=64,c=Math.pow(2,-b-1),d=function(b,c){for(var d=[],e=f(b,c),h=c.length-1,i=2*h-1,j=g(e,i,d,0),k=a.subtract(b,c[0]),m=a.square(k),n=0,o=0;o<j;o++){k=a.subtract(b,l(c,h,d[o],null,null));var p=a.square(k);p<m&&(m=p,n=d[o])}return k=a.subtract(b,c[h]),p=a.square(k),p<m&&(m=p,n=1),{location:n,distance:m}},e=function(a,b){var c=d(a,b);return{point:l(b,b.length-1,c.location,null,null),location:c.location}},f=function(b,c){for(var d=c.length-1,e=2*d-1,f=[],g=[],h=[],i=[],k=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],l=0;l<=d;l++)f[l]=a.subtract(c[l],b);for(var l=0;l<=d-1;l++)g[l]=a.subtract(c[l+1],c[l]),g[l]=a.scale(g[l],3);for(var m=0;m<=d-1;m++)for(var n=0;n<=d;n++)h[m]||(h[m]=[]),h[m][n]=a.dotProduct(g[m],f[n]);for(l=0;l<=e;l++)i[l]||(i[l]=[]),i[l].y=0,i[l].x=parseFloat(l)/e;for(var o=d,p=d-1,q=0;q<=o+p;q++){var r=Math.max(0,q-p),s=Math.min(q,o);for(l=r;l<=s;l++)j=q-l,i[l+j].y+=h[j][l]*k[j][l]}return i},g=function(a,c,d,e){var f,j,m=[],n=[],o=[],p=[];switch(h(a,c)){case 0:return 0;case 1:if(e>=b)return d[0]=(a[0].x+a[c].x)/2,1;if(i(a,c))return d[0]=k(a,c),1}l(a,c,.5,m,n),f=g(m,c,o,e+1),j=g(n,c,p,e+1);for(var q=0;q<f;q++)d[q]=o[q];for(var q=0;q<j;q++)d[q+f]=p[q];return f+j},h=function(a,b){var c,d,e=0;c=d=Math.sgn(a[0].y);for(var f=1;f<=b;f++)c=Math.sgn(a[f].y),c!=d&&e++,d=c;return e},i=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;i=a[0].y-a[b].y,j=a[b].x-a[0].x,k=a[0].x*a[b].y-a[b].x*a[0].y;for(var t=max_distance_below=0,u=1;u<b;u++){var v=i*a[u].x+j*a[u].y+k;v>t?t=v:v<max_distance_below&&(max_distance_below=v)}return n=0,o=1,p=0,q=i,r=j,s=k-t,l=n*r-q*o,m=1/l,e=(o*s-r*p)*m,q=i,r=j,s=k-max_distance_below,l=n*r-q*o,m=1/l,f=(o*s-r*p)*m,g=Math.min(e,f),h=Math.max(e,f),d=h-g,d<c?1:0},k=function(a,b){var c=1,d=0,e=a[b].x-a[0].x,f=a[b].y-a[0].y,g=a[0].x-0,h=a[0].y-0,i=e*d-f*c,j=1/i,k=(e*h-f*g)*j;return 0+c*k},l=function(a,b,c,d,e){for(var f=[[]],g=0;g<=b;g++)f[0][g]=a[g];for(var h=1;h<=b;h++)for(var g=0;g<=b-h;g++)f[h]||(f[h]=[]),f[h][g]||(f[h][g]={}),f[h][g].x=(1-c)*f[h-1][g].x+c*f[h-1][g+1].x,f[h][g].y=(1-c)*f[h-1][g].y+c*f[h-1][g+1].y;if(null!=d)for(g=0;g<=b;g++)d[g]=f[g][0];if(null!=e)for(g=0;g<=b;g++)e[g]=f[b-g][g];return f[b][0]},m={},n=function(a){var b=m[a];if(!b){b=[];var c=function(){return function(b){return Math.pow(b,a)}},d=function(){return function(b){return Math.pow(1-b,a)}},e=function(a){return function(b){return a}},f=function(){return function(a){return a}},g=function(){return function(a){return 1-a}},h=function(a){return function(b){for(var c=1,d=0;d<a.length;d++)c*=a[d](b);return c}};b.push(new c);for(var i=1;i<a;i++){for(var j=[new e(a)],k=0;k<a-i;k++)j.push(new f);for(var k=0;k<i;k++)j.push(new g);b.push(new h(j))}b.push(new d),m[a]=b}return b},o=function(a,b){for(var c=n(a.length-1),d=0,e=0,f=0;f<a.length;f++)d+=a[f].x*c[f](b),e+=a[f].y*c[f](b);return{x:d,y:e}},p=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},q=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},r=function(a,b,c){if(q(a))return{point:a[0],location:b};for(var d=o(a,b),e=0,f=b,g=c>0?1:-1,h=null;e<Math.abs(c);)f+=.005*g,h=o(a,f),e+=p(h,d),d=h;return{point:h,location:f}},s=function(a){if(q(a))return 0;for(var b=o(a,0),c=0,d=0,e=1,f=null;d<1;)d+=.005*e,f=o(a,d),c+=p(f,b),b=f;return c},t=function(a,b,c){return r(a,b,c).point},u=function(a,b,c){return r(a,b,c).location},v=function(a,b){var c=o(a,b),d=o(a.slice(0,a.length-1),b),e=d.y-c.y,f=d.x-c.x;return 0==e?1/0:Math.atan(e/f)},w=function(a,b,c){var d=r(a,b,c);return d.location>1&&(d.location=1),d.location<0&&(d.location=0),v(a,d.location)},x=function(a,b,c,d){d=null==d?0:d;var e=r(a,b,d),f=v(a,e.location),g=Math.atan(-1/f),h=c/2*Math.sin(g),i=c/2*Math.cos(g);return[{x:e.point.x+i,y:e.point.y+h},{x:e.point.x-i,y:e.point.y-h}]},y=this.jsBezier={distanceFromCurve:d,gradientAtPoint:v,gradientAtPointAlongCurveFrom:w,nearestPointOnCurve:e,pointOnCurve:o,pointAlongCurveFrom:t,perpendicularToCurveAt:x,locationAlongCurveFrom:u,getLength:s,version:"0.9.0"};"undefined"!=typeof exports&&(exports.jsBezier=y)}.call("undefined"!=typeof window?window:this),ipmd.browser=function(){var a=navigator.userAgent.toLowerCase(),b=window.opera,c={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(a),opera:!!b&&b.version,webkit:a.indexOf(" applewebkit/")>-1,mac:a.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};c.gecko="Gecko"==navigator.product&&!c.webkit&&!c.opera&&!c.ie;var d=0;if(c.ie){var e=a.match(/(?:msie\s([\w.]+))/),f=a.match(/(?:trident.*rv:([\w.]+))/);d=e&&f&&e[1]&&f[1]?Math.max(1*e[1],1*f[1]):e&&e[1]?1*e[1]:f&&f[1]?1*f[1]:0,c.ie11Compat=11==document.documentMode,c.ie9Compat=9==document.documentMode,c.ie8=!!document.documentMode,c.ie8Compat=8==document.documentMode,c.ie7Compat=7==d&&!document.documentMode||7==document.documentMode,c.ie6Compat=d<7||c.quirks,c.ie9above=d>8,c.ie9below=d<9,c.ie11above=d>10,c.ie11below=d<11}if(c.gecko){var g=a.match(/rv:([\d\.]+)/);g&&(g=g[1].split("."),d=1e4*g[0]+100*(g[1]||0)+1*(g[2]||0))}return/chrome\/(\d+\.\d)/i.test(a)&&(c.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)&&(c.safari=+(RegExp.$1||RegExp.$2)),c.opera&&(d=parseFloat(b.version())),c.webkit&&(d=parseFloat(a.match(/ applewebkit\/(\d+)/)[1])),c.version=d,c.isCompatible=!c.mobile&&(c.ie&&d>=6||c.gecko&&d>=10801||c.opera&&d>=9.5||c.air&&d>=1||c.webkit&&d>=522||!1),c}(),String.prototype.colorHex=function(){var a=this;if(/^(rgb|RGB)/.test(a)){for(var b=a.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),c="#",d=0;d<b.length;d++){var e=Number(b[d]).toString(16);"0"===e&&(e+=e),c+=e}return 7!==c.length&&(c=a),c}if(!REG_HEX.test(a))return a;var f=a.replace(/#/,"").split("");if(6===aNuMath.length)return a;if(3===aNuMath.length){for(var g="#",d=0;d<aNuMath.length;d+=1)g+=f[d]+f[d];return g}},String.prototype.colorRGB=function(a){var b=this.toLowerCase();if(b&&REG_HEX.test(b)){if(4===b.length){for(var c="#",d=1;d<4;d+=1)c+=b.slice(d,d+1).concat(b.slice(d,d+1));b=c}for(var e=[],f="rgb",d=1;d<7;d+=2)e.push(parseInt("0x"+b.slice(d,d+2)));return a&&(e.push(a),f+="a"),f+"("+e.join(",")+")"}return b},String.prototype.startWith=function(a){return this.slice(0,a.length)===a},String.prototype.endWith=function(a){return this.slice(-a.length)===a},String.prototype.pack=function(a,b){for(var c="",d=0;d<a-this.length;d++)c+=" ";return b?this+c:c+this},String.prototype.charFormat=function(){return/[0-9]/.test(this)?"digit":/[A-Z]/.test(this)?"uppercase":/[a-z]/.test(this)?"lowercase":"("==this?"bracketS":")"==this?"bracketE":"symbol"},Number.prototype.between=function(a,b){if(a>b){var c=a;a=b,b=c}var d=this.valueOf();return d>=a&&d<=b},Number.prototype.clamp=function(a,b){if(a>b){var c=a;a=b,b=c}var d=this.valueOf();return new Number(Math.max(a,Math.min(d,b)))},Number.prototype.toHexColor=function(){for(var a=this.toString(16),b=0,c=6-a.length;b<c;b++)a="0"+a;return"#"+a},Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e,f){this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.quadraticCurveTo(a+c,b,a+c,b+e),this.lineTo(a+c,b+d-e),this.quadraticCurveTo(a+c,b+d,a+c-e,b+d),this.lineTo(a+e,b+d),this.quadraticCurveTo(a,b+d,a,b+d-e),this.lineTo(a,b+e),this.quadraticCurveTo(a,b,a+e,b),this.closePath(),f&&this.fill()},CanvasRenderingContext2D.prototype.ellipse=function(a,b,c,d,e){var f=.5522848,g=c/2*f,h=d/2*f,i=a+c,j=b+d,k=a+c/2,l=b+d/2;this.beginPath(),this.moveTo(a,l),this.bezierCurveTo(a,l-h,k-g,b,k,b),this.bezierCurveTo(k+g,b,i,l-h,i,l),this.bezierCurveTo(i,l+h,k+g,j,k,j),this.bezierCurveTo(k-g,j,a,l+h,a,l),this.closePath(),e&&this.fill()},CanvasRenderingContext2D.prototype.circle=function(a,b,c,d){this.arc(a,b,c,0,2*Math.PI),d&&this.fill()},CanvasRenderingContext2D.prototype.dashedArc=function(a,b,c,d,e,f,g){g||(g=Math.PI/10);for(var h=Math.floor(Math.abs(e-d)/(2*g)),i=d,j=0;j<h;j++)this.beginPath(),this.arc(a,b,c,i,Math.min(i+g,e),f),this.stroke(),i+=2*g},CanvasRenderingContext2D.prototype.hashTo=function(a,b,c,d,e,f,g,h,i,j,k){var l=0,m=vec2.dist(vec2.createFrom(a,b),vec2.createFrom(c,d)),n=a,o=b,p=c-a,q=d-b;for(void 0===g&&(g=!1),e||(e=m);l<m;){if(g){if(l+f>m){this.moveTo(c,d);break}var r=f/m;n+=r*p,o+=r*q,this.moveTo(n,o),l+=f}else{if(l+e>m){h&&i?this.lineFill(n,o,c,d,h,i,j,k):this.lineTo(c,d);break}var r=e/m,s=n,t=o;n+=r*p,o+=r*q,h&&i?this.lineFill(s,t,n,o,h,i,j,k):this.lineTo(n,o),l+=e}g=!g}},CanvasRenderingContext2D.prototype.lineFill=function(a,b,c,d,e,f,g,h){var i=e+Math.PI/2,j=Math.cos(i),k=Math.sin(i),l=a-j*f,m=b+k*f,n=a+j*f,o=b-k*f,p=c+j*f,q=d-k*f,r=c-j*f,s=d+k*f;this.beginPath(),this.moveTo(l,m),this.lineTo(n,o),this.lineTo(p,q),this.lineTo(r,s),this.closePath(),this.fill(),this.stroke(),this.save();var t=this.createLinearGradient((l+r)/2,(m+s)/2,(n+p)/2,(o+q)/2),u=g||"#FFF";t.addColorStop(.2,u.colorRGB(.1)),t.addColorStop(.6,u.colorRGB(.6)),t.addColorStop(.8,u.colorRGB(.1)),this.fillStyle=t,this.strokeStyle="rgba(0,0,0,0)",this.beginPath(),this.moveTo(l,m),this.lineTo(n,o),this.lineTo(p,q),this.lineTo(r,s),this.closePath(),this.fill(),this.stroke(),this.restore()},Screen.prototype.getDPI=function(){var a=72;if(window.screen.deviceXDPI)a=window.screen.deviceXDPI;else{var b=document.createElement("DIV");b.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(b),a=parseInt(b.offsetWidth),b.parentNode.removeChild(b)}return a},ipmd.util={message:void 0,printTrace:function(a){a&&console.log(a),console.trace()},printLog:function(a){console.log(a)},alertMsg:function(a,b,c){return b||(b=ipmd.editor.cvs),b.id.startWith("prv")?void b.drawTip(a,void 0,!0):(this.message||(this.message=new ipmd.editor.ui.dTip(b,b.id,"WARNING"),this.message.setup()),void this.message.enable(a,c))},theme:function(a,b,c){return c||(c=ipmd.themeName),void 0===a?ipmd.THEME[c]:"new"===a?this.deepCopy(ipmd.THEME[c]):ipmd.THEME[c][a]||b},i18n:function(a,b,c){return c||(c=ipmd.lang),void 0===a?b||"":ipmd.I18N[c][a]||b||""},image:function(a,b){return b||(b=ipmd.themeName),void 0===a?"":ipmd.IMG_T[b][a]||ipmd.IMG_T[b]["default"]},initOption:function(a,b){if(b)for(var c in b)a[c]=b[c]},deepCopy:function(a){var b={};for(var c in a)"object"!=typeof a[c]||a[c]instanceof Array?b[c]=a[c]:b[c]=this.deepCopy(a[c]);return b},coordW2C:function(a,b,c){var d=a.getBoundingClientRect();return{x:(b-d.left)*(a.width/d.width),y:(c-d.top)*(a.height/d.height)}},swap:function(a,b){var c=a;a=b,b=c},clamp:function(a,b,c){return Math.max(b,Math.min(a,c))},getFontDesc:function(a,b,c,d){var e=[];c&&e.push("bold "),d&&e.push("italic "),e.push(a+"px "),"string"==typeof b&&(b=[b]);for(var f=0,g=b.length;f<g;f++){var h=b[f];h.indexOf(" ")!==-1&&(h='"'+h+'"'),e.push((0!==f?",":"")+h)}return e.join("")},centerV2V:function(a,b){return vec3.createFrom((a[0]+b[0])/2,(a[1]+b[1])/2,(a[2]+b[2])/2)},angleV2V:function(a,b){var c=vec3.length(a),d=vec3.length(b),e=vec3.dot(a,b),f=e/c/d;return Math.acos(f)},optAngle:function(a){if(0===a.length)return{angle:0,largest:2*Math.PI};if(1===a.length)return{angle:a[0]+Math.PI,largest:2*Math.PI};for(var b=0,c=0,d=0,e=a.length-1;d<e;d++){var f=a[d+1]-a[d];f>b&&(b=f,c=(a[d+1]+a[d])/2)}var g=a[0]+2*Math.PI-a[a.length-1];return g>b&&(c=a[0]-g/2,b=g,c<0&&(c+=2*Math.PI)),{angle:c,largest:b}},getRGB:function(a,b){COLOR[a.toLowerCase()]&&(a=COLOR[a.toLowerCase()]),"#"===a.charAt(0)&&(a=a.colorRGB());var c=a.replace(/rgb|RGB/g,"").replace(/\(|\)/g,"").split(",");return 3!==c.length?[0,0,0]:[parseInt(c[0])/255*b,parseInt(c[1])/255*b,parseInt(c[2])/255*b]},hslToRgb:function(a,b,c){var d,e,f;if(0==b)d=e=f=c;else{var g=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a},h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;d=g(i,h,a+1/3),
e=g(i,h,a),f=g(i,h,a-1/3)}return[Math.round(255*d),Math.round(255*e),Math.round(255*f)]},gradient:function(a,b,c){c.length<1?c.push("#222222","#DDDDDD"):c.length<2&&c.push("#DDDDDD");var d=b/(c.length-1),e=Math.floor(a/d),f=(a-e*d)/d,g=this.getRGB(c[e],1),h=this.getRGB(c[e+1],1),i=[255*(g[0]+(h[0]-g[0])*f),255*(g[1]+(h[1]-g[1])*f),255*(g[2]+(h[2]-g[2])*f)];return"rgb("+i.join(",")+")"},angleBounds:function(a,b,c){for(var d=2*Math.PI;a<0;)a+=d;for(;a>d;)a-=d;return c&&a>Math.PI&&(a=2*Math.PI-a),b&&(a=180*a/Math.PI),a},crossPoint:function(a,b,c,d,e,f,g,h){c-=a,d-=b,g-=e,h-=f;var i=d*g-c*h;if(0===i)return!1;var j=(h*(a-e)-g*(b-f))/i,k=(d*(a-e)-c*(b-f))/i;return k>=0&&k<=1&&j>=0&&j<=1&&{x:a+j*c,y:b+j*d}},innerLength:function(a,b,c){if(b.x.between(c.x,c.x+c.w)&&b.y.between(c.y,c.y+c.h))return a.distance(b);for(var d=[{x1:c.x,y1:c.y,x2:c.x+c.w,y2:c.y},{x1:c.x,y1:c.y+c.h,x2:c.x+c.w,y2:c.y+c.h},{x1:c.x,y1:c.y,x2:c.x,y2:c.y+c.h},{x1:c.x+c.w,y1:c.y,x2:c.x+c.w,y2:c.y+c.h}],e=[],f=0;f<4;f++){var g=d[f],h=this.crossPoint(b.x,b.y,a.x,a.y,g.x1,g.y1,g.x2,g.y2);h&&e.push(h)}if(0===e.length)return 0;for(var i=0,f=0,j=e.length;f<j;f++){var h=e[f],k=a.x-h.x,l=a.y-h.y;i=Math.max(i,Math.sqrt(k*k+l*l))}return i},distP2L:function(a,b,c){var d=b.distance(c),e=b.angle(c),f=Math.PI/2-e,g=b.angle(a)+f,h=b.distance(a),i=new ipmd.point(h*Math.cos(g),-h*Math.sin(g));return i.y.between(-d,0)?Math.abs(i.x):-1},setCookie:function(a,b,c){if("undefined"!=typeof window.localStorage)localStorage.setItem(a,b);else{var d=escape(a),b=escape(b),e="",f=new Date;c||(c=30),f.setTime(f.getTime()+864e5*c),e=";expires="+f.toUTCString(),document.cookie=d+"="+b+e}},getCookie:function(a,b){if("undefined"!=typeof window.localStorage)return localStorage.getItem(a)||b;var c=escape(a)+"=",d=document.cookie,e=d.indexOf(c);if(e!=-1){var f=e+c.length,g=d.indexOf(";",f);return g==-1&&(g=d.length),unescape(d.substring(f,g))}return b},deleteCookie:function(a){if("undefined"!=typeof window.localStorage)return localStorage.removeItem(a);var b=escape(a),c=new Date(0);document.cookie=b+"=;expires="+c.toUTCString()}},function(a,b){a.license=b.getCookie(a.key+"lic",a.license)}(ipmd,ipmd.util),function(a){"use strict";a.queue=function(){this.queue=[],this.remain=0};var b=a.queue.prototype;b.length=function(){return this.queue.length-this.remain},b.empty=function(){return 0===this.queue.length},b.push=function(a){this.queue.push(a)},b.pop=function(){var a;return this.queue.length&&(a=this.queue[this.remain],2*++this.remain>=this.queue.length&&(this.queue=this.queue.slice(this.remain),this.remain=0)),a},b.front=function(){return this.queue[this.remain]},b.back=function(){return this.queue[this.queue.length-1]},b.toString=function(a){void 0===a&&(a="<br >");for(var b="remain: "+this.remain+a,c=this.remain;c<this.queue.length;++c)b+=this.queue[c]+a;return b}}(ipmd),function(a){"use strict";a.bounds=function(){this.minX=this.minY=this.minZ=1/0,this.maxX=this.maxY=this.maxZ=-(1/0)};var b=a.bounds.prototype;b.expand=function(b,c,d,e){b instanceof a.bounds?(this.minX=Math.min(this.minX,b.minX),this.minY=Math.min(this.minY,b.minY),this.maxX=Math.max(this.maxX,b.maxX),this.maxY=Math.max(this.maxY,b.maxY),b.maxZ!==1/0&&(this.minZ=Math.min(this.minZ,b.minZ),this.maxZ=Math.max(this.maxZ,b.maxZ))):(this.minX=Math.min(this.minX,b),this.maxX=Math.max(this.maxX,b),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c),void 0!==d&&void 0!==e&&(this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,e),this.maxY=Math.max(this.maxY,e)))},b.expand3D=function(a,b,c,d,e,f){this.minX=Math.min(this.minX,a),this.maxX=Math.max(this.maxX,a),this.minY=Math.min(this.minY,b),this.maxY=Math.max(this.maxY,b),this.minZ=Math.min(this.minZ,c),this.maxZ=Math.max(this.maxZ,c),void 0!==d&&void 0!==e&&void 0!==f&&(this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,e),this.maxY=Math.max(this.maxY,e),this.minZ=Math.min(this.minZ,f),this.maxZ=Math.max(this.maxZ,f))},b.center=function(){return vec3.createFrom((this.minX+this.maxX)/2,(this.minY+this.maxY)/2,(this.minZ+this.maxZ)/2)}}(ipmd),ipmd.support={canvasEnabled:function(){return!!document.createElement("canvas").getContext},canvasTextEnabled:function(){if(!this.canvasEnabled())return!1;var a=document.createElement("canvas"),b=a.getContext("2d");return"function"==typeof b.fillText},canvasDashEnabled:function(){if(!this.canvasEnabled())return!1;var a=document.createElement("canvas"),b=a.getContext("2d");return"function"==typeof b.setLineDash},webglEnabled:function(){var a=document.createElement("canvas");try{if(a.getContext("webgl"))return!0;if(a.getContext("experimental-webgl"))return!0}catch(b){}return!1},touchEnabled:function(){return"ontouchstart"in window&&navigator.userAgent.match(/iPhone|iPad|iPod|Android/i)},gestureEnabled:function(){return"ongesturestart"in window},toString:function(a){void 0===a&&(a="<br >");var b="canvasEnabled : "+this.canvasEnabled()+a,c="canvasTextEnabled : "+this.canvasTextEnabled()+a,d="webglEnabled : "+this.webglEnabled()+a,e="touchEnabled : "+this.touchEnabled()+a,f="gestureEnabled : "+this.canvasEnabled()+a;return b+c+d+e+f}},function(a,b){"use strict";function c(a){this.symbol=a[0],this.name=a[1],this.atomicNumber=a[2],this.mass=a[3],this.valency=a[4],this.covRadius=a[5],this.vdWRadius=a[6],this.addH=a[7],this.color=a[8]||b.theme("COLOR_"+this.symbol,"black"),this.alias=a[9]||b.i18n(this.symbol),"Star"===this.symbol&&(this.symbol="*")}a.Elements={};for(var d=0;d<ELEMENT.length;d++)a.Elements[ELEMENT[d][0]]=new c(ELEMENT[d])}(ipmd,ipmd.util),function(a,b){"use strict";function c(a){this.symbol=a[0],this.name=a[1],this.acidity=a[2],this.polar=a[3],this.aminoColor=a[4]||b.theme("COL_R_"+this.symbol,"black"),this.shapelyColor=a[5]||b.theme("COL_R_"+this.symbol,"black")}a.Residues={};for(var d=0;d<RESIDUE.length;d++)a.Residues[RESIDUE[d][0]]=new c(RESIDUE[d])}(ipmd,ipmd.util),function(a){"use strict";a.point=function(a,b){this.x=a?parseFloat(a):0,this.y=b?parseFloat(b):0};var b=a.point.prototype;b.sub=function(a){this.x-=a.x,this.y-=a.y},b.add=function(a){this.x+=a.x,this.y+=a.y},b.distance=function(a){var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},b.angle=function(a,b){var c=a.x-this.x,d=b?a.y-this.y:this.y-a.y,e=0;for(e=0===c?0===d?0:d>0?Math.PI/2:3*Math.PI/2:0===d?c>0?0:Math.PI:c<0?Math.atan(d/c)+Math.PI:d<0?Math.atan(d/c)+2*Math.PI:Math.atan(d/c);e<0;)e+=2*Math.PI;return e%=2*Math.PI},b.rotate=function(a){return{x:this.x*Math.cos(a)-this.y*Math.sin(a),y:this.x*Math.sin(a)+this.y*Math.cos(a)}},b.center=function(b){return new a.point((this.x+b.x)/2,(this.y+b.y)/2)}}(ipmd),function(a,b,c,d){"use strict";function e(b){b._transed||(b._transed=!0,a.userCfg.cvt.endWith("3D")&&(b.y*=-1))}function f(a){for(var b=[],c="",d=0,e=a.length;d<e;d++){var f=a[d];"digit"===f.charFormat()?(c+=f,b.push(c),c=""):(""!==c&&(b.push(c),c=""),c+=f)}return""!==c&&(b.push(c),c=""),b.reverse().join("")}b.atom=function(a,b,e,f,g){this.label=a?a.replace(/\s/g,""):"C","*"===this.label&&(this.label="Star"),d[this.label]||(this.label="C"),this.x=b?parseFloat(b):0,this.y=e?parseFloat(e):0,this.z=f?parseFloat(f):0,g&&c.initOption(this,g)};var g=b.atom.prototype=new a.point(0,0);g.charge=0,g.lpCount=0,g.radCount=0,g.mass=-1,g.coordCount=0,g.bondCount=0,g.angleOpt=0,g.hidden=!1,g.alone=!1,g.hOver=!1,g.selected=!1,g.altLabel=void 0,g.labBold=void 0,g.labItalic=void 0,g.labFamily=void 0,g.labSize=void 0,g.labColor=void 0,g.rgroup=0,g.hideInGroup=0,g.implHCount=function(a){if(!d[this.label]||!a&&("H"===this.label||!d[this.label].addH))return 0;var b=d[this.label].valency,c=b-this.coordCount;if(this.radCount>0&&(c=Math.max(0,c-this.radCount)),this.charge>0){var e=4-b;this.charge<=e?c+=this.charge:c=4-this.coordCount-this.charge+e}else c+=this.charge;return a===!0?c>=0:c<0?0:Math.floor(c)},g.remainPair=function(){var a=d[this.label].valency,b=a-this.coordCount;if(this.radCount>0&&(b=Math.max(0,b-this.radCount)),this.charge>0){var c=4-a;this.charge<=c?b+=this.charge:b=4-this.coordCount-this.charge+c}else b+=this.charge;return Math.floor(b)},g.add3D=function(a){this.x+=a.x,this.y+=a.y,this.z+=a.z},g.sub3D=function(a){this.x-=a.x,this.y-=a.y,this.z-=a.z},g.distance3D=function(a){var b=a.x-this.x,c=a.y-this.y,d=a.z-this.z;return Math.sqrt(b*b+c*c+d*d)},g.getBounds=function(){var b=new a.bounds;if(b.expand(this.x,this.y),this.textBounds)for(var c=0,d=this.textBounds.length;c<d;c++){var e=this.textBounds[c];b.expand(e.x,e.y,e.x+e.w,e.y+e.h)}return b},g.getBounds3D=function(){var b=new a.bounds;return b.expand3D(this.x,this.y,this.z),b},g.displayLabel=function(a){return!!a.ATOM_DISPLAY_ALL_C||(!!("C"!==this.label||this.alone&&a.ATOM_DISPLAY_ALONE_C)||(!!(this.altLabel&&this.altLabel.length>0)||(this.mass!==-1||0!==this.charge||(!(!a.ATOM_SHOW_ATTR_C||0===this.radCount&&0===this.lpCount)||(!(!this.hidden||!a.ATOM_SHOW_HIDDEN_C)||!(!a.ATOM_DISPLAY_TERMINAL_C||1!==this.bondCount))))))},g.draw=function(b,e){if(e.DISPLAY_TYPE!==LS_TYPE.line)return void this.drawSimulator3D(b,e);if(!(this.hideInGroup>0)){if(this.lassoed){var g=b.createRadialGradient(this.x-1,this.y-1,0,this.x,this.y,e.LASSO_R+2);g.addColorStop(0,e.LASSO_GRADIENT),g.addColorStop(.7,e.LASSO_GRD_END),b.fillStyle=g,b.beginPath(),b.circle(this.x,this.y,e.LASSO_R,!0)}if(!this.query){this.textBounds=[],this.theme&&(e=this.theme),a.userCfg.tipError&&!this.implHCount(!0)&&(b.strokeStyle=e.ATOM_ERRTIP_COLOR,b.fillStyle=e.ATOM_ERRTIP_F_COLOR||e.ATOM_ERRTIP_COLOR,b.beginPath(),b.circle(this.x,this.y,e.ATOM_ERRTIP_R,e.ATOM_ERRTIP_FILL),b.stroke());var h=c.getFontDesc(e.ATOM_FONT_SIZE,e.TEXT_FONT_FAMILIES,e.ATOM_FONT_BOLD,e.ATOM_FONT_ITALIC);if(b.font=h,b.strokeStyle=this.color||d[this.label].color,b.fillStyle=this.color||d[this.label].color,"H"===this.label&&e.ATOM_BLACK_H&&(b.fillStyle="black"),e.ATOM_IDX_DISPLAY&&!this.alone){a.editor.cvs.atomIdx++,b.save(),b.textAlign="center",b.textBaseline="middle",b.fillStyle=e.ATOM_IDX_COLOR,b.font=c.getFontDesc(e.ATOM_IDX_SIZE,e.TEXT_FONT_FAMILIES);var i=e.ATOM_IDX_R*Math.cos(this.angleOpt),j=e.ATOM_IDX_R*Math.sin(this.angleOpt);b.fillText(a.editor.cvs.atomIdx.toString(),this.x+i,this.y-j),b.restore()}var k;if(this.alone&&!e.ATOM_DISPLAY_ALL_C&&!e.ATOM_DISPLAY_ALONE_C||e.ATOM_CIRCLES)b.beginPath(),b.circle(this.x,this.y,e.ATOM_CIRCLE_DIA/2,!0),e.ATOM_CIRCLE_BORDER>0&&(b.lineWidth=e.ATOM_CIRCLE_BORDER,b.stroke());else if(this.displayLabel(e))if(b.textAlign="center",b.textBaseline="middle",void 0!==this.altLabel&&this.altLabel.length>0){b.save(),b.font=c.getFontDesc(this.labSize||e.ATOM_FONT_SIZE,this.labFamily||e.TEXT_FONT_FAMILIES,this.labBold,this.labItalic),this.labColor&&(b.strokeStyle=this.labColor,b.fillStyle=this.labColor),b.textAlign=this.rgroup>0?"left":"center",b.textBaseline="middle";var l=b.measureText(this.altLabel[0]).width,m=b.measureText(this.altLabel).width,i=this.rgroup>0?0:m/2,n=this.altLabel,o=this.x,p=this.y;if(this.rgroup>0&&this.bonds){for(var q=1,r=!1,s=this.bonds.length-1;s>=0;s--){var t=this.bonds[s].brother(this);if(t&&!t.hideInGroup&&(q--,r=t.x-this.x>1,q<0))break}q<0?(b.textAlign="center",i=m/2):r&&(i=m,n=f(n),"digit"!==n.charFormat()&&(b.textAlign="right")),"left"===b.textAlign?(i+=l/2,o-=l/2):"right"===b.textAlign&&(i-=l/2,o+=l/2)}if(0===this.rgroup||"digit"!==n.charFormat())b.fillText(n,o,p);else{for(var u="",v=this.x-i,w=this.labSize||e.ATOM_FONT_SIZE,x=this.labFamily||e.TEXT_FONT_FAMILIES,s=0,y=n.length;s<y;s++){var z=n[s];"digit"===z.charFormat()?(b.fillText(u,v,this.y),v+=b.measureText(u).width,b.font=c.getFontDesc(Math.max(8,w/2),x,this.labBold,this.labItalic),b.textBaseline="bottom",b.fillText(z,v,this.y+w/2),b.font=c.getFontDesc(w,x,this.labBold,this.labItalic),b.textBaseline="middle",v+=b.measureText(z).width,u=""):u+=z}u.length>0&&b.fillText(u,v,this.y)}this.textBounds.push({x:this.x-i-1,y:this.y-e.ATOM_FONT_SIZE/2+1,w:m+2,h:e.ATOM_FONT_SIZE-2}),b.restore()}else{var m;"Star"===this.label?(b.save(),b.font=c.getFontDesc(2*e.ATOM_FONT_SIZE,e.TEXT_FONT_FAMILIES,e.ATOM_FONT_BOLD,e.ATOM_FONT_ITALIC),b.fillText("*",this.x,this.y+.5*e.ATOM_FONT_SIZE),b.restore(),m=b.measureText("X").width):(b.fillText(this.label,this.x,this.y),m=b.measureText(this.label).width),this.textBounds.push({x:this.x-m/2-1,y:this.y-e.ATOM_FONT_SIZE/2+1,w:m+2,h:e.ATOM_FONT_SIZE-2});var A=0;if(this.mass!==-1){var B=b.font;b.font=c.getFontDesc(.7*e.ATOM_FONT_SIZE,e.TEXT_FONT_FAMILIES,e.ATOM_FONT_BOLD,e.ATOM_FONT_ITALIC),A=b.measureText(this.mass).width,b.fillText(this.mass,this.x-A-.5,this.y-e.ATOM_FONT_SIZE/2+1),this.textBounds.push({x:this.x-m/2-A-.5,y:this.y-1.7*e.ATOM_FONT_SIZE/2+1,w:A,h:e.ATOM_FONT_SIZE/2-1}),b.font=B}var C=m/2,D=this.implHCount();if(AMEND[this.label]&&(D-=d[this.label].valency-AMEND[this.label][4]),e.ATOM_IMPLICIT_H&&D>0){k=0;var E=b.measureText("H").width,F=!0;if(D>1){var i=m/2+E/2,j=0,G=c.getFontDesc(.8*e.ATOM_FONT_SIZE,e.TEXT_FONT_FAMILIES,e.ATOM_FONT_BOLD,e.ATOM_FONT_ITALIC),H=b.measureText(D).width;b.font=G,1===this.bondCount?this.angleOpt>Math.PI/2&&this.angleOpt<3*Math.PI/2&&(i=-m/2-H-E/2-A/2,F=!1,k=Math.PI):this.angleOpt<=Math.PI/4||(this.angleOpt<3*Math.PI/4?(i=0,j=.9*-e.ATOM_FONT_SIZE,0!==this.charge&&(j-=.3*e.ATOM_FONT_SIZE),F=!1,k=Math.PI/2):this.angleOpt<=5*Math.PI/4?(i=-m/2-H-E/2-A/2,F=!1,k=Math.PI):this.angleOpt<7*Math.PI/4&&(i=0,j=.9*e.ATOM_FONT_SIZE,F=!1,k=3*Math.PI/2)),0==this.bondCount&&"N"!=this.label&&(i-=m+E+H),b.font=h,b.fillText("H",this.x+i,this.y+j),b.font=G,b.fillText(D,this.x+i+E/2+H/2,this.y+j+.3*e.ATOM_FONT_SIZE),this.textBounds.push({x:this.x+i-E/2,y:this.y+j-e.ATOM_FONT_SIZE/2+1,w:E,h:e.ATOM_FONT_SIZE-2}),this.textBounds.push({x:this.x+i+E/2,y:this.y+j+.3*e.ATOM_FONT_SIZE-e.ATOM_FONT_SIZE/2+1,w:H,h:.8*e.ATOM_FONT_SIZE-2})}else{var i=m/2+E/2,j=0;1===this.bondCount?this.angleOpt>Math.PI/2&&this.angleOpt<3*Math.PI/2&&(i=-m/2-E/2-A/2,F=!1,k=Math.PI):this.angleOpt<=Math.PI/4||(this.angleOpt<3*Math.PI/4?(i=0,j=.9*-e.ATOM_FONT_SIZE,F=!1,k=Math.PI/2):this.angleOpt<=5*Math.PI/4?(i=-m/2-E/2-A/2,F=!1,k=Math.PI):this.angleOpt<7*Math.PI/4&&(i=0,j=.9*e.ATOM_FONT_SIZE,F=!1,k=3*Math.PI/2)),0==this.bondCount&&"N"!=this.label&&(i-=m+E),b.fillText("H",this.x+i,this.y+j),this.textBounds.push({x:this.x+i-E/2,y:this.y+j-e.ATOM_FONT_SIZE/2+1,w:E,h:e.ATOM_FONT_SIZE-2})}F&&(C+=E)}if(0!==this.charge){var I=this.charge.toFixed(0);"1"===I?I="+":"-1"===I?I="–":I.startWith("-")?I=I.substring(1)+"–":I+="+";var J=b.measureText(I).width;C+=J/2,b.textAlign="center",b.textBaseline="middle",b.font=c.getFontDesc(Math.floor(.8*e.ATOM_FONT_SIZE),e.TEXT_FONT_FAMILIES,e.ATOM_FONT_BOLD,e.ATOM_FONT_ITALIC),b.fillText(I,this.x+C-1,this.y-e.ATOM_FONT_SIZE/2+1),this.textBounds.push({x:this.x+C-J/2-1,y:this.y-1.8*e.ATOM_FONT_SIZE/2+5,w:J,h:e.ATOM_FONT_SIZE/2-1})}}if(this.lpCount>0||this.radCount>0){var K=this.angles.slice(0),L=this.angleOpt,M=this.largestAngle,N=[];if(b.fillStyle=e.ATOM_LP_COLOR,void 0!==k){K.push(k),K.sort();var O=c.optAngle(K);L=O.angle%(2*Math.PI),M=O.largest}for(var s=0;s<this.lpCount;s++)N.push({t:2});for(var s=0;s<this.radCount;s++)N.push({t:1});if(void 0===k&&Math.abs(M-2*Math.PI/K.length)<Math.PI/60)for(var P=Math.ceil(N.length/K.length),s=0,y=N.length;s<y;s+=P,L+=M)this.drawElec(b,e,N.slice(s,Math.min(N.length,s+P)),L,M,k);else this.drawElec(b,e,N,L,M,k)}if(e.DEBUG_BOUND){b.save();var Q=this.getBounds();b.strokeStyle=e.TEMP_COLOR,b.beginPath(),b.rect(Q.minX,Q.minY,Q.maxX-Q.minX,Q.maxY-Q.minY),b.stroke(),b.restore()}}}},g.drawElec=function(a,b,c,d,e,f){for(var g=e/(c.length+(0===this.bonds.length&&void 0===f?0:1)),h=d-e/2+g,i=0;i<c.length;i++){var j=c[i],d=h+i*g,k=this.x+Math.cos(d)*b.ATOM_LP_DIST,l=this.y-Math.sin(d)*b.ATOM_LP_DIST;if(2===j.t){var m=d+Math.PI/2,n=Math.cos(m)*b.ATOM_LP_SPREAD/2,o=-Math.sin(m)*b.ATOM_LP_SPREAD/2;a.beginPath(),a.circle(k+n,l+o,b.ATOM_LP_DIA,!0),a.beginPath(),a.circle(k-n,l-o,b.ATOM_LP_DIA,!0)}else 1===j.t&&(a.beginPath(),a.circle(k,l,b.ATOM_LP_DIA,!0))}},g.drawFocus=function(a,b){if(this.hOver||this.selected){var c=this.hOver?b.FOCUS_H_COLOR:b.FOCUS_COLOR;if(a.strokeStyle=c,a.fillStyle=c,a.lineWidth=b.FOCUS_LINE_WIDTH,a.beginPath(),this.rgroup>0){var d=this.getBounds();a.rect(d.minX,d.minY,d.maxX-d.minX,d.maxY-d.minY)}else a.circle(this.x,this.y,b.FOCUS_R,!0);a.stroke()}if(this.isOverlap){if(a.strokeStyle=b.OVERLAP_COLOR,a.lineWidth=b.FOCUS_LINE_WIDTH,a.beginPath(),this.rgroup>0){var d=this.getBounds();a.rect(d.minX,d.minY,d.maxX-d.minX,d.maxY-d.minY)}else a.circle(this.x,this.y,b.FOCUS_R);a.stroke()}},g.drawSimulator3D=function(a,b){var c=b.ATOM_USE_VDW_DIA?d[this.label].vdWRadius*b.ATOM_VDW_MUL:b.ATOM_SPHERE_DIA/2;0===c&&(c=b.ATOM_CIRCLE_DIA),b.DISPLAY_TYPE===LS_TYPE.sphere&&(c=Math.min(c,b.BOND_LENGTH/2));var e=a.createRadialGradient(this.x-1,this.y-1,0,this.x,this.y,c+2),f=this.color||d[this.label].color;if(e.addColorStop(0,b.LIGHT_SPE_COLOR),e.addColorStop(1,f),a.fillStyle=e,a.beginPath(),a.circle(this.x,this.y,c,!0),this.textBounds=[],this.textBounds.push({x:this.x-c-1,y:this.y-c-1,w:2*c+2,h:2*c+2}),b.DEBUG_BOUND){a.save();var g=this.getBounds();a.strokeStyle=b.TEMP_COLOR,a.beginPath(),a.rect(g.minX,g.minY,g.maxX-g.minX,g.maxY-g.minY),a.stroke(),a.restore()}},g.render=function(a,b,c){e(this),this.theme&&(b=this.theme);var f=mat4.translate(a.modelViewMatrix,[this.x,this.y,this.z],[]),g=b.ATOM_USE_VDW_DIA?d[this.label].vdWRadius*b.ATOM_VDW_MUL:b.ATOM_SPHERE_DIA/2;0===g&&(g=1),mat4.scale(f,[g,g,g]),c||a.material.setDiffuseColor(this.color||d[this.label].color),a.setMatrixUniforms(f);var h=this.renderStar?a.starBuffer:a.sphereBuffer;a.drawElements(a.TRIANGLES,h.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)},g.renderFocus=function(a,b){if(this.selected||this.hOver){this.theme&&(b=this.theme);var c=mat4.translate(a.modelViewMatrix,[this.x,this.y,this.z],[]),e=b.ATOM_USE_VDW_DIA?d[this.label].vdWRadius*b.ATOM_VDW_MUL:b.ATOM_SPHERE_DIA/2;0===e&&(e=1),e*=1.3,mat4.scale(c,[e,e,e]),a.setMatrixUniforms(c),a.material.setDiffuseColor(this.hOver?b.FOCUS_H_COLOR:b.FOCUS_COLOR);var f=this.renderStar?a.starBuffer:a.sphereBuffer;a.drawElements(a.TRIANGLES,f.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}}}(ipmd,ipmd.actor,ipmd.util,ipmd.Elements),function(a,b,c,d){"use strict";b.bond=function(a,b,d,e){this.a1=a,this.a2=b,this.order=void 0!==d?d:1,e&&c.initOption(this,e),void 0===this.altLabel&&1.5===this.order&&(this.stereo===STEREO.recessed?this.altLabel="S/A":this.stereo===STEREO.protruding&&(this.altLabel="D/A")),"ring"===this.altLabel?this.topo=1:"chain"===this.altLabel&&(this.topo=2)};var e=b.bond.prototype;e.stereo=STEREO.none,e.hOver=!1,e.ring=void 0,e.topo=void 0,e.thick=void 0,e.hideInGroup=function(){return this.a1&&this.a2&&(this.a1.hideInGroup>0&&this.a2.hideInGroup>0||this.a1.hideInGroup>0&&this.a1.hideInGroup===this.a2.rgroup||this.a2.hideInGroup>0&&this.a2.hideInGroup===this.a1.rgroup)},e.getCenter=function(){return new a.point((this.a1.x+this.a2.x)/2,(this.a1.y+this.a2.y)/2)},e.length=function(){return this.a1.distance(this.a2)},e.length3d=function(){return this.a1.distance3D(this.a2)},e.has=function(a){return a===this.a1||a===this.a2},e.brother=function(a){return a===this.a1?this.a2:a===this.a2?this.a1:void 0},e.checkOrderDouble=function(){if(this.stereo!==STEREO.none||1!==this.order)return!1;var a=this.a1.remainPair(),b=this.a2.remainPair();return a>=2&&b>=2},e.draw=function(a,b){if(b.DISPLAY_TYPE!==LS_TYPE.line)return void this.drawSimulator3D(a,b);if(this.a1&&this.a2&&(this.a1.x!==this.a2.x||this.a1.y!==this.a2.y)&&!this.hideInGroup()){this.theme&&(b=this.theme);var d=this.a1.x,e=this.a2.x,f=this.a1.y,g=this.a2.y,h=this.a1.distance(this.a2),i=this.a1.angle(this.a2),j=e-d,k=g-f,l=this.thick||b.BOND_WIDTH;if(this.a1.lassoed&&this.a2.lassoed){var m=a.createLinearGradient(d,f,e,g),n=b.FOCUS_BOND_WIDTH/2,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),r=d-p*n,s=f+q*n,t=d+p*n,u=f-q*n,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n;m.addColorStop(0,b.LASSO_GRADIENT),m.addColorStop(.5,b.LASSO_GRD_END),m.addColorStop(1,b.LASSO_GRADIENT),a.fillStyle=m,a.beginPath(),a.moveTo(r,s),a.lineTo(t,u),a.lineTo(v,w),a.lineTo(x,y),a.closePath(),a.fill()}if(b.ATOM_DISPLAY&&!b.ATOM_CIRCLES&&this.a1.displayLabel(b)&&this.a1.textBounds){for(var z=0,A=0,B=this.a1.textBounds.length;A<B;A++)z=Math.max(z,c.innerLength(this.a1,this.a2,this.a1.textBounds[A]));z+=b.BOND_ATOM_LABEL_BUFFER;var C=z/h;d+=j*C,f+=k*C}if(b.ATOM_DISPLAY&&!b.ATOM_CIRCLES&&this.a2.displayLabel(b)&&this.a2.textBounds){for(var z=0,A=0,B=this.a2.textBounds.length;A<B;A++)z=Math.max(z,c.innerLength(this.a2,this.a1,this.a2.textBounds[A]));z+=b.BOND_ATOM_LABEL_BUFFER;var C=z/h;e-=j*C,g-=k*C}if(b.BOND_CLEAR_OVERLAPS){var D=d+.15*j,E=f+.15*k,F=e-.15*j,G=g-.15*k;a.strokeStyle=b.BG_COLOR,a.lineWidth=l+2*b.BOND_OVERLAP_CLEAR_WIDTH,a.lineCap="round",a.beginPath(),a.moveTo(D,E),a.lineTo(F,G),a.closePath(),a.stroke()}if(a.strokeStyle=this.color||b.BOND_COLOR,a.fillStyle=this.color||b.BOND_COLOR,a.lineWidth=l,a.lineCap=b.BOND_ENDS,b.BOND_LEWIS_STYLE&&this.order%1===0)this.drawLewis(a,b,d,f,e,g);else{switch(this.query?1:this.order){case 0:var H=e-d,I=g-f,J=Math.sqrt(H*H+I*I),K=Math.floor(J/b.BOND_DOT_WIDTH),L=(J-(K-1)*b.BOND_DOT_WIDTH)/2;K%2===1?L+=b.BOND_DOT_WIDTH/4:(L-=b.BOND_DOT_WIDTH/4,K+=2),K/=2;var D=d+L*Math.cos(i),E=f-L*Math.sin(i);a.beginPath();for(var A=0;A<K;A++)a.circle(D,E,b.BOND_DOT_WIDTH/2),D+=2*b.BOND_DOT_WIDTH*Math.cos(i),E-=2*b.BOND_DOT_WIDTH*Math.sin(i);a.fill();break;case.5:a.beginPath(),a.moveTo(d,f),a.hashTo(d,f,e,g,b.BOND_HASH_PAD,b.BOND_HASH_PAD),a.stroke();break;case 1:if(this.query||this.stereo!==STEREO.protruding&&this.stereo!==STEREO.recessed&&this.stereo!==STEREO.protrude){if(!this.query&&this.stereo===STEREO.ambiguous){var M,N,O,P,Q=Math.floor(Math.sqrt(j*j+k*k)/b.BOND_WAVY_LEN),R=d,S=f,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),T=j/Q,U=k/Q;a.beginPath(),a.moveTo(d,f);for(var A=0,B=Q;A<B;A++)R+=T,S+=U,M=b.BOND_WAVY_LEN*p+R-.5*T,O=b.BOND_WAVY_LEN*-q+S-.5*U,N=b.BOND_WAVY_LEN*-p+R-.5*T,P=b.BOND_WAVY_LEN*q+S-.5*U,A%2===0?a.quadraticCurveTo(M,O,R,S):a.quadraticCurveTo(N,P,R,S);a.stroke();break}a.beginPath(),a.moveTo(d,f),a.lineTo(e,g),a.stroke(),this.query&&this.query.draw(a,b,this.getCenter())}else{var V=l/2,n=h*b.BOND_WEDGE_THICKNESS/2,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),r=d-p*V,s=f+q*V,t=d+p*V,u=f-q*V,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n;a.beginPath(),a.moveTo(r,s),a.lineTo(t,u),a.lineTo(v,w),a.lineTo(x,y),a.closePath(),this.stereo===STEREO.protruding?a.fill():this.stereo===STEREO.protrude?a.stroke():(a.save(),a.clip(),a.lineWidth=2*n,a.lineCap="butt",a.beginPath(),a.moveTo(d,f),a.hashTo(d,f,e,g,b.BOND_HASH_LEN,b.BOND_HASH_PAD),a.stroke(),a.restore())}break;case 1.5:case 2:var W=!b.BOND_SYMMETRICAL||this.ring;if(!W&&this.a1.bonds)for(var A=0,B=this.a1.bonds.length;A<B;A++)if(this.a1.bonds[A].order!=this.order){W=!0;break}if(!W&&this.a2.bonds)for(var A=0,B=this.a2.bonds.length;A<B;A++)if(this.a2.bonds[A].order!=this.order){W=!0;break}if(this.stereo===STEREO.ambiguous){var n=b.BOND_SAT_WIDTH/2,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),r=d-p*n,s=f+q*n,t=d+p*n,u=f-q*n,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n;a.beginPath(),a.moveTo(r,s),a.lineTo(v,w),a.moveTo(t,u),a.lineTo(x,y),a.stroke()}else if(W){var X=0,o=i+Math.PI/2,n=b.BOND_SAT_WIDTH,Y=b.BOND_SAT_ANGLE;if(a.beginPath(),Y<Math.PI/2&&(X=-(n/Math.tan(Y))),Math.abs(X)<h/2){var Z=d-Math.cos(i)*X,$=e+Math.cos(i)*X,_=f+Math.sin(i)*X,aa=g-Math.sin(i)*X,p=Math.cos(o),q=Math.sin(o),r=Z-p*n,s=_+q*n,t=Z+p*n,u=_-q*n,v=$-p*n,w=aa+q*n,x=$+p*n,y=aa-q*n,ba=!this.ring||this.ring.center.angle(this.a1)>this.ring.center.angle(this.a2)&&!(this.ring.center.angle(this.a1)-this.ring.center.angle(this.a2)>Math.PI)||this.ring.center.angle(this.a1)-this.ring.center.angle(this.a2)<-Math.PI;if(!this.ring||this.ring){if(this.a1.bonds&&1==this.a1.bonds.length&&this.a2.bonds&&this.a2.bonds.length>2||this.a2.bonds&&1==this.a2.bonds.length&&this.a1.bonds&&this.a1.bonds.length>2){n=b.BOND_SAT_WIDTH/2,r=d-p*n,s=f+q*n,t=d+p*n,u=f-q*n,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n;var ca=b.BOND_HASH_PAD,da=b.BOND_HASH_PAD;a.moveTo(r,s),a.lineTo(x,y),a.moveTo(t,u),2===this.order?a.lineTo(v,w):a.hashTo(t,u,v,w,ca,da),a.stroke();break}if(this.a1.bonds){var ea=1==this.a1.bonds.length,fa=1==this.a1.bonds.length;if(this.a1.bonds.length>1){var ga=i;ea=!0,fa=!0;for(var A=0,B=this.a1.bonds.length;A<B;A++){var ha=this.a1.bonds[A],ia=ha.brother(this.a1),ja=this.a1.angle(ia),ka=(3600+180*(ga-ja)/Math.PI)%360;if(ea&&ka>0&&ka<180&&(ea=!1),fa&&ka>180&&(fa=!1),!ea&&!fa)break}}ea&&(r=d-p*n,s=f+q*n),fa&&(t=d+p*n,u=f-q*n)}if(this.a2.bonds){var la=1==this.a2.bonds.length,ma=1==this.a2.bonds.length;if(this.a2.bonds.length>1){var ga=this.a2.angle(this.a1);la=!0,ma=!0;for(var A=0,B=this.a2.bonds.length;A<B;A++){var ha=this.a2.bonds[A],ia=ha.brother(this.a2),na=this.a2.angle(ia),ka=(3600+180*(ga-na)/Math.PI)%360;if(la&&ka>180&&(la=!1),ma&&ka>0&&ka<180&&(ma=!1),!la&&!ma)break}}la&&(v=e-p*n,w=g+q*n),ma&&(x=e+p*n,y=g-q*n)}}if(a.moveTo(d,f),a.lineTo(e,g),!this.ring){if(2==this.a1.bonds.length){var oa=this.a1.bonds[0]==this?this.a1.bonds[1]:this.a1.bonds[0],pa=this.a1.angle(oa.brother(this.a1)),qa=pa-i;qa>0&&qa<Math.PI&&(ba=!1)}if(ba&&2==this.a2.bonds.length){var oa=this.a2.bonds[0]==this?this.a2.bonds[1]:this.a2.bonds[0],pa=this.a2.angle(oa.brother(this.a2)),qa=pa-i;qa>0&&qa<Math.PI&&(ba=!1)}}ba?(a.moveTo(r,s),2===this.order?a.lineTo(v,w):a.hashTo(r,s,v,w,b.BOND_HASH_PAD,b.BOND_HASH_PAD)):(a.moveTo(t,u),2===this.order?a.lineTo(x,y):a.hashTo(t,u,x,y,b.BOND_HASH_PAD,b.BOND_HASH_PAD)),a.stroke()}}else{var n=b.BOND_SAT_WIDTH/2,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),r=d-p*n,s=f+q*n,t=d+p*n,u=f-q*n,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n,ca=b.BOND_HASH_PAD,da=b.BOND_HASH_PAD;if(this.stereo===STEREO.recessed||this.stereo===STEREO.protruding){var ra;ra=r,r=v,v=ra,ra=s,s=w,w=ra,ra=t,t=x,x=ra,ra=u,u=y,y=ra,ca=b.BOND_HASH_PAD_2}a.beginPath(),a.moveTo(r,s),a.lineTo(x,y),a.moveTo(t,u),2===this.order?a.lineTo(v,w):a.hashTo(t,u,v,w,ca,da),a.stroke()}break;case 2.5:case 3:var n=b.BOND_SAT_WIDTH,o=i+Math.PI/2,p=Math.cos(o),q=Math.sin(o),r=d-p*n,s=f+q*n,t=d+p*n,u=f-q*n,v=e+p*n,w=g-q*n,x=e-p*n,y=g+q*n;a.beginPath(),a.moveTo(r,s),3===this.order?a.lineTo(x,y):a.hashTo(r,s,x,y,b.BOND_HASH_PAD_3,b.BOND_HASH_PAD_3,!0),a.moveTo(t,u),3===this.order?a.lineTo(v,w):a.hashTo(t,u,v,w,b.BOND_HASH_PAD_3,b.BOND_HASH_PAD_3,!0),a.moveTo(d,f),3===this.order?a.lineTo(e,g):a.hashTo(d,f,e,g,b.BOND_HASH_PAD_3,b.BOND_HASH_PAD_3),a.stroke()}var sa=1,ta=1;i.between(.5*Math.PI,1.5*Math.PI)&&(i=Math.PI-i,ta*=-1);var ua=this.a1.center(this.a2).rotate(ta*i);if(void 0!==this.altLabel&&this.altLabel.length>0){if(a.save(),a.rotate(-ta*i),a.font=c.getFontDesc(b.BOND_FONT_SIZE,b.BOND_FONT_FAMILIES),a.textAlign="center",this.order>1){a.textBaseline="middle",sa=0;var R=ua.x,S=ua.y,va=a.measureText(this.altLabel).width,wa=b.BOND_FONT_SIZE+2;a.fillStyle=b.BG_COLOR,a.clearRect(R-va/2,S-wa/2,va,wa),a.fillStyle=this.color||b.BOND_COLOR}else a.textBaseline="top";a.fillText(this.altLabel,ua.x,ua.y-sa),a.restore()}}}},e.drawFocus=function(a,b){if(this.hOver||this.selected){var c=this.hOver?b.FOCUS_H_COLOR:b.FOCUS_COLOR;a.strokeStyle=c,a.fillStyle=c,a.lineWidth=b.FOCUS_LINE_WIDTH,a.beginPath(),a.circle(this.a1.x,this.a1.y,b.FOCUS_R,!0),a.stroke(),a.beginPath(),a.circle(this.a2.x,this.a2.y,b.FOCUS_R,!0),a.stroke(),a.lineWidth=b.FOCUS_BOND_WIDTH,a.beginPath(),a.moveTo(this.a1.x,this.a1.y),a.lineTo(this.a2.x,this.a2.y),a.stroke()}},e.drawLewis=function(a,b,c,d,e,f){for(var g=this.a1.angle(this.a2),h=g+Math.PI/2,i=e-c,j=f-d,k=Math.sqrt(i*i+j*j)/(this.order+1),l=k*Math.cos(g),m=-k*Math.sin(g),n=c+l,o=d+m,p=0;p<this.order;p++){var q=b.ATOM_LP_SPREAD/2,r=n-Math.cos(h)*q,s=o+Math.sin(h)*q,t=n+Math.cos(h)*q,u=o-Math.sin(h)*q;a.beginPath(),a.circle(r-b.ATOM_LP_DIA/2,s-b.ATOM_LP_DIA/2,b.ATOM_LP_DIA,!0),a.beginPath(),a.circle(t-b.ATOM_LP_DIA/2,u-b.ATOM_LP_DIA/2,b.ATOM_LP_DIA,!0),n+=l,o+=m}},e.drawSimulator3D=function(a,b){var c=this.a1.x,e=this.a2.x,f=this.a1.y,g=this.a2.y,h=this.a1.distance(this.a2),i=this.a1.angle(this.a2),j=e-c,k=g-f,l=this.thick||b.BOND_WIDTH,m=.5;if(b.ATOM_DISPLAY){var n,o,p=Math.max(1,this.order-1);b.DISPLAY_TYPE===LS_TYPE.stick&&(p=b.FOCUS_BOND_WIDTH/2,m=.3),n=b.ATOM_USE_VDW_DIA?d[this.a1.label].vdWRadius*b.ATOM_VDW_MUL:b.ATOM_SPHERE_DIA/2,0===n&&(n=b.ATOM_CIRCLE_DIA),o=(n-p)/h,c+=j*o,f+=k*o,n=b.ATOM_USE_VDW_DIA?d[this.a2.label].vdWRadius*b.ATOM_VDW_MUL:b.ATOM_SPHERE_DIA/2,0===n&&(n=b.ATOM_CIRCLE_DIA),o=(n-p)/h,e-=j*o,g-=k*o}var q=a.createLinearGradient(c,f,e,g),r=this.a1.color||d[this.a1.label].color,s=this.a2.color||d[this.a2.label].color,t="#FFF",u="#FFF",v=b.FOCUS_BOND_WIDTH/2,w=v;switch(q.addColorStop(0,r),q.addColorStop(.3,r),q.addColorStop(.7,s),q.addColorStop(1,s),a.fillStyle=q,a.strokeStyle="rgba(0,0,0,0)",this.query?1:this.order){case 0:var x=e-c,y=g-f,z=Math.sqrt(x*x+y*y),A=Math.floor(z/b.BOND_DOT_WIDTH),B=(z-(A-1)*b.BOND_DOT_WIDTH)/2;A%2===1?B+=b.BOND_DOT_WIDTH/4:(B-=b.BOND_DOT_WIDTH/4,A+=2),A/=2;var C=c+B*Math.cos(i),D=f-B*Math.sin(i);a.beginPath();for(var E=0;E<A;E++)a.circle(C,D,b.BOND_DOT_WIDTH/2),C+=2*b.BOND_DOT_WIDTH*Math.cos(i),D-=2*b.BOND_DOT_WIDTH*Math.sin(i);a.fill();break;case.5:a.hashTo(c,f,e,g,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,v,t,u);break;case 1:if(this.query||this.stereo!==STEREO.protruding&&this.stereo!==STEREO.recessed&&this.stereo!==STEREO.protrude){if(!this.query&&this.stereo===STEREO.ambiguous){var F,G,H,I,J=Math.floor(Math.sqrt(j*j+k*k)/b.BOND_WAVY_LEN),K=c,L=f,M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),P=j/J,Q=k/J;a.beginPath(),a.moveTo(c,f);for(var E=0,R=J;E<R;E++)K+=P,L+=Q,F=b.BOND_WAVY_LEN*N+K-.5*P,H=b.BOND_WAVY_LEN*-O+L-.5*Q,G=b.BOND_WAVY_LEN*-N+K-.5*P,I=b.BOND_WAVY_LEN*O+L-.5*Q,E%2===0?a.quadraticCurveTo(F,H,K,L):a.quadraticCurveTo(G,I,K,L);a.stroke();break}a.lineFill(c,f,e,g,i,v,t,u),this.query&&this.query.draw(a,b,this.getCenter())}else{var S=l/2,T=h*b.BOND_WEDGE_THICKNESS/2,M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),U=c-N*S,V=f+O*S,W=c+N*S,X=f-O*S,Y=e+N*T,Z=g-O*T,$=e-N*T,_=g+O*T;a.beginPath(),a.moveTo(U,V),a.lineTo(W,X),a.lineTo(Y,Z),a.lineTo($,_),a.closePath(),this.stereo===STEREO.protruding?a.fill():this.stereo===STEREO.protrude?a.stroke():(a.save(),a.clip(),a.lineWidth=2*T,a.lineCap="butt",a.hashTo(c,f,e,g,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,v,t,u),a.stroke(),a.restore())}break;case 1.5:case 2:if(w=v-2,this.stereo===STEREO.ambiguous){var T=b.BOND_SAT_WIDTH/2,M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),U=c-N*T,V=f+O*T,W=c+N*T,X=f-O*T,Y=e+N*T,Z=g-O*T,$=e-N*T,_=g+O*T;a.beginPath(),a.moveTo(U,V),a.lineTo(Y,Z),a.moveTo(W,X),a.lineTo($,_),a.stroke()}else if(!b.BOND_SYMMETRICAL||this.ring){var M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),aa=w+m,U=c-N*aa,V=f+O*aa,W=c+N*aa,X=f-O*aa,Y=e+N*aa,Z=g-O*aa,$=e-N*aa,_=g+O*aa,ba=0,T=b.BOND_SAT_WIDTH,ca=b.BOND_SAT_ANGLE;if(ca<Math.PI/2&&(ba=-(T/Math.tan(ca))),Math.abs(ba)<h/2){var da=!this.ring||this.ring.center.angle(this.a1)>this.ring.center.angle(this.a2)&&!(this.ring.center.angle(this.a1)-this.ring.center.angle(this.a2)>Math.PI)||this.ring.center.angle(this.a1)-this.ring.center.angle(this.a2)<-Math.PI;da?(2===this.order?a.lineFill(U,V,$,_,i,w,t,u):a.hashTo(U,V,$,_,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,w,t,u),a.lineFill(W,X,Y,Z,i,w,t,u)):(a.lineFill(U,V,$,_,i,w,t,u),2===this.order?a.lineFill(W,X,Y,Z,i,w,t,u):a.hashTo(W,X,Y,Z,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,w,t,u))}else a.lineFill(c,f,e,g,i,v,t,u)}else{var T=b.BOND_SAT_WIDTH/2,M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),U=c-N*T,V=f+O*T,W=c+N*T,X=f-O*T,Y=e+N*T,Z=g-O*T,$=e-N*T,_=g+O*T;a.lineFill(U,V,$,_,i,w,t,u),2===this.order?a.lineFill(W,X,Y,Z,i,w,t,u):a.hashTo(W,X,Y,Z,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,w,t,u)}break;case 2.5:case 3:w=v/3;var T=v-2*m,M=i+Math.PI/2,N=Math.cos(M),O=Math.sin(M),U=c-N*T,V=f+O*T,W=c+N*T,X=f-O*T,Y=e+N*T,Z=g-O*T,$=e-N*T,_=g+O*T;3===this.order?a.lineFill(U,V,$,_,i,w,t,u):a.hashTo(U,V,$,_,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!0,i,w,t,u),3===this.order?a.lineFill(W,X,Y,Z,i,w,t,u):a.hashTo(W,X,Y,Z,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!0,i,w,t,u),3===this.order?a.lineFill(c,f,e,g,i,w,t,u):a.hashTo(c,f,e,g,b.BOND_HASH_PAD,b.BOND_HASH_PAD,!1,i,w,t,u);
}},e.render=function(a,b,e){this.theme&&(b=this.theme);var f=this.a1.distance3D(this.a2);if(0!==f){var g,h,i,j,k=b.BOND_CYLINDER_DIA/2,l=b.BOND_COLOR,m=mat4.translate(a.modelViewMatrix,[this.a1.x,this.a1.y,this.a1.z],[]),n=[this.a2.x-this.a1.x,this.a2.y-this.a1.y,this.a2.z-this.a1.z],o=[0,1,0],p=0,q=[0];if(this.a1.x===this.a2.x&&this.a1.z===this.a2.z?(i=[0,0,1],this.a2.y<this.a1.y&&(p=Math.PI)):(p=c.angleV2V(o,n),i=vec3.cross(o,n,[])),l=this.a1.color||d[this.a1.label].color,g=this.a2.color||d[this.a2.label].color,l!=g&&(h=mat4.translate(a.modelViewMatrix,[this.a2.x,this.a2.y,this.a2.z],[])),e){if(b.BOND_SHOW_ORDERS&&this.order>1){var r=[0,0,1],s=mat4.inverse(a.rotationMatrix,[]);q=[.34*b.BOND_CYLINDER_DIA],mat4.multiplyVec3(s,r),j=vec3.cross(n,r,[]),vec3.normalize(j)}var t=b.BOND_PILL_DIA,u=b.BOND_PILL_PAD,v=b.BOND_PILL_HEIGHT;switch(this.order){case 1.5:t*=.75;break;case 2:t*=.75;break;case 3:t*=.5}0==this.order&&(b.BOND_RENDER_LINES?v=u:(v=b.BOND_PILL_DIA,v<b.BOND_CYLINDER_DIA&&(v/=2),t=v/2,f/=t,u/=t/2));var w=v+u,x=f/w,y=Math.floor(x),z=f-w*y,A=(u+b.BOND_PILL_DIA+z)/2,B=y;h&&(B=Math.floor(y/2));for(var C=0,D=q.length;C<D;C++){var E=mat4.set(m,[]);0!==q[C]&&mat4.translate(E,vec3.scale(j,q[C],[])),0!==p&&mat4.rotate(E,p,i),1!=t&&mat4.scale(E,[t,t,t]),l&&a.material.setDiffuseColor(l),mat4.translate(E,[0,A,0]);for(var F=0;F<B;F++)b.BOND_RENDER_LINES?0==this.order?(a.setMatrixUniforms(E),a.drawArrays(a.POINTS,0,1)):(mat4.scale(E,[1,v,1]),a.setMatrixUniforms(E),a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems),mat4.scale(E,[1,1/v,1])):(a.setMatrixUniforms(E),0==this.order?a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0):a.drawElements(a.TRIANGLES,a.pillBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)),mat4.translate(E,[0,w,0]);if(h){var G,H;b.BOND_RENDER_LINES?(G=v,G/=2,H=0):(G=2/3,H=(1-G)/2),y%2!=0&&(mat4.scale(E,[1,G,1]),a.setMatrixUniforms(E),b.BOND_RENDER_LINES?0==this.order?a.drawArrays(a.POINTS,0,1):a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems):0==this.order?a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0):a.drawElements(a.TRIANGLES,a.pillBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0),mat4.translate(E,[0,w*(1+H),0]),mat4.scale(E,[1,1/G,1])),mat4.set(h,E),0!==q[C]&&mat4.translate(E,vec3.scale(j,q[C],[])),mat4.rotate(E,p+Math.PI,i),1!=t&&mat4.scale(E,[t,t,t]),g&&a.material.setDiffuseColor(g),mat4.translate(E,[0,A,0]);for(var F=0;F<B;F++)b.BOND_RENDER_LINES?0==this.order?(a.setMatrixUniforms(E),a.drawArrays(a.POINTS,0,1)):(mat4.scale(E,[1,v,1]),a.setMatrixUniforms(E),a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems),mat4.scale(E,[1,1/v,1])):(a.setMatrixUniforms(E),0==this.order?a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0):a.drawElements(a.TRIANGLES,a.pillBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)),mat4.translate(E,[0,w,0]);y%2!=0&&(mat4.scale(E,[1,G,1]),a.setMatrixUniforms(E),b.BOND_RENDER_LINES?0==this.order?a.drawArrays(a.POINTS,0,1):a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems):0==this.order?a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0):a.drawElements(a.TRIANGLES,a.pillBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0),mat4.translate(E,[0,w*(1+H),0]),mat4.scale(E,[1,1/G,1]))}}}else{if(b.BOND_SHOW_ORDERS){switch(this.order){case 1.5:q=[.34*-b.BOND_CYLINDER_DIA],k*=.75;break;case 2:q=[.34*-b.BOND_CYLINDER_DIA-b.BOND_GAP,.34*b.BOND_CYLINDER_DIA+b.BOND_GAP],k*=.75;break;case 3:q=[-b.BOND_CYLINDER_DIA/2-b.BOND_GAP,0,b.BOND_CYLINDER_DIA/2+b.BOND_GAP],k*=.5}if(this.order>1){var r=[0,0,1],s=mat4.inverse(a.rotationMatrix,[]);mat4.multiplyVec3(s,r),j=vec3.cross(n,r,[]),vec3.normalize(j)}}else switch(this.order){case 0:k*=.25;break;case.5:case 1.5:k*=.5}h&&(f/=2);for(var I=[k,f,k],C=0,D=q.length;C<D;C++){var E=mat4.set(m,[]);0!==q[C]&&mat4.translate(E,vec3.scale(j,q[C],[])),0!==p&&mat4.rotate(E,p,i),mat4.scale(E,I),l&&a.material.setDiffuseColor(l),a.setMatrixUniforms(E),b.BOND_RENDER_LINES?a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems):a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderBuffer.vertexPositionBuffer.numItems),h&&(mat4.set(h,E),0!==q[C]&&mat4.translate(E,vec3.scale(j,q[C],[])),mat4.rotate(E,p+Math.PI,i),mat4.scale(E,I),g&&a.material.setDiffuseColor(g),a.setMatrixUniforms(E),b.BOND_RENDER_LINES?a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems):a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderBuffer.vertexPositionBuffer.numItems))}}}},e.renderFocus=function(a,b){if(this.selected||this.hOver){this.theme&&(b=this.theme),this.theme&&(b=this.theme);var d=this.a1.distance3D(this.a2);if(0===d)return;var e,f=b.BOND_CYLINDER_DIA/1.2,g=mat4.translate(a.modelViewMatrix,[this.a1.x,this.a1.y,this.a1.z],[]),h=[this.a2.x-this.a1.x,this.a2.y-this.a1.y,this.a2.z-this.a1.z],i=[0,1,0],j=0,k=[f,d,f];this.a1.x===this.a2.x&&this.a1.z===this.a2.z?(e=[0,0,1],this.a2.y<this.a1.y&&(j=Math.PI)):(j=c.angleV2V(i,h),e=vec3.cross(i,h,[])),0!==j&&mat4.rotate(g,j,e),mat4.scale(g,k),a.setMatrixUniforms(g),a.material.setDiffuseColor(this.hOver?b.FOCUS_H_COLOR:b.FOCUS_COLOR),a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderBuffer.vertexPositionBuffer.numItems)}},e.renderPick=function(a,b){this.theme&&(b=this.theme);var d=this.a1.distance3D(this.a2);if(0!==d){var e,f,g=b.BOND_CYLINDER_DIA/2,h=mat4.translate(a.modelViewMatrix,[this.a1.x,this.a1.y,this.a1.z],[]),i=[this.a2.x-this.a1.x,this.a2.y-this.a1.y,this.a2.z-this.a1.z],j=[0,1,0],k=0,l=[0];if(this.a1.x===this.a2.x&&this.a1.z===this.a2.z?(e=[0,0,1],this.a2.y<this.a1.y&&(k=Math.PI)):(k=c.angleV2V(j,i),e=vec3.cross(j,i,[])),b.BOND_SHOW_ORDERS)if(b.BOND_RENDER_LINES){switch(this.order){case 1.5:case 2:l=[-b.BOND_CYLINDER_DIA/2-b.BOND_GAP,b.BOND_CYLINDER_DIA/2+b.BOND_GAP];break;case 3:l=[-b.BOND_CYLINDER_DIA-b.BOND_GAP,0,b.BOND_CYLINDER_DIA+b.BOND_GAP]}if(this.order>1){var m=[0,0,1],n=mat4.inverse(a.rotationMatrix,[]);mat4.multiplyVec3(n,m),f=vec3.cross(i,m,[]),vec3.normalize(f)}}else switch(this.order){case 1.5:case 2:g*=3;break;case 3:g*=3.4}else switch(this.order){case 0:g*=.25;break;case.5:case 1.5:g*=.5}for(var o=[g,d,g],p=0,q=l.length;p<q;p++){var r=mat4.set(h,[]);0!==l[p]&&mat4.translate(r,vec3.scale(f,l[p],[])),0!==k&&mat4.rotate(r,k,e),mat4.scale(r,o),a.setMatrixUniforms(r),b.BOND_RENDER_LINES?a.drawArrays(a.LINES,0,a.lineBuffer.vertexPositionBuffer.numItems):a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderBuffer.vertexPositionBuffer.numItems)}}}}(ipmd,ipmd.actor,ipmd.util,ipmd.Elements),function(a,b){"use strict";b.ring=function(){this.atoms=[],this.bonds=[]};var c=b.ring.prototype;c.center=void 0,c.bindBonds=function(){for(var a=0,b=this.bonds.length;a<b;a++)this.bonds[a].ring=this;this.center=this.getCenter()},c.getCenter=function(){for(var b=1/0,c=1/0,d=-(1/0),e=-(1/0),f=0,g=this.atoms.length;f<g;f++)b=Math.min(this.atoms[f].x,b),c=Math.min(this.atoms[f].y,c),d=Math.max(this.atoms[f].x,d),e=Math.max(this.atoms[f].y,e);return new a.point((d+b)/2,(e+c)/2)}}(ipmd,ipmd.actor),function(a,b,c,d){"use strict";function e(a){for(var b=0,c=0,d=a.length;c<d;c++)b+=a[c].order;return b}function f(a){if(0===a.length)return 0;for(var b=0,c=0,d=a.length;c<d;c++)b+=a[c].length();return b/=a.length}b.molecule=function(){this.atoms=[],this.bonds=[],this.rings=[]};var g=b.molecule.prototype;g.findRings=!0,g.getBounds=function(){for(var b=new a.bounds,c=0,d=this.atoms.length;c<d;c++)this.atoms[c]&&b.expand(this.atoms[c].getBounds());if(this.chains){for(var c=0,d=this.chains.length;c<d;c++)for(var e=this.chains[c],f=0,g=e.length;f<g;f++){var h=e[f];b.expand(h.cp1.x,h.cp1.y),b.expand(h.cp2.x,h.cp2.y)}b.minX-=30,b.minY-=30,b.maxX+=30,b.maxY+=30}return b},g.getBounds3D=function(){for(var b=new a.bounds,c=0,d=this.atoms.length;c<d;c++)this.atoms[c]&&b.expand(this.atoms[c].getBounds3D());if(this.chains)for(var c=0,d=this.chains.length;c<d;c++)for(var e=this.chains[c],f=0,g=e.length;f<g;f++){var h=e[f];b.expand3D(h.cp1.x,h.cp1.y,h.cp1.z),b.expand3D(h.cp2.x,h.cp2.y,h.cp2.z)}return b},g.getCenter=function(){if(1===this.atoms.length&&this.atoms[0])return new a.point(this.atoms[0].x,this.atoms[0].y);for(var b=1/0,c=1/0,d=-(1/0),e=-(1/0),f=0,g=this.atoms.length;f<g;f++)this.atoms[f]&&(b=Math.min(this.atoms[f].x,b),c=Math.min(this.atoms[f].y,c),d=Math.max(this.atoms[f].x,d),e=Math.max(this.atoms[f].y,e));return new a.point((d+b)/2,(e+c)/2)},g.getCenter3D=function(){if(1===this.atoms.length&&this.atoms[0])return new b.atom("C",this.atoms[0].x,this.atoms[0].y,this.atoms[0].z);var a=1/0,c=1/0,d=1/0,e=-(1/0),f=-(1/0),g=-(1/0);if(this.chains)for(var h=0,i=this.chains.length;h<i;h++)for(var j=this.chains[h],k=0,l=j.length;k<l;k++){var m=j[k];a=Math.min(m.cp1.x,m.cp2.x,a),c=Math.min(m.cp1.y,m.cp2.y,c),d=Math.min(m.cp1.z,m.cp2.z,d),e=Math.max(m.cp1.x,m.cp2.x,e),f=Math.max(m.cp1.y,m.cp2.y,f),g=Math.max(m.cp1.z,m.cp2.z,g)}for(var h=0,i=this.atoms.length;h<i;h++)this.atoms[h]&&(a=Math.min(this.atoms[h].x,a),c=Math.min(this.atoms[h].y,c),d=Math.min(this.atoms[h].z,d),e=Math.max(this.atoms[h].x,e),f=Math.max(this.atoms[h].y,f),g=Math.max(this.atoms[h].z,g));return new b.atom("C",(e+a)/2,(f+c)/2,(g+d)/2)},g.getAngles=function(a){for(var b=[],c=0,d=this.bonds.length;c<d;c++)this.bonds[c].has(a)&&this.bonds[c].brother(a)&&b.push(a.angle(this.bonds[c].brother(a)));return b.sort(),b},g.optScale=function(a){var b=f(this.bonds);if(0!==b)for(var c=a/b,d=0,e=this.atoms.length;d<e;d++)this.atoms[d]&&(this.atoms[d].x*=c,this.atoms[d].y*=c)},g.getBonds=function(a){for(var b=[],c=0,d=this.bonds.length;c<d;c++)this.bonds[c].has(a)&&b.push(this.bonds[c]);return b},g.detect=function(){for(var b=this.atoms.length-1;b>=0;b--)this.atoms[b]||this.atoms.splice(b,1);for(var b=this.bonds.length-1;b>=0;b--)this.bonds[b]&&this.bonds[b].a1&&this.bonds[b].a2||this.bonds.splice(b,1);if(this.findRings)if(this.bonds.length-this.atoms.length!==this.fjCache){this.rings=new a.sSeeker(this).rings;for(var b=0,c=this.bonds.length;b<c;b++)this.bonds[b].ring=void 0;for(var b=0,c=this.rings.length;b<c;b++)this.rings[b].bindBonds()}else for(var b=0,c=this.rings.length;b<c;b++){var d=this.rings[b];d.center=d.getCenter()}for(var b=0,c=this.atoms.length;b<c;b++){if(void 0===this.atoms[b])return;if(this.atoms[b].alone=!1,"C"===this.atoms[b].label){for(var e=0,f=0,g=this.bonds.length;f<g;f++)this.bonds[f].a1!==this.atoms[b]&&this.bonds[f].a2!==this.atoms[b]||e++;0===e&&(this.atoms[b].alone=!0)}}for(var h=!1,b=0,c=this.atoms.length;b<c;b++){if(void 0===this.atoms[b])return;0!==this.atoms[b].z&&(h=!0)}h&&(this.updateZOrder(this.atoms),this.updateZOrder(this.bonds)),this.setMeta(),this.aCache=this.atoms.length,this.bCache=this.bonds.length,this.fjCache=this.bonds.length-this.atoms.length},g.setMeta=function(){for(var a=this.getCenter(),b=0,d=this.atoms.length;b<d;b++){if(void 0===this.atoms[b])return;var f=this.atoms[b];f.bonds=this.getBonds(f),f.angles=this.getAngles(f),f.hidden=2===f.bonds.length&&Math.abs(Math.abs(f.angles[1]-f.angles[0])-Math.PI)<Math.PI/30&&f.bonds[0].order===f.bonds[1].order;var g=c.optAngle(f.angles);f.angleOpt=g.angle%(2*Math.PI),f.largestAngle=g.largest,f.coordCount=e(f.bonds),f.bondCount=f.bonds.length,f.molCenter=a}for(var b=0,d=this.bonds.length;b<d;b++){if(void 0===this.bonds[b])return;var h=this.bonds[b];h.molCenter=a}},g.updateZOrder=function(a){for(var b=function(b){return void 0===a[b].z?a[b].a1.z+a[b].a2.z<a[b-1].a1.z+a[b-1].a2.z:a[b].z<a[b-1].z},d=1,e=a.length;d<e;d++)for(var f=d;f>0&&b(f);)c.swap(a[f],a[f-1]),f--},g.moveTo=function(a){var b=this.getCenter();a.sub(b),b.add(a);for(var c=0,d=this.atoms.length;c<d;c++){if(void 0===this.atoms[c])return;this.atoms[c].add(a),this.atoms[c].molCenter=b}},g.draw=function(a,b){if(this.theme&&(b=this.theme),b.ATOM_DISPLAY&&!b.ATOM_CIRCLES)for(var c=0,d=this.atoms.length;c<d;c++){if(void 0===this.atoms[c])return;this.atoms[c].draw(a,b)}if(b.BOND_DISPLAY)for(var c=0,d=this.bonds.length;c<d;c++){if(void 0===this.bonds[c])return;this.bonds[c].draw(a,b)}if(b.ATOM_DISPLAY&&b.ATOM_CIRCLES)for(var c=0,d=this.atoms.length;c<d;c++){if(void 0===this.atoms[c])return;this.atoms[c].draw(a,b)}},g.render=function(a,e){this.theme&&(e=this.theme);var f=this.atoms.length>0&&void 0!==this.atoms[0].hetatm;if(f){if(e.MACRO_DISPLAY_BONDS){this.bonds.length>0&&(e.BOND_RENDER_LINES&&!this.resdTheme||this.resdTheme&&this.resdTheme.bonds_renderAsLines_3D?(a.lineWidth(this.resdTheme?this.resdTheme.BOND_WIDTH:e.BOND_WIDTH),a.lineBuffer.bindBuffers(a)):a.cylinderBuffer.bindBuffers(a),a.material.setTempColors(e.BOND_MATER_AMB_COLOR,void 0,e.BOND_MATER_SPE_COLOR,e.BOND_MATER_SHINY));for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];!i.a1.hetatm&&(e.MACRO_ATL_DIST===-1||void 0!==i.a1.distOpt&&e.MACRO_ATL_DIST>=i.a1.distOpt&&e.MACRO_ATL_DIST>=i.a2.distOpt)&&i.render(a,this.resdTheme?this.resdTheme:e)}}if(e.MACRO_DISPLAY_ATOMS){this.atoms.length>0&&(a.sphereBuffer.bindBuffers(a),a.material.setTempColors(e.ATOM_MATER_AMB_COLOR,void 0,e.ATOM_MATER_SPE_COLOR,e.ATOM_MATER_SHINY));for(var g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];!j.hetatm&&(e.MACRO_ATL_DIST===-1||void 0!==j.distOpt&&e.MACRO_ATL_DIST>=j.distOpt)&&j.render(a,this.resdTheme?this.resdTheme:e)}}}if(e.BOND_DISPLAY){var k=[],l=[];this.bonds.length>0&&(e.BOND_RENDER_LINES?(a.lineWidth(e.BOND_WIDTH),a.lineBuffer.bindBuffers(a)):a.cylinderBuffer.bindBuffers(a),a.material.setTempColors(e.BOND_MATER_AMB_COLOR,void 0,e.BOND_MATER_SPE_COLOR,e.BOND_MATER_SHINY));for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];f&&!i.a1.hetatm||(e.BOND_SHOW_ORDERS?0==i.order?l.push(i):.5==i.order?k.push(i):(1.5==i.order&&k.push(i),i.render(a,e)):i.render(a,e))}if(k.length>0){e.BOND_RENDER_LINES||a.pillBuffer.bindBuffers(a);for(var g=0,h=k.length;g<h;g++)k[g].render(a,e,!0)}if(l.length>0){e.BOND_RENDER_LINES||a.sphereBuffer.bindBuffers(a);for(var g=0,h=l.length;g<h;g++)l[g].render(a,e,!0)}}if(e.ATOM_DISPLAY){for(var g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];j.bondCount=0,j.renderStar=!1}for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];i.a1.bondCount++,i.a2.bondCount++}this.atoms.length>0&&(a.sphereBuffer.bindBuffers(a),a.material.setTempColors(e.ATOM_MATER_AMB_COLOR,void 0,e.ATOM_MATER_SPE_COLOR,e.ATOM_MATER_SHINY));for(var m=[],g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];f&&(!j.hetatm||!e.MACRO_SHOW_WATER&&j.isWater)||(e.ATOM_LONE_STAR&&0===j.bondCount?(j.renderStar=!0,m.push(j)):j.render(a,e))}if(m.length>0){a.starBuffer.bindBuffers(a);for(var g=0,h=m.length;g<h;g++)m[g].render(a,e)}}if(this.chains){if(a.setMatrixUniforms(a.modelViewMatrix),e.PRO_DISPLAY_RIBBON){a.material.setTempColors(e.PRO_MATER_AMB_COLOR,void 0,e.PRO_MATER_SPE_COLOR,e.PRO_MATER_SHINY);for(var n=e.PRO_RIBBON_PAINT?this.paints:this.ribbons,o=0,p=n.length;o<p;o++){var q=n[o];if("none"!==e.PRO_RESIDUE_COLOR){q.front.bindBuffers(a);for(var r="grd"===e.PRO_RESIDUE_COLOR,g=0,h=q.front.segments.length;g<h;g++)r&&a.material.setDiffuseColor(c.gradient(g,h,e.MACRO_GRADIENT_COLORS)),q.front.segments[g].render(a,e);q.back.bindBuffers(a);for(var g=0,h=q.back.segments.length;g<h;g++)r&&a.material.setDiffuseColor(c.gradient(g,h,e.MACRO_GRADIENT_COLORS)),q.back.segments[g].render(a,e)}else q.front.render(a,e),q.back.render(a,e)}}if(e.PRO_DISPLAY_PIPE_PLANK)for(var o=0,p=this.pipePlanks.length;o<p;o++)this.pipePlanks[o].render(a,e);if(e.PRO_DISPLAY_BACKBONE){if(!this.alphaC){this.alphaC={nodes:[],edges:[]};for(var o=0,p=this.chains.length;o<p;o++){var s=this.chains[o],t=s.length>2&&d[s[2].name]&&"#BEA06E"===d[s[2].name].aminoColor;if(!t&&s.length>0)for(var g=0,h=s.length-2;g<h;g++){var u=s[g].cp1;u.chainColor=s.chainColor,this.alphaC.nodes.push(u);var i=new b.bond(s[g].cp1,s[g+1].cp1);i.residueName=s[g].name,i.chainColor=s.chainColor,this.alphaC.edges.push(i),g===s.length-3&&(u=s[g+1].cp1,u.chainColor=s.chainColor,this.alphaC.nodes.push(u))}}}if(this.alphaC.nodes.length>0){var v=c.theme("new");v.ATOM_DISPLAY=!0,v.BOND_DISPLAY=!0,v.ATOM_SPHERE_DIA=e.PRO_BACKBONE_THICKNESS,v.BOND_CYLINDER_DIA=e.PRO_BACKBONE_THICKNESS,v.ATOM_COLOR=e.PRO_BACKBONE_COLOR,v.BOND_COLOR=e.PRO_BACKBONE_COLOR,v.ATOM_USE_VDW_DIA=!1,a.material.setTempColors(e.PRO_MATER_AMB_COLOR,void 0,e.PRO_MATER_SPE_COLOR,e.PRO_MATER_SHINY),a.material.setDiffuseColor(e.PRO_BACKBONE_COLOR);for(var g=0,h=this.alphaC.nodes.length;g<h;g++){var u=this.alphaC.nodes[g];e.MACRO_COLOR_CHAIN&&(v.ATOM_COLOR=u.chainColor),a.sphereBuffer.bindBuffers(a),u.render(a,v)}for(var g=0,h=this.alphaC.edges.length;g<h;g++){var w,x=this.alphaC.edges[g],y=d[x.residueName]?d[x.residueName]:d["*"];e.MACRO_COLOR_CHAIN?w=x.chainColor:"shapely"===e.PRO_RESIDUE_COLOR?w=y.shapelyColor:"amino"===e.PRO_RESIDUE_COLOR?w=y.aminoColor:"polarity"===e.PRO_RESIDUE_COLOR?w=y.polar?"#C10000":"#CCCCCC":"acidity"===e.PRO_RESIDUE_COLOR?w=1===y.acidity?"#0000FF":y.acidity===-1?"#FF0000":y.polar?"#CCCCCC":"#773300":"grd"===e.PRO_RESIDUE_COLOR&&(w=c.gradient(g,h,e.MACRO_GRADIENT_COLORS)),w&&(v.BOND_COLOR=w),a.cylinderBuffer.bindBuffers(a),x.render(a,v)}}}if(e.NUC_DISPLAY){a.material.setTempColors(e.NUC_MATER_AMB_COLOR,void 0,e.NUC_MATER_SPE_COLOR,e.NUC_MATER_SHINY);for(var o=0,p=this.tubes.length;o<p;o++){a.setMatrixUniforms(a.modelViewMatrix);var q=this.tubes[o];q.render(a,e)}}}if(e.ATOM_DISPLAY){for(var z=!1,g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];if(j.hOver||j.selected){z=!0;break}}if(!z)for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];if(i.hOver||i.selected){z=!0;break}}if(z){a.sphereBuffer.bindBuffers(a),a.blendFunc(a.SRC_ALPHA,a.ONE),a.material.setTempColors(e.ATOM_MATER_AMB_COLOR,void 0,"#222222",0),a.enable(a.BLEND),a.depthMask(!1),a.material.setAlpha(.4),a.sphereBuffer.bindBuffers(a);for(var g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];(j.hOver||j.selected)&&j.renderFocus(a,e)}a.cylinderBuffer.bindBuffers(a);for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];(i.hOver||i.selected)&&i.renderFocus(a,e)}a.depthMask(!0),a.disable(a.BLEND),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)}}this.surface&&e.SURFACES_DISPLAY&&(a.setMatrixUniforms(a.modelViewMatrix),this.surface.bindBuffers(a),a.material.setTempColors(e.SURFACES_MATER_AMB_COLOR,e.SURFACES_COLOR,e.SURFACES_MATER_SPE_COLOR,e.SURFACES_MATER_SHINY),"Dot"===e.SURFACES_STYLE?a.drawArrays(a.POINTS,0,this.surface.vertexPositionBuffer.numItems):a.drawElements(a.TRIANGLES,this.surface.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0))},g.renderPick=function(a,b,c,d,e){this.theme&&(b=this.theme);var f=this.atoms.length>0&&void 0!==this.atoms[0].hetatm;if(e&&b.BOND_DISPLAY){this.bonds.length>0&&(b.BOND_RENDER_LINES?(a.lineWidth(b.BOND_WIDTH),a.lineBuffer.bindBuffers(a)):a.cylinderBuffer.bindBuffers(a));for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];f&&!i.a1.hetatm||(a.material.setDiffuseColor(c.length.toHexColor()),i.renderPick(a,b),c.push(i))}}if(d&&b.ATOM_DISPLAY){for(var g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];j.bondCount=0,j.renderStar=!1}for(var g=0,h=this.bonds.length;g<h;g++){var i=this.bonds[g];i.a1.bondCount++,i.a2.bondCount++}this.atoms.length>0&&a.sphereBuffer.bindBuffers(a);for(var k=[],g=0,h=this.atoms.length;g<h;g++){var j=this.atoms[g];f&&(!j.hetatm||!b.MACRO_SHOW_WATER&&j.isWater)||(b.ATOM_LONE_STAR&&0===j.bondCount?(j.renderStar=!0,k.push(j)):(a.material.setDiffuseColor(c.length.toHexColor()),j.render(a,b,!0),c.push(j)))}if(k.length>0){a.starBuffer.bindBuffers(a);for(var g=0,h=k.length;g<h;g++){var j=k[g];a.material.setDiffuseColor(c.length.toHexColor()),j.render(a,b,!0),c.push(j)}}}}}(ipmd,ipmd.actor,ipmd.util,ipmd.Residues),function(a){"use strict";function b(a){var b=a*a,c=a*a*a,d=[6/c,0,0,0,6/c,2/b,0,0,1/c,1/b,1/a,0,0,0,0,1],g=[-1/6,.5,-.5,1/6,.5,-1,.5,0,-.5,0,.5,0,1/6,2/3,1/6,0];e=mat4.multiply(g,d,[]),f=a}function c(a){a!==f&&b(a)}function d(b,c,d,f,g,h,i){for(var j=[],k=b.getAssist(c),l=d.getAssist(c),m=f.getAssist(c),n=g.getAssist(c),o=0,p=k.length;o<p;o++){for(var q=[l[o].x,l[o].y,l[o].z,1,m[o].x,m[o].y,m[o].z,1,k[o].x,k[o].y,k[o].z,1,n[o].x,n[o].y,n[o].z,1],r=mat4.multiply(q,e,[]),s=[],t=0;t<i;t++){for(var u=3;u>0;u--)for(var v=0;v<4;v++)r[4*u+v]+=r[4*(u-1)+v];s[t]=new a.atom("",r[12]/r[15],r[13]/r[15],r[14]/r[15])}j[o]=s}if(h&&b.arrow)for(var u=0,w=i;u<w;u++)for(var x=1.5-1.3*u/i,y=Math.floor(b.horzDPI/2),z=j[y],v=0,A=j.length;v<A;v++)if(v!==y){var B=z[u],C=j[v][u],D=[C.x-B.x,C.y-B.y,C.z-B.z];vec3.scale(vec,x),C.x=B.x+D[0],C.y=B.y+D[1],C.z=B.z+D[2]}return j}var e,f=-1;a.residue=function(a){this.resSeq=a};var g=a.residue.prototype;g.setup=function(b,c){this.horzDPI=c;var d=[b.x-this.cp1.x,b.y-this.cp1.y,b.z-this.cp1.z],e=[this.cp2.x-this.cp1.x,this.cp2.y-this.cp1.y,this.cp2.z-this.cp1.z],f=vec3.cross(d,e,[]);this.D=vec3.cross(f,d,[]),vec3.normalize(f),vec3.normalize(this.D),this.assistSmall=[],this.assistLarge=[];var g=[(b.x+this.cp1.x)/2,(b.y+this.cp1.y)/2,(b.z+this.cp1.z)/2];this.helix&&(vec3.scale(f,1.5),vec3.add(g,f)),this.assistSmall[0]=new a.atom("",g[0]-this.D[0]/2,g[1]-this.D[1]/2,g[2]-this.D[2]/2);for(var h=1;h<c;h++)this.assistSmall[h]=new a.atom("",this.assistSmall[0].x+this.D[0]*h/c,this.assistSmall[0].y+this.D[1]*h/c,this.assistSmall[0].z+this.D[2]*h/c);vec3.scale(this.D,4),this.assistLarge[0]=new a.atom("",g[0]-this.D[0]/2,g[1]-this.D[1]/2,g[2]-this.D[2]/2);for(var h=1;h<c;h++)this.assistLarge[h]=new a.atom("",this.assistLarge[0].x+this.D[0]*h/c,this.assistLarge[0].y+this.D[1]*h/c,this.assistLarge[0].z+this.D[2]*h/c)},g.getAssist=function(a){return 0===a?this.helix||this.sheet?this.assistLarge:this.assistSmall:1===a?this.assistSmall:2===a?this.assistLarge:void 0},g.calSegment=function(a,b,e,f,g){c(g),this.split=e.helix!==this.helix||e.sheet!==this.sheet,this.lineSegments=d(this,0,a,b,e,!1,g),f&&(this.lineSegmentsCartoon=d(this,this.helix||this.sheet?2:1,a,b,e,!0,g))}}(ipmd.actor),function(a,b,c){"use strict";b.spectrum=function(){this.data=[],this.metadata=[],this.dataDisplay=[],this.memory={offsetTop:0,offsetLeft:0,offsetBottom:0,flipX:!1,scale:1,width:0,height:0}};var d=b.spectrum.prototype;d.title=void 0,d.xUnit=void 0,d.yUnit=void 0,d.conti=!0,d.itgSenst=.01,d.draw=function(a,b,d,e){this.theme&&(b=this.theme);var f=5,g=0,h=0;a.fillStyle=this.color||b.TEXT_COLOR,a.textAlign="center",a.textBaseline="alphabetic",a.font=c.getFontDesc(b.TEXT_FONT_SIZE,b.TEXT_FONT_FAMILIES),this.xUnit&&(h+=b.TEXT_FONT_SIZE,a.fillText(this.xUnit,d/2,e-2)),this.yUnit&&b.PLOT_SHOW_Y&&(g+=b.TEXT_FONT_SIZE,a.save(),a.translate(b.TEXT_FONT_SIZE,e/2),a.rotate(-Math.PI/2),a.fillText(this.yUnit,0,0),a.restore()),this.title&&(f+=b.TEXT_FONT_SIZE,a.fillText(this.title,d/2,b.TEXT_FONT_SIZE)),a.lineCap="square",h+=5+b.TEXT_FONT_SIZE,b.PLOT_SHOW_Y&&(g+=5+a.measureText("1000").width),b.PLOT_SHOW_GRID&&(a.strokeStyle=b.PLOT_GRID_COLOR,a.lineWidth=b.PLOT_GRID_LINE_WIDTH,a.strokeRect(g,f,d-g,e-h-f)),a.textAlign="center",a.textBaseline="top";for(var i=this.maxX-this.minX,j=i/100,k=0,l=b.PLOT_FLIP_X?d:0,m=.001;m<j||i/m>25;)m*=10;for(var n=Math.round(this.minX/m)*m;n<=this.maxX;n+=m/2){var o=this.transX(n,b,d,g);if(o>g)if(a.strokeStyle=this.color||b.PLOT_COLOR,a.lineWidth=b.PLOT_WIDTH,k%2===0){a.beginPath(),a.moveTo(o,e-h),a.lineTo(o,e-h+2),a.stroke();for(var p=n.toFixed(5);"0"===p.charAt(p.length-1);)p=p.substring(0,p.length-1);"."===p.charAt(p.length-1)&&(p=p.substring(0,p.length-1));var q=a.measureText(p).width;b.PLOT_FLIP_X&&(q*=-1);var r=o-q/2;(b.PLOT_FLIP_X?r<l:r>l)&&(a.fillText(p,o,e-h+2),l=o+q/2),b.PLOT_SHOW_GRID&&(a.strokeStyle=b.PLOT_GRID_COLOR,a.lineWidth=b.PLOT_GRID_LINE_WIDTH,a.beginPath(),a.moveTo(o,e-h),a.lineTo(o,f),a.stroke())}else a.beginPath(),a.moveTo(o,e-h),a.lineTo(o,e-h+2),a.stroke();k++}if(b.PLOT_SHOW_Y||b.PLOT_SHOW_GRID){var s=1/b.SCALE;a.textAlign="right",a.textBaseline="middle";for(var n=0;n<=10;n++){var t=s/10*n,u=f+(e-h-f)*(1-t*b.SCALE);if(b.PLOT_SHOW_GRID&&(a.strokeStyle=b.PLOT_GRID_COLOR,a.lineWidth=b.PLOT_GRID_LINE_WIDTH,a.beginPath(),a.moveTo(g,u),a.lineTo(d,u),a.stroke()),b.PLOT_SHOW_Y){a.strokeStyle=this.color||b.PLOT_COLOR,a.lineWidth=b.PLOT_WIDTH,a.beginPath(),a.moveTo(g,u),a.lineTo(g-3,u),a.stroke();var v=100*t,w=Math.max(0,3-Math.floor(v).toString().length),p=v.toFixed(w);if(w>0)for(;"0"===p.charAt(p.length-1);)p=p.substring(0,p.length-1);"."===p.charAt(p.length-1)&&(p=p.substring(0,p.length-1)),a.fillText(p,g-3,u)}}}if(a.strokeStyle=this.color||b.PLOT_COLOR,a.lineWidth=b.PLOT_WIDTH,a.beginPath(),a.moveTo(d,e-h),a.lineTo(g,e-h),b.PLOT_SHOW_Y&&a.lineTo(g,f),a.stroke(),this.dataDisplay.length>0){a.textAlign="left",a.textBaseline="top";for(var x=0,n=0,y=this.dataDisplay.length;n<y;n++)if(this.dataDisplay[n].value)a.fillText([this.dataDisplay[n].display,": ",this.dataDisplay[n].value].join(""),g+10,f+10+x*(b.TEXT_FONT_SIZE+5)),x++;else if(this.dataDisplay[n].tag)for(var z=0,A=this.metadata.length;z<A;z++)if(this.metadata[z].startWith(this.dataDisplay[n].tag)){var B=this.metadata[z];if(this.dataDisplay[n].display){var C=this.metadata[z].indexOf("=");B=[this.dataDisplay[n].display,": ",C>-1?this.metadata[z].substring(C+2):this.metadata[z]].join("")}a.fillText(B,g+10,f+10+x*(b.TEXT_FONT_SIZE+5)),x++;break}}this.drawPlot(a,b,d,e,f,g,h),this.memory.offsetTop=f,this.memory.offsetLeft=g,this.memory.offsetBottom=h,this.memory.flipX=b.PLOT_FLIP_X,this.memory.scale=b.SCALE,this.memory.width=d,this.memory.height=e},d.drawPlot=function(b,c,d,e,f,g,h){this.theme&&(c=this.theme);var i=[];if(b.strokeStyle=this.color||c.PLOT_COLOR,b.lineWidth=c.PLOT_WIDTH,b.save(),b.rect(g,f,d-g,e-h-f),b.clip(),b.beginPath(),this.conti)for(var j=!1,k=0,l=!1,m=0,n=this.data.length;m<n;m++){var o,p=this.transX(this.data[m].x,c,d,g);if(m<n&&!j&&this.data[m+1]&&(o=this.transX(this.data[m+1].x,c,d,g)),p>=g&&p<d||void 0!==o&&o>=g&&o<d){var q=this.transY(this.data[m].y,c,e,h,f);if(c.PLOT_SHOW_ITG&&Math.abs(this.data[m].y)>this.itgSenst&&i.push(new a.point(this.data[m].x,this.data[m].y)),j||(b.moveTo(p,q),j=!0),b.lineTo(p,q),k++,k%1e3===0&&(b.stroke(),b.beginPath(),b.moveTo(p,q)),l)break}else j&&(l=!0)}else for(var m=0,n=this.data.length;m<n;m++){var p=this.transX(this.data[m].x,c,d,g);p>=g&&p<d&&(b.moveTo(p,e-h),b.lineTo(p,this.transY(this.data[m].y,c,e,h,f)))}if(b.stroke(),c.PLOT_SHOW_ITG&&i.length>1){var r,s=i[1].x>i[0].x;if(b.strokeStyle=c.PLOT_ITG_COLOR,b.lineWidth=c.PLOT_ITG_LINE_WIDTH,b.beginPath(),this.flipX&&!s||!this.flipX&&s){for(var m=i.length-2;m>=0;m--)i[m].y=i[m].y+i[m+1].y;r=i[0].y}else{for(var m=1,n=i.length;m<n;m++)i[m].y=i[m].y+i[m-1].y;r=i[i.length-1].y}for(var m=0,n=i.length;m<n;m++){var p=this.transX(i[m].x,c,d,g),q=this.transY(i[m].y/c.SCALE/r,c,e,h,f);0===m?b.moveTo(p,q):b.lineTo(p,q)}b.stroke()}b.restore()},d.transX=function(a,b,c,d){var e=d+(a-this.minX)/(this.maxX-this.minX)*(c-d);return b.PLOT_FLIP_X&&(e=c+d-e),e},d.transY=function(a,b,c,d,e){return e+(c-d-e)*(1-a*b.SCALE)},d.invTransX=function(a){return this.memory.flipX&&(a=this.memory.width+this.memory.offsetLeft-a),(a-this.memory.offsetLeft)*(this.maxX-this.minX)/(this.memory.width-this.memory.offsetLeft)+this.minX},d.invTransY=function(a){return(1-(a-this.memory.offsetTop)/(this.memory.height-this.memory.offsetBottom-this.memory.offsetTop))/this.memory.scale*100},d.setup=function(){for(var a=Number.MAX_VALUE,b=Number.MIN_VALUE,c=Number.MIN_VALUE,d=0,e=this.data.length;d<e;d++)a=Math.min(a,this.data[d].x),b=Math.max(b,this.data[d].x),c=Math.max(c,this.data[d].y);this.conti?(this.minX=a,this.maxX=b):(this.minX=a-1,this.maxX=b+1);for(var d=0,e=this.data.length;d<e;d++)this.data[d].y/=c},d.zoom=function(a,b,c,d){var e=this.invTransX(a),f=this.invTransX(b);if(this.minX=Math.min(e,f),this.maxX=Math.max(e,f),d){for(var g=Number.MIN_VALUE,h=0,i=this.data.length;h<i;h++)this.data[h].x.between(this.minX,this.maxX)&&(g=Math.max(g,this.data[h].y));return 1/g}},d.translate=function(a,b){var c=a/(b-this.memory.offsetLeft)*(this.maxX-this.minX)*(this.memory.flipX?1:-1);this.minX+=c,this.maxX+=c},d.innerCoord=function(b,c){return new a.point(this.invTransX(b),this.invTransY(c))},d.innerCoordOpt=function(b){var d=this.invTransX(b-1),e=this.invTransX(b+1),f=-1,g=-(1/0),h=!1;d>e&&c.swap(d,e);for(var i=0,j=this.data.length;i<j;i++){var k=this.data[i];if(k.x.between(d,e))k.y>g&&(h=!0,g=k.y,f=i);else if(h)break}if(f!==-1){var k=this.data[f];return new a.point(k.x,100*k.y)}},d.peakCoordOpt=function(b){for(var c=this.invTransX(b),d=0,e=1/0,f=0,g=this.data.length;f<g;f++){var h=Math.abs(this.data[f].x-c);if(!(h<=e))break;e=h,d=f}for(var i=d,j=d,k=this.data[d].y,l=this.data[d].y,f=d+1,g=this.data.length;f<g&&this.data[f].y+.05>l;f++)l=this.data[f].y,j=f;for(var f=d-1;f>=0&&this.data[f].y+.05>k;f--)k=this.data[f].y,i=f;var m=this.data[i-d>j-d?j:i];return new a.point(m.x,100*m.y)}}(ipmd,ipmd.actor,ipmd.util),function(a,b){"use strict";b.shape=function(){};var c=b.shape.prototype;c.getBounds=function(){for(var b=new a.bounds,c=this.getPoints(),d=0,e=c.length;d<e;d++){var f=c[d];b.expand(f.x,f.y)}return b},c.drawFocus=function(a,b){if(this.hOver){for(var c=this.getPoints(),d=0,e=c.length;d<e;d++){var f=c[d];this.drawAnchor(a,b,f,f===this.hoverPoint)}this.drawSubAnchor(a,b)}},c.drawAnchor=function(a,b,c,d){var e=4,f=e/2;a.save(),a.translate(c.x,c.y),a.rotate(Math.PI/4),a.scale(1/b.SCALE,1/b.SCALE),a.beginPath(),a.moveTo(-e,-e),a.lineTo(e,-e),a.lineTo(e,e),a.lineTo(-e,e),a.closePath(),a.fillStyle=d?b.FOCUS_H_COLOR:b.PRMT_F_COLOR,a.fill(),a.beginPath(),a.moveTo(-e,-f),a.lineTo(-e,-e),a.lineTo(-f,-e),a.moveTo(f,-e),a.lineTo(e,-e),a.lineTo(e,-f),a.moveTo(e,f),a.lineTo(e,e),a.lineTo(f,e),a.moveTo(-f,e),a.lineTo(-e,e),a.lineTo(-e,f),a.moveTo(-e,-f),a.strokeStyle=b.PRMT_A_COLOR,a.lineWidth=b.PRMT_A_LINE_WIDTH,a.stroke(),a.strokeStyle=b.PRMT_AF_COLOR,a.lineWidth=b.PRMT_LINE_WIDTH,a.stroke(),a.restore()},c.drawSubAnchor=function(a,b,c,d){}}(ipmd,ipmd.actor.d2),function(a,b,c){"use strict";b.combine=function(b,c){this.p1=b?b:new a.point,this.p2=c?c:new a.point};var d=b.combine.prototype=new b.shape;d.charge=0,d.repeat=0,d.mult=0,d.getPoints=function(){return[this.p1,this.p2]},d.isOver=function(a,b){return a.x.between(this.p1.x,this.p2.x)&&a.y.between(this.p1.y,this.p2.y)},d.draw=function(a,b){var d=Math.min(this.p1.x,this.p2.x),e=Math.max(this.p1.x,this.p2.x),f=Math.min(this.p1.y,this.p2.y),g=Math.max(this.p1.y,this.p2.y),h=g-f,i=h/10;if(a.beginPath(),a.moveTo(d+i,f),a.lineTo(d,f),a.lineTo(d,g),a.lineTo(d+i,g),a.moveTo(e-i,g),a.lineTo(e,g),a.lineTo(e,f),a.lineTo(e-i,f),this.lassoed){var j=a.createLinearGradient(this.p1.x,this.p1.y,this.p2.x,this.p2.y);j.addColorStop(0,b.LASSO_GRADIENT),j.addColorStop(.5,b.LASSO_GRD_END),j.addColorStop(1,b.LASSO_GRADIENT),a.lineWidth=b.PRMT_LINE_WIDTH+5,a.strokeStyle=j,a.lineJoin="miter",a.lineCap="square",a.stroke()}if(a.strokeStyle=this.color||b.PRMT_COLOR,a.lineWidth=b.PRMT_LINE_WIDTH,a.lineJoin=b.PRMT_LINE_JOIN,a.lineCap=b.PRMT_LINE_CAP,a.stroke(),0!==this.charge){a.fillStyle=this.color||b.TEXT_COLOR,a.textAlign="left",a.textBaseline="middle",a.font=c.getFontDesc(b.TEXT_FONT_SIZE,b.TEXT_FONT_FAMILIES);var k=this.charge.toFixed(0);"1"===k?k="+":"-1"===k?k="–":k.startWith("-")?k=k.substring(1)+"–":k+="+",a.fillText(k,e+5,f+5)}if(0!==this.mult&&(a.fillStyle=this.color||b.TEXT_COLOR,a.textAlign="right",a.textBaseline="middle",a.font=c.getFontDesc(b.TEXT_FONT_SIZE,b.TEXT_FONT_FAMILIES),a.fillText(this.mult.toFixed(0),d-5,f+h/2)),0!==this.repeat){a.fillStyle=this.color||b.TEXT_COLOR,a.textAlign="left",a.textBaseline="middle",a.font=c.getFontDesc(b.TEXT_FONT_SIZE,b.TEXT_FONT_FAMILIES);var k=this.repeat.toFixed(0);a.fillText(k,e+5,g-5)}}}(ipmd,ipmd.actor.d2,ipmd.util),function(a,b,c){"use strict";b.line=function(b,d,e,f){this.p1=b?b:new a.point,this.p2=d?d:new a.point,this.arrowType=e?e:ARROW_TYPE.none,f&&c.initOption(this,f)};var d=b.line.prototype=new b.shape;d.altLabel=void 0,d.labBold=void 0,d.labItalic=void 0,d.labFamily=void 0,d.labSize=void 0,d.labColor=void 0,d.getPoints=function(){var b=[this.p1,this.p2];if(this.arrowType===ARROW_TYPE.arc||this.arrowType===ARROW_TYPE.dotarc){
var c=this.p1.angle(this.p2)+Math.PI/4,d=this.p1.distance(this.p2)/2/Math.cos(Math.PI/4);b.push(new a.point(this.p1.x+d*Math.cos(c),this.p1.y-d*Math.sin(c)))}return b},d.isOver=function(a,b){var d=c.distP2L(a,this.p1,this.p2);return d!==-1&&d<b},d.draw=function(a,b){var d=this.p1.angle(this.p2);if(this.lassoed&&this.arrowType!==ARROW_TYPE.text){var e=a.createLinearGradient(this.p1.x,this.p1.y,this.p2.x,this.p2.y),f=2.5,g=d+Math.PI/2,h=Math.cos(g),i=Math.sin(g),j=this.p1.x-h*f,k=this.p1.y+i*f,l=this.p1.x+h*f,m=this.p1.y-i*f,n=this.p2.x+h*f,o=this.p2.y-i*f,p=this.p2.x-h*f,q=this.p2.y+i*f;e.addColorStop(0,b.LASSO_GRADIENT),e.addColorStop(.5,b.LASSO_GRD_END),e.addColorStop(1,b.LASSO_GRADIENT),a.fillStyle=e,a.beginPath(),a.moveTo(j,k),a.lineTo(l,m),a.lineTo(n,o),a.lineTo(p,q),a.closePath(),a.fill()}if(a.strokeStyle=this.color||b.PRMT_COLOR,a.fillStyle=this.color||b.PRMT_COLOR,a.lineWidth=b.PRMT_LINE_WIDTH,a.lineJoin=b.PRMT_LINE_JOIN,a.lineCap=b.PRMT_LINE_CAP,this.p1.x!==this.p2.x||this.p1.y!==this.p2.y||this.arrowType===ARROW_TYPE.text){if(this.arrowType===ARROW_TYPE.retrosynthetic){var r=2*Math.sqrt(2),f=b.PRMT_ARROW_LENGTH/r,g=d+Math.PI/2,s=b.PRMT_ARROW_LENGTH/r,t=Math.cos(d),u=Math.sin(d),h=Math.cos(g),i=Math.sin(g),j=this.p1.x-h*f,k=this.p1.y+i*f,l=this.p1.x+h*f,m=this.p1.y-i*f,n=this.p2.x+h*f-t*s,o=this.p2.y-i*f+u*s,p=this.p2.x-h*f-t*s,q=this.p2.y+i*f+u*s,v=this.p2.x+h*f*2-t*s*2,w=this.p2.y-i*f*2+u*s*2,x=this.p2.x-h*f*2-t*s*2,y=this.p2.y+i*f*2+u*s*2;a.beginPath(),a.moveTo(l,m),a.lineTo(n,o),a.moveTo(v,w),a.lineTo(this.p2.x,this.p2.y),a.lineTo(x,y),a.moveTo(p,q),a.lineTo(j,k),a.stroke()}else if(this.arrowType===ARROW_TYPE.equilibrium){var r=2*Math.sqrt(2),f=b.PRMT_ARROW_LENGTH/r/2,g=d+Math.PI/2,s=2*b.PRMT_ARROW_LENGTH/Math.sqrt(3),t=Math.cos(d),u=Math.sin(d),h=Math.cos(g),i=Math.sin(g),j=this.p1.x-h*f,k=this.p1.y+i*f,l=this.p1.x+h*f,m=this.p1.y-i*f,n=this.p2.x+h*f,o=this.p2.y-i*f,p=this.p2.x-h*f,q=this.p2.y+i*f,z=n-t*s*.8,A=o+u*s*.8,v=n+h*b.PRMT_ARROW_LENGTH/3-t*s,w=o-i*b.PRMT_ARROW_LENGTH/3+u*s;a.beginPath(),a.moveTo(l,m),a.lineTo(n,o),a.moveTo(p,q),a.lineTo(j,k),a.stroke(),a.beginPath(),a.moveTo(n,o),a.lineTo(v,w),a.lineTo(z,A),a.closePath(),a.fill(),a.stroke(),z=j+t*s*.8,A=k-u*s*.8,v=j-h*b.PRMT_ARROW_LENGTH/3+t*s,w=k+i*b.PRMT_ARROW_LENGTH/3-u*s,a.beginPath(),a.moveTo(j,k),a.lineTo(v,w),a.lineTo(z,A),a.closePath(),a.fill(),a.stroke()}else if(this.arrowType===ARROW_TYPE.synthetic){var g=d+Math.PI/2,s=2*b.PRMT_ARROW_LENGTH/Math.sqrt(3),t=Math.cos(d),u=Math.sin(d),h=Math.cos(g),i=Math.sin(g),z=this.p2.x-t*s*.8,A=this.p2.y+u*s*.8,v=this.p2.x+h*b.PRMT_ARROW_LENGTH/3-t*s,w=this.p2.y-i*b.PRMT_ARROW_LENGTH/3+u*s,x=this.p2.x-h*b.PRMT_ARROW_LENGTH/3-t*s,y=this.p2.y+i*b.PRMT_ARROW_LENGTH/3+u*s;a.beginPath(),a.moveTo(this.p1.x,this.p1.y),a.lineTo(this.p2.x-t*s/2,this.p2.y+u*s/2),a.stroke(),a.beginPath(),a.moveTo(this.p2.x,this.p2.y),a.lineTo(x,y),a.lineTo(z,A),a.lineTo(v,w),a.closePath(),a.fill(),a.stroke()}else if(this.arrowType===ARROW_TYPE.resonance){var g=d+Math.PI/2,s=2*b.PRMT_ARROW_LENGTH/Math.sqrt(3),t=Math.cos(d),u=Math.sin(d),h=Math.cos(g),i=Math.sin(g),z=this.p2.x-t*s*.8,A=this.p2.y+u*s*.8,v=this.p2.x+h*b.PRMT_ARROW_LENGTH/3-t*s,w=this.p2.y-i*b.PRMT_ARROW_LENGTH/3+u*s,x=this.p2.x-h*b.PRMT_ARROW_LENGTH/3-t*s,y=this.p2.y+i*b.PRMT_ARROW_LENGTH/3+u*s;a.beginPath(),a.moveTo(this.p1.x+t*s/2,this.p1.y-u*s/2),a.lineTo(this.p2.x-t*s/2,this.p2.y+u*s/2),a.stroke(),a.beginPath(),a.moveTo(this.p2.x,this.p2.y),a.lineTo(x,y),a.lineTo(z,A),a.lineTo(v,w),a.closePath(),a.fill(),a.stroke(),z=this.p1.x+t*s*.8,A=this.p1.y-u*s*.8,v=this.p1.x-h*b.PRMT_ARROW_LENGTH/3+t*s,w=this.p1.y+i*b.PRMT_ARROW_LENGTH/3-u*s,x=this.p1.x+h*b.PRMT_ARROW_LENGTH/3+t*s,y=this.p1.y-i*b.PRMT_ARROW_LENGTH/3-u*s,a.beginPath(),a.moveTo(this.p1.x,this.p1.y),a.lineTo(x,y),a.lineTo(z,A),a.lineTo(v,w),a.closePath(),a.fill(),a.stroke()}else if(this.arrowType===ARROW_TYPE.arc||this.arrowType===ARROW_TYPE.dotarc){var B=this.p1.center(this.p2),C=this.p1.distance(this.p2),D=Math.PI-d;this.arrowType===ARROW_TYPE.arc?(a.beginPath(),a.arc(B.x,B.y,C/2,D,D+Math.PI,!1),a.stroke()):a.dashedArc(B.x,B.y,C/2,D,D+Math.PI,!1)}else a.beginPath(),a.moveTo(this.p1.x,this.p1.y),this.arrowType!==ARROW_TYPE.text&&(a.lineTo(this.p2.x,this.p2.y),a.stroke());var E=3,F=1;d.between(.5*Math.PI,1.5*Math.PI)&&(d=Math.PI-d,E*=-1,F*=-1);var G=this.p1.center(this.p2).rotate(F*d);if(this.altLabel){if(a.save(),a.font=c.getFontDesc(this.labSize||b.TEXT_FONT_SIZE,this.labFamily||b.TEXT_FONT_FAMILIES,this.labBold,this.labItalic),this.labColor&&(a.strokeStyle=this.labColor,a.fillStyle=this.labColor),a.textAlign="center",a.textBaseline=F>0?"top":"bottom",this.arrowType===ARROW_TYPE.text){a.textBaseline="middle",E=0;var H=a.measureText(this.altLabel).width+10,C=this.p1.distance(this.p2),g=d+Math.PI/2,h=Math.cos(d),i=Math.sin(d);C<H&&(this.p1.x-=(H-C)/2*h,this.p1.y-=(H-C)/2*i,this.p2.x+=(H-C)/2*h,this.p2.y+=(H-C)/2*i)}a.rotate(-F*d),a.fillText(this.altLabel,G.x,G.y+E),a.restore()}}},d.drawSubAnchor=function(a,b){if(this.arrowType===ARROW_TYPE.text){a.save();var c=this.p1.angle(this.p2),d=c+Math.PI/2,e=b.TEXT_FONT_SIZE/2,f=Math.cos(d),g=Math.sin(d),h=this.p1.x-f*e,i=this.p1.y+g*e,j=this.p1.x+f*e,k=this.p1.y-g*e,l=this.p2.x+f*e,m=this.p2.y-g*e,n=this.p2.x-f*e,o=this.p2.y+g*e;a.fillStyle=b.FOCUS_H_COLOR,a.beginPath(),a.moveTo(h,i),a.lineTo(j,k),a.lineTo(l,m),a.lineTo(n,o),a.closePath(),a.fill(),a.restore()}}}(ipmd,ipmd.actor.d2,ipmd.util),function(a,b,c,d){"use strict";function e(a){var c=[];if(a instanceof b.atom){if(0===a.bondCount)c.push(Math.PI);else if(a.angles){if(1===a.angles.length)c.push(a.angles[0]+Math.PI);else{for(var d=1,e=a.angles.length;d<e;d++)c.push(a.angles[d-1]+(a.angles[d]-a.angles[d-1])/2);var f=a.angles[0]+2*Math.PI,g=a.angles[a.angles.length-1];c.push(g+(f-g)/2)}if(a.largestAngle>Math.PI&&(c=[a.angleOpt]),a.bonds)for(var d=0,e=a.bonds.length;d<e;d++){var h=a.bonds[d];if(2===h.order){var i=h.brother(a);if("O"===i.label){c=[i.angle(a)];break}}}}}else{var j=a.a1.angle(a.a2);c.push(j+Math.PI/2),c.push(j+3*Math.PI/2)}for(var d=0,e=c.length;d<e;d++){for(;c[d]>2*Math.PI;)c[d]-=2*Math.PI;for(;c[d]<0;)c[d]+=2*Math.PI}return c}function f(c,d){var e=3;return c instanceof b.atom?(c.displayLabel(d)&&(e=8),0===c.charge&&0===c.radCount&&0===c.lpCount||(e=13)):c instanceof a.point?e=0:c.order>1&&(e=5),e}c.bezier=function(a,b,c){this.o1=a,this.o2=b,this.elecCount=c?parseInt(c):1};var g=c.bezier.prototype=new c.shape;g.getPoints=function(){return[]},g.isOver=function(a,b){for(var c=0,d=this.caches.length;c<d;c++){var e=jsBezier.distanceFromCurve(a,this.caches[c]);if(e.distance<b)return!0}return!1},g.draw=function(c,f){if(this.o1&&this.o2){var g,h,i=this.o1 instanceof b.atom?new a.point(this.o1.x,this.o1.y):this.o1.getCenter(),j=this.o2 instanceof b.atom?new a.point(this.o2.x,this.o2.y):this.o2.getCenter(),k=35,l=e(this.o1),m=e(this.o2),n=1/0;c.strokeStyle=this.color||f.PRMT_COLOR,c.fillStyle=this.color||f.PRMT_COLOR,c.lineWidth=f.PRMT_LINE_WIDTH,c.lineJoin=f.PRMT_LINE_JOIN,c.lineCap=f.PRMT_LINE_CAP;for(var o=0,p=l.length;o<p;o++)for(var q=0,r=m.length;q<r;q++){var s=new a.point(i.x+k*Math.cos(l[o]),i.y-k*Math.sin(l[o])),t=new a.point(j.x+k*Math.cos(m[q]),j.y-k*Math.sin(m[q])),u=s.distance(t);u<n&&(n=u,g=s,h=t)}if(this.caches=[],this.elecCount===-1){var v=i.distance(j)/2,w=i.angle(j),x=w+Math.PI/2,y=Math.cos(w),z=Math.sin(w),A=new a.point(i.x+(v-1)*y,i.y-(v-1)*z),B=new a.point(A.x+Math.cos(x+Math.PI/6)*k,A.y-Math.sin(x+Math.PI/6)*k),C=new a.point(i.x+(v+1)*y,i.y-(v+1)*z),D=new a.point(C.x+Math.cos(x-Math.PI/6)*k,C.y-Math.sin(x-Math.PI/6)*k);this.drawCurve(c,f,this.o1,A,i,g,B,A,1,this.caches),this.drawCurve(c,f,this.o2,C,j,h,D,C,1,this.caches)}else{d.crossPoint(i.x,i.y,g.x,g.y,j.x,j.y,h.x,h.y)&&d.swap(g,h);var E=g.angle(i),F=h.angle(j),G=Math.max(E,F)-Math.min(E,F);Math.abs(G-Math.PI)<.001&&this.o1.molCenter===this.o2.molCenter&&(E+=Math.PI/2,F-=Math.PI/2,g.x=i.x+k*Math.cos(E+Math.PI),g.y=i.y-k*Math.sin(E+Math.PI),h.x=j.x+k*Math.cos(F+Math.PI),h.y=j.y-k*Math.sin(F+Math.PI)),this.drawCurve(c,f,this.o1,this.o2,i,g,h,j,this.elecCount,this.caches)}}},g.drawFocus=function(c,d){if(this.hOver)for(var e=this.o1 instanceof b.atom?new a.point(this.o1.x,this.o1.y):this.o1.getCenter(),f=this.o2 instanceof b.atom?new a.point(this.o2.x,this.o2.y):this.o2.getCenter(),g=[e,f],h=0,i=g.length;h<i;h++){var j=g[h];this.drawAnchor(c,d,j,j===this.hoverPoint)}},g.drawCurve=function(b,c,d,e,g,h,i,j,k,l){var m=h.angle(g),n=i.angle(j),o=Math.cos(m),p=Math.sin(m),q=f(d,c);g.x-=o*q,g.y+=p*q;var r=n+Math.PI/2,s=2*c.PRMT_ARROW_LENGTH/Math.sqrt(3),o=Math.cos(n),p=Math.sin(n),t=Math.cos(r),u=Math.sin(r);j.x-=5*o,j.y+=5*p;var v=new a.point(j.x,j.y);q=f(e,c)/3,v.x-=o*q,v.y+=p*q,j.x-=o*(.8*s+q),j.y+=p*(.8*s+q);var w=v.x-o*s*.8,x=v.y+p*s*.8,y=new a.point(v.x+t*c.PRMT_ARROW_LENGTH/3-o*s,v.y-u*c.PRMT_ARROW_LENGTH/3+p*s),z=new a.point(v.x-t*c.PRMT_ARROW_LENGTH/3-o*s,v.y+u*c.PRMT_ARROW_LENGTH/3+p*s),A=!0,B=!0;1===k&&(y.distance(h)>z.distance(h)?B=!1:A=!1),b.beginPath(),b.moveTo(v.x,v.y),B&&b.lineTo(z.x,z.y),b.lineTo(w,x),A&&b.lineTo(y.x,y.y),b.closePath(),b.fill(),b.stroke(),b.beginPath(),b.moveTo(g.x,g.y),b.bezierCurveTo(h.x,h.y,i.x,i.y,j.x,j.y),b.stroke(),l.push([g,h,i,j])}}(ipmd,ipmd.actor,ipmd.actor.d2,ipmd.util),function(a){"use strict";a.mesh=function(){};var b=a.mesh.prototype;b.storeData=function(a,b,c){this.positionData=a,this.normalData=b,this.indexData=c},b.setupBuffers=function(a){if(this.vertexPositionBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vertexPositionBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.positionData),a.STATIC_DRAW),this.vertexPositionBuffer.itemSize=3,this.vertexPositionBuffer.numItems=this.positionData.length/3,this.vertexNormalBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vertexNormalBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.normalData),a.STATIC_DRAW),this.vertexNormalBuffer.itemSize=3,this.vertexNormalBuffer.numItems=this.normalData.length/3,this.indexData&&(this.vertexIndexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indexData),a.STATIC_DRAW),this.vertexIndexBuffer.itemSize=1,this.vertexIndexBuffer.numItems=this.indexData.length),this.partitions)for(var b=0,c=this.partitions.length;b<c;b++){var d=this.partitions[b],e=this.generateBuffers(a,d.positionData,d.normalData,d.indexData);d.vertexPositionBuffer=e[0],d.vertexNormalBuffer=e[1],d.vertexIndexBuffer=e[2]}},b.generateBuffers=function(a,b,c,d){var e=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW),e.itemSize=3,e.numItems=b.length/3;var f=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,f),a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW),f.itemSize=3,f.numItems=c.length/3;var g;return d&&(g=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,g),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),a.STATIC_DRAW),g.itemSize=1,g.numItems=d.length),[e,f,g]},b.bindBuffers=function(a){this.vertexPositionBuffer||this.setupBuffers(a),a.bindBuffer(a.ARRAY_BUFFER,this.vertexPositionBuffer),a.vertexAttribPointer(a.shader.vertexPositionAttribute,this.vertexPositionBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.vertexNormalBuffer),a.vertexAttribPointer(a.shader.vertexNormalAttribute,this.vertexNormalBuffer.itemSize,a.FLOAT,!1,0,0),this.vertexIndexBuffer&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer)}}(ipmd.actor.d3),function(a){"use strict";a.measure=function(){};var b=a.measure.prototype=new a.mesh;b.render=function(a,b){if(a.setMatrixUniforms(a.modelViewMatrix),b.MEASURE_UPDATE&&(this.vertexPositionBuffer=void 0,this.text=void 0),this.vertexPositionBuffer||this.calData(b),this.bindBuffers(a),a.material.setDiffuseColor(b.PRMT_COLOR),a.lineWidth(b.PRMT_LINE_WIDTH),a.drawElements(a.LINES,this.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0),b.MEASURE_DISPLAY_TEXT){this.text||(this.text=this.getText());var c={position:[],texCoord:[],translation:[]};a.textImage.pushVertexData(this.text.value,this.text.pos,1,c),a.textMesh.storeData(a,c.position,c.texCoord,c.translation),a.enable(a.BLEND),a.depthMask(!1),a.enableVertexAttribArray(a.shader.vertexTexCoordAttribute),a.textImage.useTexture(a),a.textMesh.render(a),a.disableVertexAttribArray(a.shader.vertexTexCoordAttribute),a.disable(a.BLEND),a.depthMask(!0)}}}(ipmd.actor.d3),function(a,b){"use strict";a.angle=function(a,b,c){this.a1=a,this.a2=b,this.a3=c};var c=a.angle.prototype=new a.measure;c.calData=function(a){var c=[],d=[],e=[],f=this.a2.distance3D(this.a1),g=this.a2.distance3D(this.a3);this.distUse=Math.min(f,g)/2,this.v1=vec3.normalize([this.a1.x-this.a2.x,this.a1.y-this.a2.y,this.a1.z-this.a2.z]),this.v2=vec3.normalize([this.a3.x-this.a2.x,this.a3.y-this.a2.y,this.a3.z-this.a2.z]),this.angle=b.angleV2V(this.v1,this.v2);for(var h=vec3.normalize(vec3.cross(this.v1,this.v2,[])),i=vec3.normalize(vec3.cross(h,this.v1,[])),j=a.MEASURE_ANGLE_BANDS,k=0;k<=j;++k){var l=this.angle*k/j,m=vec3.scale(this.v1,Math.cos(l),[]),n=vec3.scale(i,Math.sin(l),[]),o=vec3.scale(vec3.normalize(vec3.add(m,n,[])),this.distUse);c.push(this.a2.x+o[0],this.a2.y+o[1],this.a2.z+o[2]),d.push(0,0,0),k<j&&e.push(k,k+1)}this.storeData(c,d,e)},c.getText=function(){var a=vec3.scale(vec3.normalize(vec3.add(this.v1,this.v2,[])),this.distUse+.3);return{pos:[this.a2.x+a[0],this.a2.y+a[1],this.a2.z+a[2]],value:[b.angleBounds(this.angle,!0).toFixed(2)," °"].join("")}}}(ipmd.actor.d3,ipmd.util),function(a){"use strict";a.arrow=function(a,b){for(var c=[],d=[],e=0;e<=b;e++){var f=2*e*Math.PI/b,g=Math.sin(f),h=Math.cos(f),i=h,j=g;d.push(0,0,-1,0,0,-1,i,j,0,i,j,0,0,0,-1,0,0,-1,i,j,1,i,j,1),c.push(0,0,0,a*i,a*j,0,a*i,a*j,0,a*i,a*j,2,a*i,a*j,2,a*i*2,a*j*2,2,a*i*2,a*j*2,2,0,0,3)}for(var k=[],l=0;l<b;l++)for(var m=8*l,n=0,o=7;n<o;n++){var p=n+m,q=p+1,r=p+o+2,s=r-1;k.push(p,r,q,r,p,s)}this.storeData(c,d,k)},a.arrow.prototype=new a.mesh}(ipmd.actor.d3),function(a){"use strict";a.box=function(a,b,c){a/=2,c/=2;var d=[],e=[];d.push(a,b,-c),d.push(a,b,-c),d.push(-a,b,-c),d.push(a,b,c),d.push(-a,b,c),d.push(-a,b,c);for(var f=6;f--;e.push(0,1,0));d.push(-a,b,c),d.push(-a,b,c),d.push(-a,0,c),d.push(a,b,c),d.push(a,0,c),d.push(a,0,c);for(var f=6;f--;e.push(0,0,1));d.push(a,b,c),d.push(a,b,c),d.push(a,0,c),d.push(a,b,-c),d.push(a,0,-c),d.push(a,0,-c);for(var f=6;f--;e.push(1,0,0));d.push(a,b,-c),d.push(a,b,-c),d.push(a,0,-c),d.push(-a,b,-c),d.push(-a,0,-c),d.push(-a,0,-c);for(var f=6;f--;e.push(0,0,-1));d.push(-a,b,-c),d.push(-a,b,-c),d.push(-a,0,-c),d.push(-a,b,c),d.push(-a,0,c),d.push(-a,0,c);for(var f=6;f--;e.push(-1,0,0));d.push(-a,0,c),d.push(-a,0,c),d.push(-a,0,-c),d.push(a,0,c),d.push(a,0,-c),d.push(a,0,-c);for(var f=6;f--;e.push(0,-1,0));this.storeData(d,e)},a.box.prototype=new a.mesh}(ipmd.actor.d3),function(a){"use strict";function b(a,b,c,d){a.material.setDiffuseColor(c),a.setMatrixUniforms(d),1===b?a.drawArrays(a.LINES,0,a.lineArrowBuffer.vertexPositionBuffer.numItems):a.drawElements(a.TRIANGLES,a.arrowBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}a.lineArrow=function(){var a=2.8,b=.1;this.storeData([0,0,-3,b,0,-a,0,0,-3,-b,0,-a,0,0,-3,0,0,3,0,0,3,b,0,a,0,0,3,-b,0,a],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},a.lineArrow.prototype=new a.mesh,a.compass=function(b,c){this.textImage=new a.textImage,this.textImage.init(b),this.textImage.updateFont(b,c.TEXT_FONT_SIZE,c.TEXT_FONT_FAMILIES,c.TEXT_FONT_BOLD,c.TEXT_FONT_ITALIC,c.TEXT_FONT_STROKE),this.textMesh=new a.textMesh,this.textMesh.init(b);var d,e,f=c.COMPASS_SIZE/b.canvas.clientHeight,g=3/f,h=Math.tan(c.PRJ_PERSPECTIVE_ANGLE/360*Math.PI),i=g/h,j=Math.max(i-g,.1),k=i+g,l=b.canvas.clientWidth/b.canvas.clientHeight;c.PRJ_PERSPECTIVE?(e=j,d=mat4.frustum):(e=i,d=mat4.ortho);var m=e/b.canvas.clientHeight*2*h,n=h*e,o=-n,p=l*o,q=l*n;if(0===c.COMPASS_TYPE){var r=-(b.canvas.clientWidth-c.COMPASS_SIZE)/2+this.textImage.charHeight,s=-(b.canvas.clientHeight-c.COMPASS_SIZE)/2+this.textImage.charHeight,t=r*m,u=s*m;p-=t,q-=t,o-=u,n-=u}this.projectionMatrix=d(p,q,o,n,j,k),this.translationMatrix=mat4.translate(mat4.identity([]),[0,0,-i]);var v={position:[],texCoord:[],translation:[]},w=3.5;this.textImage.pushVertexData("X",[w,0,0],0,v),this.textImage.pushVertexData("Y",[0,w,0],0,v),this.textImage.pushVertexData("Z",[0,0,w],0,v),this.textMesh.storeData(b,v.position,v.texCoord,v.translation)};var c=a.compass.prototype;c.render=function(a,c){1===c.COMPASS_TYPE?a.lineArrowBuffer.bindBuffers(a):a.arrowBuffer.bindBuffers(a),a.material.setTempColors(c.BOND_MATER_AMB_COLOR,void 0,c.BOND_MATER_SPE_COLOR,c.BOND_MATER_SHINY);var d=mat4.multiply(this.translationMatrix,a.rotationMatrix,[]),e=Math.PI/2;a.fogging.setMode(0),b(a,c.COMPASS_TYPE,c.COMPASS_X_COLOR,mat4.rotateY(d,e,[])),b(a,c.COMPASS_TYPE,c.COMPASS_Y_COLOR,mat4.rotateX(d,-e,[])),b(a,c.COMPASS_TYPE,c.COMPASS_Z_COLOR,d)},c.renderAxis=function(a){var b=mat4.multiply(this.translationMatrix,a.rotationMatrix,[]);a.setMatrixUniforms(b),this.textImage.useTexture(a),this.textMesh.render(a)}}(ipmd.actor.d3),function(a){"use strict";a.cylinder=function(a,b,c,d){var e=[],f=[];if(d){for(var g=0;g<=c;g++){var h=g%c*2*Math.PI/c,i=Math.cos(h),j=Math.sin(h);f.push(0,-1,0),e.push(0,0,0),f.push(0,-1,0),e.push(a*i,0,a*j)}for(var g=0;g<=c;g++){var h=g%c*2*Math.PI/c,i=Math.cos(h),j=Math.sin(h);f.push(i,0,j),e.push(a*i,0,a*j),f.push(i,0,j),e.push(a*i,b,a*j)}for(var g=0;g<=c;g++){var h=g%c*2*Math.PI/c,i=Math.cos(h),j=Math.sin(h);f.push(0,1,0),e.push(a*i,b,a*j),f.push(0,1,0),e.push(0,b,0)}}else{for(var g=0;g<c;g++){var h=2*g*Math.PI/c,i=Math.cos(h),j=Math.sin(h);f.push(i,0,j),e.push(a*i,0,a*j),f.push(i,0,j),e.push(a*i,b,a*j)}f.push(1,0,0),e.push(a,0,0),f.push(1,0,0),e.push(a,b,0)}this.storeData(e,f)},a.cylinder.prototype=new a.mesh}(ipmd.actor.d3),function(a,b,c){"use strict";a.distance=function(a,b,c,d){this.a1=a,this.a2=b,this.node=c,this.offset=d?d:0};var d=a.distance.prototype=new a.measure;d.calData=function(a){var b=[this.a1.x,this.a1.y,this.a1.z,this.a2.x,this.a2.y,this.a2.z],d=[0,0,0,0,0,0],e=[0,1];if(this.node){var f=a.ATOM_USE_VDW_DIA?c[this.a1.label].vdWRadius*a.ATOM_VDW_MUL:a.ATOM_SPHERE_DIA/2,g=a.ATOM_USE_VDW_DIA?c[this.a2.label].vdWRadius*a.ATOM_VDW_MUL:a.ATOM_SPHERE_DIA/2,h=[(this.a1.x+this.a2.x)/2,(this.a1.y+this.a2.y)/2,(this.a1.z+this.a2.z)/2];this.move=this.offset+Math.max(f,g),this.displace=[h[0]-this.node.x,h[1]-this.node.y,h[2]-this.node.z],vec3.normalize(this.displace);var i=vec3.scale(this.displace,this.move,[]);b[0]+=i[0],b[1]+=i[1],b[2]+=i[2],b[3]+=i[0],b[4]+=i[1],b[5]+=i[2]}this.storeData(b,d,e)},d.getText=function(){var a=this.a1.distance3D(this.a2),b=[(this.a1.x+this.a2.x)/2,(this.a1.y+this.a2.y)/2,(this.a1.z+this.a2.z)/2];if(this.node){var c=vec3.scale(this.displace,this.move+.1,[]);b[0]+=c[0],b[1]+=c[1],b[2]+=c[2]}return{pos:b,value:[a.toFixed(2)," Å"].join("")}}}(ipmd.actor.d3,ipmd.util,ipmd.Elements),function(a,b){"use strict";a.fog=function(a){this.gl=a;var b="u_fog_";this.mUL=a.getUniformLocation(a.program,b+"mode"),this.cUL=a.getUniformLocation(a.program,b+"color"),this.sUL=a.getUniformLocation(a.program,b+"start"),this.eUL=a.getUniformLocation(a.program,b+"end"),this.dUL=a.getUniformLocation(a.program,b+"density")};var c=a.fog.prototype;c.setGL=function(a,c,d,e){if(!this.cCache||this.cCache!==a){this.cCache=a;var f=b.getRGB(a,1);this.gl.uniform3f(this.cUL,f[0],f[1],f[2])}this.sCache&&this.sCache===c||(this.sCache=c,this.gl.uniform1f(this.sUL,c)),this.eCache&&this.eCache===d||(this.eCache=d,this.gl.uniform1f(this.eUL,d)),this.dCache&&this.dCache===e||(this.dCache=e,this.gl.uniform1f(this.dUL,e))},c.setMode=function(a){this.mCache&&this.mCache===a||(this.mCache=a,this.gl.uniform1i(this.mUL,a))}}(ipmd.actor.d3,ipmd.util),function(a,b){a.label=function(){this.textImage=new a.textImage};var c=a.label.prototype;c.init=function(a,b){this.textImage.init(a),this.textImage.updateFont(a,b.ATOM_FONT_SIZE,b.TEXT_FONT_FAMILIES,b.ATOM_FONT_BOLD,b.ATOM_FONT_ITALIC,b.TEXT_FONT_STROKE)},c.updateVBuffer=function(a,c,d){for(var e=0,f=c.length;e<f;e++){for(var g=c[e],h=g.labelMesh,i=g.atoms,j=i.length>0&&void 0!=i[0].hetatm,k=this.textImage,l={position:[],texCoord:[],translation:[]},m=0,n=i.length;m<n;m++){var o=i[m],p=o.label,q=.05;if(d.ATOM_USE_VDW_DIA){var r=b[p].vdWRadius*d.ATOM_VDW_MUL;0===r&&(r=1),q+=r}else d.ATOM_SPHERE_DIA&&(q+=d.ATOM_SPHERE_DIA/2*1.5);if(j)if(o.hetatm){if(o.isWater&&!d.MACRO_SHOW_WATERs)continue}else if(!d.MACRO_DISPLAY_ATOMS)continue;k.pushVertexData(o.altLabel?o.altLabel:o.label,[o.x,o.y,o.z],q,l)}var s=g.chains;if(s&&(d.PRO_DISPLAY_RIBBON||d.PRO_DISPLAY_BACKBONE))for(var m=0,n=s.length;m<n;m++)for(var t=s[m],u=0,v=t.length;u<v;u++){var w=t[u];if(w.name){var o=w.cp1;k.pushVertexData(w.name,[o.x,o.y,o.z],2,l)}}h.storeData(a,l.position,l.texCoord,l.translation,l.zDepth)}},c.render=function(a,b,c){a.setMatrixUniforms(a.modelViewMatrix),this.textImage.useTexture(a);for(var d=0,e=c.length;d<e;d++)c[d].labelMesh&&c[d].labelMesh.render(a)}}(ipmd.actor.d3,ipmd.Elements),function(a){"use strict";a.sphere=function(a,b,c){for(var d=[],e=[],f=0;f<=b;f++)for(var g=f*Math.PI/b,h=Math.sin(g),i=Math.cos(g),j=0;j<=c;j++){var k=2*j*Math.PI/c,l=Math.sin(k),m=Math.cos(k),n=m*h,o=i,p=l*h;e.push(n,o,p),d.push(a*n,a*o,a*p)}var q=[];c+=1;for(var f=0;f<b;f++)for(var j=0;j<c;j++){var r=f*c+j%c,s=r+c;q.push(r,r+1,s),j<c-1&&q.push(s,r+1,s+1)}this.storeData(d,e,q)},a.sphere.prototype=new a.mesh}(ipmd.actor.d3),function(a,b){"use strict";function c(a,b){a.bindBuffer(a.ARRAY_BUFFER,b.vertexPositionBuffer),a.vertexAttribPointer(a.shader.vertexPositionAttribute,b.vertexPositionBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,b.vertexNormalBuffer),a.vertexAttribPointer(a.shader.vertexNormalAttribute,b.vertexNormalBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.vertexIndexBuffer)}function d(a,c){var d=b[a],e=c.PRO_NORMAL_COLOR;return"shapely"===c.PRO_RESIDUE_COLOR?e=d.shapelyColor:"amino"===c.PRO_RESIDUE_COLOR?e=d.aminoColor:"polarity"===c.PRO_RESIDUE_COLOR&&d.polar?e=c.PRO_POLAR_COLOR:"acidity"===c.PRO_RESIDUE_COLOR&&(1===d.acidity?e=c.PRO_ACIDITY_COLOR:d.acidity===-1?e=c.PRO_ALKALINE_COLOR:d.polar||(e=c.PRO_NEUTRAL_COLOR)),e}function e(a,c){return c.MACRO_COLOR_CHAIN?a.entire.chainColor:a.name?d(b[a.name]?a.name:"*",c):a.helix?a.entire.front?c.PRO_RIBBON_PRIMARY_COLOR:c.PRO_RIBBON_SECONDARY_COLOR:a.sheet?c.PRO_RIBBON_SHEET_COLOR:a.entire.front?c.PRO_PRIMARY_COLOR:c.PRO_SECONDARY_COLOR}function f(a,b,c,d){this.entire=a,this.name=b,this.indexes=c,this.pi=d}var g=f.prototype;g.render=function(a,b,d){this.entire.partitions&&this.pi!==this.entire.partitions.lastRender&&(c(a,this.entire.partitions[this.pi]),this.entire.partitions.lastRender=this.pi),this.vertexIndexBuffer||(this.vertexIndexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indexes),a.STATIC_DRAW),this.vertexIndexBuffer.itemSize=1,this.vertexIndexBuffer.numItems=this.indexes.length),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer),d||"grd"===b.PRO_RESIDUE_COLOR||a.material.setDiffuseColor(e(this,b)),a.drawElements(a.TRIANGLES,this.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)},a.ribbon=function(a,b,c){var d,e=a[0].lineSegments.length,g=a[0].lineSegments[0].length;this.partitions=[],this.partitions.lastRender=0,this.front=b>0;for(var h=0,i=a.length;h<i;h++){(!d||d.positionData.length>65e3)&&(this.partitions.length>0&&h--,d={count:0,positionData:[],normalData:[]},this.partitions.push(d));var j=a[h];d.count++;for(var k=0;k<e;k++)for(var l=c?j.lineSegmentsCartoon[k]:j.lineSegments[k],m=0===k,n=!1,o=0;o<g;o++){var p=l[o],q=h,r=o+1;h===a.length-1&&o===g-1?r--:o===g-1&&(q++,r=0);var s=c?a[q].lineSegmentsCartoon[k][r]:a[q].lineSegments[k][r],t=!1,u=k+1;k===e-1&&(u-=2,t=!0);var v=c?j.lineSegmentsCartoon[u][o]:j.lineSegments[u][o],w=[s.x-p.x,s.y-p.y,s.z-p.z],x=[v.x-p.x,v.y-p.y,v.z-p.z],y=vec3.cross(w,x,[]);0===o&&(vec3.normalize(w),vec3.scale(w,-1),d.normalData.push(w[0],w[1],w[2]),d.positionData.push(p.x,p.y,p.z)),m||n?(vec3.normalize(x),vec3.scale(x,-1),d.normalData.push(x[0],x[1],x[2]),d.positionData.push(p.x,p.y,p.z),m&&o===g-1&&(m=!1,o=-1)):(vec3.normalize(y),(t&&!this.front||!t&&this.front)&&vec3.scale(y,-1),d.normalData.push(y[0],y[1],y[2]),vec3.scale(y,Math.abs(b)),d.positionData.push(p.x+y[0],p.y+y[1],p.z+y[2]),k===e-1&&o===g-1&&(n=!0,o=-1)),o!==-1&&o!==g-1||(vec3.normalize(w),d.normalData.push(w[0],w[1],w[2]),d.positionData.push(p.x,p.y,p.z))}}e+=2,g+=2,this.segments=[],this.partiSegs=[];for(var z=0,A=this.partitions.length;z<A;z++){for(var d=this.partitions[z],B=[],h=0,i=d.count-1;h<i;h++){for(var C=h,k=0;k<z;k++)C+=this.partitions[k].count-1;for(var D=a[C],E=h*e*g,F=[],k=0,G=e-1;k<G;k++)for(var H=E+k*g,o=0;o<g;o++){var I=1;h===i?I=0:o===g-1&&(I=e*g-o);var J=[H+o,H+g+o,H+g+o+I,H+o,H+o+I,H+g+o+I];if(o!==g-1&&(this.front?F.push(J[0],J[1],J[2],J[3],J[5],J[4]):F.push(J[0],J[2],J[1],J[3],J[4],J[5])),o===g-2&&h<i){var K=e*g-o;J[2]+=K,J[4]+=K,J[5]+=K}this.front?B.push(J[0],J[1],J[2],J[3],J[5],J[4]):B.push(J[0],J[2],J[1],J[3],J[4],J[5])}if(c&&D.split){var L=new f(this,(void 0),B,z);L.helix=D.helix,L.sheet=D.sheet,this.partiSegs.push(L),B=[]}this.segments.push(new f(this,D.name,F,z))}var L=new f(this,(void 0),B,z);L.helix=D.helix,L.sheet=D.sheet,this.partiSegs.push(L)}this.storeData(this.partitions[0].positionData,this.partitions[0].normalData),1===this.partitions.length&&(this.partitions=void 0)};var g=a.ribbon.prototype=new a.mesh;g.render=function(a,b){this.bindBuffers(a);var c=b.MACRO_COLOR_CHAIN?this.chainColor:void 0;c||(c=this.front?b.PRO_PRIMARY_COLOR:b.PRO_SECONDARY_COLOR),a.material.setDiffuseColor(c);for(var d=0,e=this.partiSegs.length;d<e;d++)this.partiSegs[d].render(a,b,!b.PRO_RIBBON_PAINT)}}(ipmd.actor.d3,ipmd.Residues),function(a,b){"use strict";a.light=function(a,c,d){this.diffuseRGB=b.getRGB(a,1),this.specularRGB=b.getRGB(c,1),this.direction=d};var c=a.light.prototype;c.lightScene=function(a){var b="u_light_";a.uniform3f(a.getUniformLocation(a.program,b+"diffuse_color"),this.diffuseRGB[0],this.diffuseRGB[1],this.diffuseRGB[2]),a.uniform3f(a.getUniformLocation(a.program,b+"specular_color"),this.specularRGB[0],this.specularRGB[1],this.specularRGB[2]);var c=vec3.create(this.direction);vec3.normalize(c),vec3.negate(c),a.uniform3f(a.getUniformLocation(a.program,b+"direction"),c[0],c[1],c[2]);var d=[0,0,0],e=[d[0]+c[0],d[1]+c[1],d[2]+c[2]],f=vec3.length(e);0===f?e=[0,0,1]:vec3.scale(e,1/f),a.uniform3f(a.getUniformLocation(a.program,b+"half_vector"),e[0],e[1],e[2])}}(ipmd.actor.d3,ipmd.util),function(a){"use strict";a.line=function(){this.storeData([0,0,0,0,1,0],[0,0,0,0,0,0])},a.line.prototype=new a.mesh}(ipmd.actor.d3),function(a,b){"use strict";a.material=function(a){this.gl=a;var b="u_material_";this.aUL=a.getUniformLocation(a.program,b+"ambient_color"),this.dUL=a.getUniformLocation(a.program,b+"diffuse_color"),this.sUL=a.getUniformLocation(a.program,b+"specular_color"),this.snUL=a.getUniformLocation(a.program,b+"shininess"),this.alUL=a.getUniformLocation(a.program,b+"alpha")};var c=a.material.prototype;c.setTempColors=function(a,c,d,e){if(!this.aCache||this.aCache!==a){this.aCache=a;var f=b.getRGB(a,1);this.gl.uniform3f(this.aUL,f[0],f[1],f[2])}if(c&&(!this.dCache||this.dCache!==c)){this.dCache=c;var f=b.getRGB(c,1);this.gl.uniform3f(this.dUL,f[0],f[1],f[2])}if(!this.sCache||this.sCache!==d){this.sCache=d;var f=b.getRGB(d,1);this.gl.uniform3f(this.sUL,f[0],f[1],f[2])}this.snCache&&this.snCache===e||(this.snCache=e,this.gl.uniform1f(this.snUL,e)),this.alCache=1,this.gl.uniform1f(this.alUL,1)},c.setDiffuseColor=function(a){if(!this.dCache||this.dCache!==a){this.dCache=a;var c=b.getRGB(a,1);this.gl.uniform3f(this.dUL,c[0],c[1],c[2])}},c.setAlpha=function(a){this.alCache&&this.alCache===a||(this.alCache=a,this.gl.uniform1f(this.alUL,a))}}(ipmd.actor.d3,ipmd.util),function(a,b){"use strict";a.picker=function(){};var c=a.picker.prototype;c.init=function(a){this.framebuffer=a.createFramebuffer();var b=a.createTexture(),c=a.createRenderbuffer();a.bindTexture(a.TEXTURE_2D,b),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.bindRenderbuffer(a.RENDERBUFFER,c),a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,c),a.bindTexture(a.TEXTURE_2D,null),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,null)},c.setDimension=function(a,b,c){a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);var d=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a.isRenderbuffer(d)&&(a.bindRenderbuffer(a.RENDERBUFFER,d),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,b,c),a.bindRenderbuffer(a.RENDERBUFFER,null));var e=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a.isTexture(e)&&(a.bindTexture(a.TEXTURE_2D,e),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),a.bindTexture(a.TEXTURE_2D,null)),a.bindFramebuffer(a.FRAMEBUFFER,null)},c.pick=function(a,b,c,d,e,f,g){var h=void 0,i=[],j=new Uint8Array(4),k=j[3],l=a.getParameter(a.COLOR_CLEAR_VALUE);a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer),a.clearColor(1,1,1,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.fogging.setMode(0),a.disableVertexAttribArray(a.shader.vertexNormalAttribute),a.material.setAlpha(255);for(var m=0,n=b.length;m<n;m++)b[m].renderPick(a,c,i,f,g);if(a.flush(),a.readPixels(d-2,e+2,1,1,a.RGBA,a.UNSIGNED_BYTE,j),k>0){var o=j[2]|j[1]<<8|j[0]<<16;h=i[o]}return i=void 0,a.enableVertexAttribArray(a.shader.vertexNormalAttribute),a.fogging.setMode(c.FOG_MODE),a.bindFramebuffer(a.FRAMEBUFFER,null),a.clearColor(l[0],l[1],l[2],l[3]),h}}(ipmd.actor.d3,ipmd.util),function(a){"use strict";a.pill=function(a,b,c,d){var e=1,f=2*a,g=[],h=[],i=[];b-=f,b<0?(e=0,b+=f):b<f&&(e=b/f,b=f);for(var j=0;j<=c;j++)for(var k=j*Math.PI/c,l=Math.sin(k),m=Math.cos(k)*e,n=0;n<=d;n++){var o=2*n*Math.PI/d,p=Math.sin(o),q=Math.cos(o),r=q*l,s=m,t=p*l;h.push(r,s,t),g.push(a*r,a*s+(j<c/2?b:0),a*t)}d+=1;for(var j=0;j<c;j++)for(var n=0;n<d;n++){var u=j*d+n%d,v=u+d;i.push(u,u+1,v),n<d-1&&i.push(v,u+1,v+1)}this.storeData(g,h,i)},a.pill.prototype=new a.mesh}(ipmd.actor.d3),function(a,b,c){"use strict";function d(b,c,d){var e=new a.residue((-1));return e.cp1=e.cp2=new a.atom("",b,c,d),e}function e(a,b){this.a1=a,this.a2=b}function f(a,b,c){this.a1=a,this.a2=b,this.vx=c}var g=e.prototype;g.render=function(a,b){var d,e=this.a1,f=this.a2,g=1.001*e.distance3D(f),h=b.PRO_HELIX_DIA/2,i=[h,g,h],j=mat4.translate(a.modelViewMatrix,[e.x,e.y,e.z],[]),k=[0,1,0],l=0;if(e.x===f.x&&e.z===f.z)d=[0,0,1],f.y<e.y&&(l=Math.PI);else{var m=[f.x-e.x,f.y-e.y,f.z-e.z];l=c.angleV2V(k,m),d=vec3.cross(k,m,[])}0!==l&&mat4.rotate(j,l,d),mat4.scale(j,i),a.setMatrixUniforms(j),a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderClosedBuffer.vertexPositionBuffer.numItems)};var g=f.prototype;g.render=function(a,b){this.theme&&(b=this.theme);var c=1.001*this.a1.distance3D(this.a2),d=[this.a2.x-this.a1.x,this.a2.y-this.a1.y,this.a2.z-this.a1.z],e=vec3.cross(d,this.vx,[]),f=vec3.cross(e,d,[]);vec3.normalize(f),vec3.normalize(d),vec3.normalize(e);var g=[f[0],f[1],f[2],0,d[0],d[1],d[2],0,e[0],e[1],e[2],0,this.a1.x,this.a1.y,this.a1.z,1],h=[b.PRO_PLANK_SHEET_WIDTH,c,b.PRO_TUBE_THICKNESS],i=mat4.multiply(a.modelViewMatrix,g,[]);mat4.scale(i,h),a.setMatrixUniforms(i),a.drawArrays(a.TRIANGLE_STRIP,0,a.boxBuffer.vertexPositionBuffer.numItems)},b.pipePlank=function(c,g){this.tubes=[],this.helixCylinders=[],this.sheetPlanks=[],this.chainColor=c.chainColor;var h=[],i=[],j=[],k=[];
if(c.length>1){var l=c[0],m=c[1];m.helix?j.push(l):m.sheet?k.push(l):i.push(l)}for(var n=1,o=c.length-1;n<=o;n++){var p=c[n];if(p.helix){if(j.push(p),p.arrow){var q=vec3.create(),r=vec3.create();if(2==j.length)q=[j[0].cp1.x,j[0].cp1.y,j[0].cp1.z],r=[j[1].cp1.x,j[1].cp1.y,j[1].cp1.z];else{var s=[],t=[];3==j.length&&j.unshift(c[Math.max(n-3,0)]);for(var u=1,v=j.length-1;u<v;u++){var w=[j[u].cp1.x,j[u].cp1.y,j[u].cp1.z],x=[j[u-1].cp1.x,j[u-1].cp1.y,j[u-1].cp1.z],y=[j[u+1].cp1.x,j[u+1].cp1.y,j[u+1].cp1.z];vec3.subtract(x,w),vec3.subtract(y,w);var z=vec3.scale(x,vec3.length(y),[]),A=vec3.scale(y,vec3.length(x),[]),B=vec3.normalize(vec3.add(z,A,[]));s.push(w),t.push(B)}for(var C=[],u=0,v=s.length-1;u<v;u++){var D=s[u],E=t[u],F=s[u+1],G=t[u+1],H=vec3.normalize(vec3.cross(E,G,[])),I=vec3.subtract(F,D,[]),J=vec3.dot(I,H),K=vec3.scale(H,J,[]),L=vec3.length(K),M=vec3.length(I),N=-(L*L-M*M)/(2*vec3.dot(vec3.subtract(D,F,[]),G)),O=vec3.add(D,vec3.scale(E,N,[]),[]),P=vec3.add(F,vec3.scale(G,N,[]),[]);C.push([O,P])}var Q=C[0][0],R=C[0][1],S=vec3.subtract(Q,R,[]);vec3.add(Q,S,q);var Q=C[C.length-1][1],R=C[C.length-1][0],S=vec3.subtract(Q,R,[]);vec3.add(Q,S,r)}var T=new a.atom("",q[0],q[1],q[2]),U=new a.atom("",r[0],r[1],r[2]);this.helixCylinders.push(new e(T,U)),j=[];var V=vec3.subtract(q,r,[]);if(vec3.normalize(V),vec3.scale(V,.5),i.length>0){var W=vec3.add(q,V,[]),X=i[i.length-1].cp1,Y=vec3.subtract([X.x,X.y,X.z],W,[]),Z=new a.residue((-1));vec3.normalize(Y),vec3.scale(Y,.5),vec3.add(W,Y),Z.cp1=Z.cp2=new a.atom("",W[0],W[1],W[2]),i.push(Z);var Z=d(q[0],q[1],q[2]);i.push(Z),h.push(i)}if(i=[],n<o){var Z=d(r[0],r[1],r[2]);i.push(Z);var $=c[n+1];if($.sheet)i.push(p),i.push(p),h.push(i),i=[],k.push(p);else{vec3.scale(V,-1);var W=vec3.add(r,V,[]),_=$.cp1,aa=vec3.subtract([_.x,_.y,_.z],W,[]);vec3.normalize(aa),vec3.scale(aa,.5),vec3.add(W,aa);var Z=d(W[0],W[1],W[2]);i.push(Z)}}}}else if(p.sheet){if(k.push(p),p.arrow){for(var ba=[0,0,0],ca=[0,0,0],u=0,v=k.length;u<v;u++){var da=k[u].assistLarge,ea=da[0],fa=da[da.length-1];vec3.add(ba,[ea.x,ea.y,ea.z]),vec3.add(ca,[fa.x,fa.y,fa.z])}vec3.scale(ba,1/v),vec3.scale(ca,1/v);var ga=vec3.subtract(ba,ca),ha=k[0],ia=k[k.length-1],ja=ha.assistSmall[0],ka=ia.assistSmall[0];if(this.sheetPlanks.push(new f(ja,ka,ga)),k=[],n<o){var $=c[n+1];if($.sheet)k.push(p);else{var Z=d(ka.x,ka.y,ka.z);i.push(Z)}}}}else if(i.push(p),n<o){var $=c[n+1];if($.sheet){var da=p.assistSmall[0],Z=d(da.x,da.y,da.z);i.push(Z),h.push(i),i=[],k.push(p)}}}i.length>1&&(2==i.length&&i.push(i[i.length-1]),h.push(i)),i=[];for(var la=[],ma=0,na=h.length;ma<na;ma++){for(var oa=h[ma],pa=[],n=0,o=oa.length-1;n<=o;n++)pa.push(oa[n].cp1);la.push(pa)}for(var n=0,o=la.length;n<o;n++){var qa=new b.catmullTube(la[n],g.PRO_TUBE_THICKNESS,g.PRO_TUBE_DPI,g.PRO_HORIZONTAL_DPI);qa.chainColor=c.chainColor,this.tubes.push(qa)}};var g=b.pipePlank.prototype=new b.mesh;g.render=function(a,b){a.material.setTempColors(b.PRO_MATER_AMB_COLOR,void 0,b.PRO_MATER_SPE_COLOR,b.PRO_MATER_SHINY),a.material.setDiffuseColor(b.MACRO_COLOR_CHAIN?this.chainColor:b.PRO_TUBE_COLOR);for(var c=0,d=this.tubes.length;c<d;c++)a.setMatrixUniforms(a.modelViewMatrix),this.tubes[c].render(a,b);b.MACRO_COLOR_CHAIN||a.material.setDiffuseColor(b.PRO_RIBBON_SECONDARY_COLOR),a.cylinderClosedBuffer.bindBuffers(a);for(var c=0,d=this.helixCylinders.length;c<d;c++)this.helixCylinders[c].render(a,b);b.MACRO_COLOR_CHAIN||a.material.setDiffuseColor(b.PRO_RIBBON_SHEET_COLOR),a.boxBuffer.bindBuffers(a);for(var c=0,d=this.sheetPlanks.length;c<d;c++)this.sheetPlanks[c].render(a,b)}}(ipmd.actor,ipmd.actor.d3,ipmd.util),function(a){"use strict";function b(a){var b=["precision mediump float;","attribute vec3 a_vertex_position;","attribute vec3 a_vertex_normal;","attribute vec2 a_vertex_texcoord;","uniform vec3 u_light_diffuse_color;","uniform vec3 u_material_ambient_color;","uniform vec3 u_material_diffuse_color;","uniform mat4 u_model_view_matrix;","uniform mat4 u_projection_matrix;","uniform mat3 u_normal_matrix;","uniform vec2 u_dimension;","varying vec2 v_texcoord;","varying vec3 v_diffuse;","varying vec4 v_ambient;","varying vec3 v_normal;","void main() {","v_texcoord = a_vertex_texcoord;","if(length(a_vertex_texcoord) != 0.) {","gl_Position = u_model_view_matrix * vec4(a_vertex_position, 1.);","vec4 depth_pos = vec4(gl_Position);","depth_pos.z += a_vertex_normal.z;","gl_Position = u_projection_matrix * gl_Position;","depth_pos = u_projection_matrix * depth_pos;","gl_Position /= gl_Position.w;","gl_Position.xy += a_vertex_normal.xy / u_dimension * 2.;","gl_Position.z = depth_pos.z / depth_pos.w;","} else {","v_normal = length(a_vertex_normal)==0. ? a_vertex_normal : normalize(u_normal_matrix * a_vertex_normal);","v_ambient = vec4(u_material_ambient_color, 1.);","v_diffuse = u_material_diffuse_color * u_light_diffuse_color;","gl_Position = u_projection_matrix * u_model_view_matrix * vec4(a_vertex_position, 1.);","gl_Position /= gl_Position.w;","}","}"].join(""),c=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(c,b),a.compileShader(c),a.getShaderParameter(c,a.COMPILE_STATUS))return c}function c(a){var b=["precision mediump float;\n","uniform vec3 u_light_specular_color;","uniform vec3 u_light_direction;","uniform vec3 u_light_half_vector;","uniform vec3 u_material_specular_color;","uniform float u_material_shininess;","uniform float u_material_alpha;","uniform int u_fog_mode;","uniform vec3 u_fog_color;","uniform float u_fog_density;","uniform float u_fog_start;","uniform float u_fog_end;","uniform sampler2D u_image;","varying vec2 v_texcoord;","varying vec3 v_diffuse;","varying vec4 v_ambient;","varying vec3 v_normal;","void main(void)","{","if(length(v_texcoord)!=0.) {","gl_FragColor = texture2D(u_image, v_texcoord);","return;","}","if(length(v_normal)==0.){","gl_FragColor = vec4(v_diffuse, u_material_alpha);","}else{","float nDotL = max(dot(v_normal, u_light_direction), 0.);","vec4 color = vec4(v_diffuse*nDotL, 1.);","float nDotHV = max(dot(v_normal, u_light_half_vector), 0.);","vec3 specular = u_material_specular_color * u_light_specular_color;","color+=vec4(specular * pow(nDotHV, u_material_shininess), 1.);","gl_FragColor = color+v_ambient;","gl_FragColor.a*=u_material_alpha;","}","float fogCoord = 1.-clamp((u_fog_end - gl_FragCoord.z/gl_FragCoord.w) / (u_fog_end - u_fog_start), 0., 1.);","float fogFactor = 1.;","if(u_fog_mode == 1){","fogFactor = 1.-fogCoord;","}","else if(u_fog_mode == 2) {","fogFactor = clamp(exp(-u_fog_density*fogCoord), 0., 1.);","}","else if(u_fog_mode == 3) {","fogFactor = clamp(exp(-pow(u_fog_density*fogCoord, 2.)), 0., 1.);","}","gl_FragColor = mix(vec4(u_fog_color, 1.), gl_FragColor, fogFactor);","}"].join(""),c=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(c,b),a.compileShader(c),a.getShaderParameter(c,a.COMPILE_STATUS))return c}a.shader=function(){};var d=a.shader.prototype;d.init=function(a){var d=this.getShader(a,"vertex-shader")||b(a),e=this.getShader(a,"fragment-shader")||c(a);a.attachShader(a.program,d),a.attachShader(a.program,e),this.vertexPositionAttribute=0,a.bindAttribLocation(a.program,this.vertexPositionAttribute,"a_vertex_position"),a.linkProgram(a.program),a.useProgram(a.program),a.enableVertexAttribArray(this.vertexPositionAttribute),this.vertexTexCoordAttribute=a.getAttribLocation(a.program,"a_vertex_texcoord"),this.vertexNormalAttribute=a.getAttribLocation(a.program,"a_vertex_normal"),a.enableVertexAttribArray(this.vertexNormalAttribute),this.dimensionUniform=a.getUniformLocation(a.program,"u_dimension")},d.getShader=function(a,b){var c=document.getElementById(b);if(c){for(var d,e=[],f=c.firstChild;f;)3===f.nodeType&&e.push(f.textContent),f=f.nextSibling;if("x-shader/x-fragment"===c.type)d=a.createShader(a.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!==c.type)return;d=a.createShader(a.VERTEX_SHADER)}if(a.shaderSource(d,e.join("")),a.compileShader(d),a.getShaderParameter(d,a.COMPILE_STATUS))return d}}}(ipmd.actor.d3),function(a,b,c){"use strict";c.shape=function(b,c){for(var d=b.length,e=[],f=[],g=new a.point,h=0,i=d;h<i;h++){for(var j=h===i-1?0:h+1,k=[0,0,1],l=b[h],m=b[j],n=[m.x-l.x,m.y-l.y,0],o=vec3.cross(k,n),p=0;p<2;p++)e.push(l.x,l.y,c/2),e.push(l.x,l.y,-c/2),e.push(m.x,m.y,c/2),e.push(m.x,m.y,-c/2);for(var p=0;p<4;p++)f.push(o[0],o[1],o[2]);f.push(0,0,1),f.push(0,0,-1),f.push(0,0,1),f.push(0,0,-1),g.add(l)}g.x/=d,g.y/=d,f.push(0,0,1),e.push(g.x,g.y,c/2),f.push(0,0,-1),e.push(g.x,g.y,-c/2);for(var q=[],r=8*d,h=0,i=d;h<i;h++){var s=8*h;q.push(s),q.push(s+3),q.push(s+1),q.push(s),q.push(s+2),q.push(s+3),q.push(s+4),q.push(r),q.push(s+6),q.push(s+5),q.push(s+7),q.push(r+1)}this.storeData(e,f,q)},c.shape.prototype=new c.mesh}(ipmd,ipmd.actor,ipmd.actor.d3),function(a){"use strict";a.star=function(){for(var a=[.8944,.4472,0,.2764,.4472,.8506,.2764,.4472,-.8506,-.7236,.4472,.5257,-.7236,.4472,-.5257,-.3416,.4472,0,-.1056,.4472,.3249,-.1056,.4472,-.3249,.2764,.4472,.2008,.2764,.4472,-.2008,-.8944,-.4472,0,-.2764,-.4472,.8506,-.2764,-.4472,-.8506,.7236,-.4472,.5257,.7236,-.4472,-.5257,.3416,-.4472,0,.1056,-.4472,.3249,.1056,-.4472,-.3249,-.2764,-.4472,.2008,-.2764,-.4472,-.2008,-.5527,.1058,0,-.1708,.1058,.5527,-.1708,.1058,-.5527,.4471,.1058,.3249,.4471,.1058,-.3249,.5527,-.1058,0,.1708,-.1058,.5527,.1708,-.1058,-.5527,-.4471,-.1058,.3249,-.4471,-.1058,-.3249,0,1,0,0,-1,0],b=[0,9,8,2,7,9,4,5,7,3,6,5,1,8,6,0,8,23,30,6,8,3,21,6,11,26,21,13,23,26,2,9,24,30,8,9,1,23,8,13,25,23,14,24,25,4,7,22,30,9,7,0,24,9,14,27,24,12,22,27,3,5,20,30,7,5,2,22,7,12,29,22,10,20,29,1,6,21,30,5,6,4,20,5,10,28,20,11,21,28,10,19,18,12,17,19,14,15,17,13,16,15,11,18,16,31,19,17,14,17,27,2,27,22,4,22,29,10,29,19,31,18,19,12,19,29,4,29,20,3,20,28,11,28,18,31,16,18,10,18,28,3,28,21,1,21,26,13,26,16,31,15,16,11,16,26,1,26,23,0,23,25,14,25,15,31,17,15,13,15,25,0,25,24,2,24,27,12,27,17],c=[],d=[],e=[],f=0,g=b.length;f<g;f+=3){var h=3*b[f],i=3*b[f+1],j=3*b[f+2],k=[a[h],a[h+1],a[h+2]],l=[a[i],a[i+1],a[i+2]],m=[a[j],a[j+1],a[j+2]],n=[k[0]-l[0],k[1]-l[1],k[2]-l[2]],o=[m[0]-l[0],m[1]-l[1],m[2]-l[2]],p=vec3.cross(o,n,[]);vec3.normalize(p),c.push(k[0],k[1],k[2],l[0],l[1],l[2],m[0],m[1],m[2]),d.push(p[0],p[1],p[2],p[0],p[1],p[2],p[0],p[1],p[2]),e.push(f,f+1,f+2)}this.storeData(c,d,e)},a.star.prototype=new a.mesh}(ipmd.actor.d3),function(a,b){"use strict";function c(a,b){var c=a.text.indexOf(b);return c>=0?a.data[c]:null}var d=1;window.devicePixelRatio&&(d=window.devicePixelRatio),a.textImage=function(){this.ctx=document.createElement("canvas").getContext("2d"),this.data=[],this.text="",this.charHeight=0};var e=a.textImage.prototype;e.init=function(a,c){c||(c=b.theme("new")),this.textureImage=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.textureImage),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.bindTexture(a.TEXTURE_2D,null),this.updateFont(a,c.TEXT_FONT_SIZE,c.TEXT_FONT_FAMILIES,!1,!1,!1)},e.updateFont=function(a,c,e,f,g,h){c*=d;var i=this.ctx,j=this.ctx.canvas,k=[],l="",m=b.getFontDesc(c,e,f,g),n=0,o=1.5*c;i.font=m,i.save();for(var p=32,q=127;p<q;p++){var r=String.fromCharCode(p),s=i.measureText(r).width;k.push({text:r,width:s,height:o}),n+=2*s}for(var t="°Å®".split(""),p=0,q=t.length;p<q;p++){var r=t[p],s=i.measureText(r).width;k.push({text:r,width:s,height:o}),n+=2*s}var u=n*o,v=Math.sqrt(u),w=Math.ceil(v/o),x=Math.ceil(n/(w-1)),y=0,z=0;j.width=x,j.height=w*o,i.font=m,i.textAlign="left",i.textBaseline="middle",i.strokeStyle="#808080",i.fillStyle="#F0F0F0",i.lineWidth=1.4;for(var p=0,q=k.length;p<q;p++){var A=k[p],B=2*A.width,o=A.height,C=A.text,D=z+B;D>x&&(y++,z=0);var E=y*o;h&&i.strokeText(C,z,E+o/2),i.fillText(C,z,E+o/2),A.x=z,A.y=E,l+=C,z+=B}this.text=l,this.data=k,this.charHeight=o,a.bindTexture(a.TEXTURE_2D,this.textureImage),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,j),a.bindTexture(a.TEXTURE_2D,null)},e.pushVertexData=function(a,b,e,f){for(var g=a.toString().split(""),h=this.getHeight(),i=this.getWidth(),j=-this.textWidth(a)/2/d,k=-this.charHeight/2/d,l=0,m=g.length;l<m;l++){var n=c(this,g[l]),o=n.width,p=n.x/i,q=p+1.8*n.width/i,r=n.y/h,s=r+n.height/h,t=j+1.8*o/d,u=this.charHeight/2/d;f.position.push(b[0],b[1],b[2],b[0],b[1],b[2],b[0],b[1],b[2],b[0],b[1],b[2],b[0],b[1],b[2],b[0],b[1],b[2]),f.texCoord.push(p,r,q,s,q,r,p,r,p,s,q,s),f.translation.push(j,u,e,t,k,e,t,u,e,j,u,e,j,k,e,t,k,e),j=t+(o-1.8*o)/d}},e.getHeight=function(){return this.ctx.canvas.height},e.getWidth=function(){return this.ctx.canvas.width},e.textWidth=function(a){return this.ctx.measureText(a).width},e.useTexture=function(a){a.bindTexture(a.TEXTURE_2D,this.textureImage)}}(ipmd.actor.d3,ipmd.util),function(a){"use strict";a.textMesh=function(){};var b=a.textMesh.prototype;b.init=function(a){this.vertexPositionBuffer=a.createBuffer(),this.vertexTexCoordBuffer=a.createBuffer(),this.vertexTranslationBuffer=a.createBuffer()},b.setVertexData=function(a,b,c,d){a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW),b.itemSize=d,b.numItems=c.length/d},b.storeData=function(a,b,c,d){this.setVertexData(a,this.vertexPositionBuffer,b,3),this.setVertexData(a,this.vertexTexCoordBuffer,c,2),this.setVertexData(a,this.vertexTranslationBuffer,d,3)},b.bindBuffers=function(a){a.bindBuffer(a.ARRAY_BUFFER,this.vertexPositionBuffer),a.vertexAttribPointer(a.shader.vertexPositionAttribute,this.vertexPositionBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.vertexTexCoordBuffer),a.vertexAttribPointer(a.shader.vertexTexCoordAttribute,this.vertexTexCoordBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.vertexTranslationBuffer),a.vertexAttribPointer(a.shader.vertexNormalAttribute,this.vertexTranslationBuffer.itemSize,a.FLOAT,!1,0,0)},b.render=function(a){var b=this.vertexPositionBuffer.numItems;b&&(this.bindBuffers(a),a.drawArrays(a.TRIANGLES,0,b))}}(ipmd.actor.d3),function(a,b){"use strict";a.torsion=function(a,b,c,d){this.a1=a,this.a2=b,this.a3=c,this.a4=d};var c=a.torsion.prototype=new a.measure;c.calData=function(a){var b=[],c=[],d=[],e=this.a2.distance3D(this.a1),f=this.a2.distance3D(this.a3),g=[this.a2.x-this.a1.x,this.a2.y-this.a1.y,this.a2.z-this.a1.z],h=[this.a3.x-this.a2.x,this.a3.y-this.a2.y,this.a3.z-this.a2.z],i=[this.a4.x-this.a3.x,this.a4.y-this.a3.y,this.a4.z-this.a3.z],j=vec3.cross(g,h,[]),k=vec3.cross(h,i,[]);this.distUse=Math.min(e,f)/2,vec3.scale(g,vec3.length(h)),this.torsion=Math.atan2(vec3.dot(g,k),vec3.dot(j,k));var l=[],m=vec3.normalize(vec3.cross(j,h,[])),n=vec3.normalize(vec3.cross(h,m,[])),o=a.MEASURE_ANGLE_BANDS;this.pos=vec3.add([this.a2.x,this.a2.y,this.a2.z],vec3.scale(vec3.normalize(h,[]),this.distUse));for(var p=0;p<=o;++p){var q=this.torsion*p/o,r=vec3.scale(m,Math.cos(q),[]),s=vec3.scale(n,Math.sin(q),[]),t=vec3.scale(vec3.normalize(vec3.add(r,s,[])),this.distUse);0==p&&(l=t),b.push(this.pos[0]+t[0],this.pos[1]+t[1],this.pos[2]+t[2]),c.push(0,0,0),p<o&&d.push(p,p+1)}this.vecText=vec3.normalize(vec3.add(l,t,[]));var u=.25,v=vec3.normalize(h,[]),q=this.torsion-2*Math.asin(u/2)*this.torsion/Math.abs(this.torsion),r=vec3.scale(m,Math.cos(q),[]),s=vec3.scale(n,Math.sin(q),[]),t=vec3.scale(vec3.normalize(vec3.add(r,s,[])),this.distUse);vec3.scale(v,u/4),b.push(this.pos[0]+v[0]+t[0],this.pos[1]+v[1]+t[1],this.pos[2]+v[2]+t[2]),c.push(0,0,0),b.push(this.pos[0]-v[0]+t[0],this.pos[1]-v[1]+t[1],this.pos[2]-v[2]+t[2]),c.push(0,0,0),d.push(--p,p+1,p,p+2),this.storeData(b,c,d)},c.getText=function(){return vec3.add(this.pos,vec3.scale(this.vecText,this.distUse+.3,[])),{pos:this.pos,value:[b.angleBounds(this.torsion,!0,!0).toFixed(2)," °"].join("")}}}(ipmd.actor.d3,ipmd.util),function(a,b,c,d,e){"use strict";function f(a,b){a.bindBuffer(a.ARRAY_BUFFER,b.vertexPositionBuffer),a.vertexAttribPointer(a.shader.vertexPositionAttribute,b.vertexPositionBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,b.vertexNormalBuffer),a.vertexAttribPointer(a.shader.vertexNormalAttribute,b.vertexNormalBuffer.itemSize,a.FLOAT,!1,0,0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.vertexIndexBuffer)}var g=function(a,b,c){var d=Math.sqrt(b[1]*b[1]+b[2]*b[2]),e=[1,0,0,0,0,b[2]/d,-b[1]/d,0,0,b[1]/d,b[2]/d,0,0,0,0,1],f=[1,0,0,0,0,b[2]/d,b[1]/d,0,0,-b[1]/d,b[2]/d,0,0,0,0,1],g=[d,0,-b[0],0,0,1,0,0,b[0],0,d,0,0,0,0,1],h=[d,0,b[0],0,0,1,0,0,-b[0],0,d,0,0,0,0,1],i=[Math.cos(c),-Math.sin(c),0,0,Math.sin(c),Math.cos(c),0,0,0,0,1,0,0,0,0,1],j=mat4.multiply(e,mat4.multiply(g,mat4.multiply(i,mat4.multiply(h,f,[]))));this.rotate=function(){return mat4.multiplyVec3(j,a)}};c.tube=function(c,d,e){var f,h=c[0].lineSegments[0].length,i=[1,0,0];this.partitions=[],this.ends=[],this.ends.push(c[0].lineSegments[0][0]),this.ends.push(c[c.length-1].lineSegments[0][0]);for(var j=0,k=c.length;j<k;j++){(!f||f.positionData.length>65e3)&&(this.partitions.length>0&&j--,f={count:0,positionData:[],normalData:[],indexData:[]},this.partitions.push(f));var l=c[j],m=1/0,n=new b.atom("",c[j].cp1.x,c[j].cp1.y,c[j].cp1.z);f.count++;for(var o=0;o<h;o++){var p,q=l.lineSegments[0][o];p=o===h-1?j===c.length-1?l.lineSegments[0][o-1]:c[j+1].lineSegments[0][0]:l.lineSegments[0][o+1];var r=[p.x-q.x,p.y-q.y,p.z-q.z];vec3.normalize(r),j===c.length-1&&o===h-1&&vec3.scale(r,-1);var s=vec3.cross(r,i,[]);vec3.normalize(s),vec3.scale(s,d/2);for(var t=new g(s,r,2*Math.PI/e),u=0,v=e;u<v;u++){var w=t.rotate();u===Math.floor(e/4)&&(i=[w[0],w[1],w[2]]),f.normalData.push(w[0],w[1],w[2]),f.positionData.push(q.x+w[0],q.y+w[1],q.z+w[2])}if(n){var x=q.distance3D(n);x<m&&(m=x,c[j].pPoint=q)}}}for(var y=0,z=this.partitions.length;y<z;y++)for(var f=this.partitions[y],j=0,k=f.count-1;j<k;j++)for(var A=j*h*e,o=0,B=h;o<B;o++)for(var C=A+o*e,u=0;u<e;u++){var D=1,E=C+u;f.indexData.push(E),f.indexData.push(E+e),f.indexData.push(E+e+D),f.indexData.push(E),f.indexData.push(E+e+D),f.indexData.push(E+D)}this.storeData(this.partitions[0].positionData,this.partitions[0].normalData,this.partitions[0].indexData);for(var F=[new a.point(2,0)],j=0;j<60;j++){var G=j/60*Math.PI;F.push(new a.point(2*Math.cos(G),-2*Math.sin(G)))}F.push(new a.point((-2),0),new a.point((-2),4),new a.point(2,4)),this.platform=new b.d3.shape(F,1)};var h=c.tube.prototype=new c.mesh;h.render=function(a,c){if(this.bindBuffers(a),a.material.setDiffuseColor(c.MACRO_COLOR_CHAIN?this.chainColor:c.NUC_TUBE_COLOR),a.drawElements(a.TRIANGLES,this.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0),this.partitions)for(var g=1,h=this.partitions.length;g<h;g++){var i=this.partitions[g];f(a,i),a.drawElements(a.TRIANGLES,i.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}a.sphereBuffer.bindBuffers(a);for(var g=0;g<2;g++){var i=this.ends[g],j=mat4.translate(a.modelViewMatrix,[i.x,i.y,i.z],[]),k=thickness/2;mat4.scale(j,[k,k,k]),a.setMatrixUniforms(j),a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}a.cylinderBuffer.bindBuffers(a);for(var g=0,h=chain.length-1;g<h;g++){var l,m=chain[g],n=m.pPoint,o=new b.atom("",m.cp2.x,m.cp2.y,m.cp2.z),p=1.001*n.distance3D(o),q=[thickness/4,p,thickness/4],j=mat4.translate(a.modelViewMatrix,[n.x,n.y,n.z],[]),r=[0,1,0],s=0,t=[o.x-n.x,o.y-n.y,o.z-n.z];n.x===o.x&&n.z===o.z?(l=[0,0,1],n.y<n.y&&(s=Math.PI)):(s=d.angleV2V(r,t),l=vec3.cross(r,t,[])),0!==s&&mat4.rotate(j,s,l),mat4.scale(j,q),a.setMatrixUniforms(j),a.drawArrays(a.TRIANGLE_STRIP,0,a.cylinderBuffer.vertexPositionBuffer.numItems)}this.platform.bindBuffers(a),"none"!==c.NUC_RESIDUE_COLOR||c.MACRO_COLOR_CHAIN||a.material.setDiffuseColor(c.NUC_COLOR);for(var g=0,h=chain.length-1;g<h;g++){var l,m=chain[g],o=m.cp2,j=mat4.translate(a.modelViewMatrix,[o.x,o.y,o.z],[]),r=[0,1,0],s=0,u=m.cp3;if(u){var t=[u.x-o.x,u.y-o.y,u.z-o.z];o.x===u.x&&o.z===u.z?(l=[0,0,1],o.y<o.y&&(s=Math.PI)):(s=d.angleV2V(r,t),l=vec3.cross(r,t,[])),0!==s&&mat4.rotate(j,s,l);var v=[1,0,0],w=mat4.rotate(mat4.identity([]),s,l),x=m.cp4,y=m.cp5;if(mat4.multiplyVec3(w,v),x.y!==y.y||x.z!==y.z){var z=[y.x-x.x,y.y-x.y,y.z-x.z],A=d.angleV2V(v,z);vec3.dot(t,vec3.cross(v,z))<0&&(A*=-1),mat4.rotateY(j,A)}c.MACRO_COLOR_CHAIN||("shapely"===c.NUC_RESIDUE_COLOR?e[m.name]?a.material.setDiffuseColor(e[m.name].shapelyColor):a.material.setDiffuseColor(e["*"].shapelyColor):"grd"===c.NUC_RESIDUE_COLOR&&a.material.setDiffuseColor(d.gradient(g,h,c.MACRO_GRADIENT_COLORS))),a.setMatrixUniforms(j),a.drawElements(a.TRIANGLES,platform.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}}},c.catmullTube=function(a,c,d,e){var f=[];a.push(a[a.length-1]);for(var h=0,i=a.length-2;h<=i;h++){for(var j=a[0==h?0:h-1],k=a[h+0],l=a[h+1],m=a[h==i?h+1:h+2],n=[],o=0;o<e;o++){var p=h==i?o/(e-1):o/e,q=.5*(2*k.x+(l.x-j.x)*p+(2*j.x-5*k.x+4*l.x-m.x)*p*p+(3*k.x-j.x-3*l.x+m.x)*p*p*p),r=.5*(2*k.y+(l.y-j.y)*p+(2*j.y-5*k.y+4*l.y-m.y)*p*p+(3*k.y-j.y-3*l.y+m.y)*p*p*p),s=.5*(2*k.z+(l.z-j.z)*p+(2*j.z-5*k.z+4*l.z-m.z)*p*p+(3*k.z-j.z-3*l.z+m.z)*p*p*p),t=new b.atom("C",q,r,s);n.push(t)}f.push(n)}var u,v=f[0].length,w=[1,0,0];this.partitions=[],this.ends=[],this.ends.push(f[0][0]),this.ends.push(f[f.length-1][0]);for(var h=0,i=f.length;h<i;h++){(!u||u.positionData.length>65e3)&&(this.partitions.length>0&&h--,u={count:0,positionData:[],normalData:[],indexData:[]},this.partitions.push(u));var x=f[h];u.count++;for(var o=0;o<v;o++){var y,z=x[o];y=o===v-1?h===f.length-1?x[o-1]:f[h+1][0]:x[o+1];var A=[y.x-z.x,y.y-z.y,y.z-z.z];vec3.normalize(A),h===f.length-1&&o===v-1&&vec3.scale(A,-1);var B=vec3.cross(A,w,[]);vec3.normalize(B),vec3.scale(B,c/2);for(var C=new g(B,A,2*Math.PI/d),D=0,E=d;D<E;D++){var F=C.rotate();D===Math.floor(d/4)&&(w=[F[0],F[1],F[2]]),u.normalData.push(F[0],F[1],F[2]),u.positionData.push(z.x+F[0],z.y+F[1],z.z+F[2])}}}for(var G=0,H=this.partitions.length;G<H;G++)for(var u=this.partitions[G],h=0,i=u.count-1;h<i;h++)for(var I=h*v*d,o=0,J=v;o<J;o++)for(var K=I+o*d,D=0;D<=d;D++){var L=K+D%d;u.indexData.push(L,L+d)}this.storeData(this.partitions[0].positionData,this.partitions[0].normalData,this.partitions[0].indexData)};var h=c.catmullTube.prototype=new c.mesh;h.render=function(a,b){this.bindBuffers(a);for(var c=0,d=this.partitions.length;c<d;c++){var e=this.partitions[c];f(a,e),a.drawElements(a.TRIANGLE_STRIP,e.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}a.sphereBuffer.bindBuffers(a);for(var c=0;c<2;c++){var e=this.ends[c],g=mat4.translate(a.modelViewMatrix,[e.x,e.y,e.z],[]),h=b.PRO_TUBE_THICKNESS/2;mat4.scale(g,[h,h,h]),a.setMatrixUniforms(g),a.drawElements(a.TRIANGLES,a.sphereBuffer.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}}}(ipmd,ipmd.actor,ipmd.actor.d3,ipmd.util,ipmd.Residues),function(a){"use strict";a.unitcell=function(a){this.unitCell=a;var b=[],c=[],d=[],e=function(a,d,e,f){b.push(a[0],a[1],a[2]),b.push(d[0],d[1],d[2]),b.push(e[0],e[1],e[2]),b.push(f[0],f[1],f[2]);for(var g=0;g<4;g++)c.push(0,0,0)};e(a.o,a.x,a.xy,a.y),e(a.o,a.y,a.yz,a.z),e(a.o,a.z,a.xz,a.x),e(a.yz,a.y,a.xy,a.xyz),e(a.xyz,a.xz,a.z,a.yz),e(a.xy,a.x,a.xz,a.xyz);for(var f=0;f<6;f++){var g=4*f;d.push(g,g+1,g+1,g+2,g+2,g+3,g+3,g)}this.storeData(b,c,d)};var b=a.unitcell.prototype=new a.mesh;b.render=function(a,b){a.setMatrixUniforms(a.modelViewMatrix),this.bindBuffers(a),a.material.setDiffuseColor(b.PRMT_COLOR),a.lineWidth(b.PRMT_LINE_WIDTH),a.drawElements(a.LINES,this.vertexIndexBuffer.numItems,a.UNSIGNED_SHORT,0)}}(ipmd.actor.d3),function(a,b){"use strict";a.splitter=function(){};var c=a.splitter.prototype;c.split=function(c){for(var d=[],e=0,f=c.atoms.length;e<f;e++)c.atoms[e].visited=!1;for(var e=0,f=c.bonds.length;e<f;e++)c.bonds[e].visited=!1;for(var e=0,f=c.atoms.length;e<f;e++){var g=c.atoms[e];if(!g.visited){var h=new b.molecule;h.atoms.push(g),g.visited=!0;var i=new a.queue;for(i.push(g);!i.empty();)for(var j=i.pop(),k=0,l=c.bonds.length;k<l;k++){var m=c.bonds[k];if(m.has(j)&&!m.visited){m.visited=!0,h.bonds.push(m);var n=m.brother(j);n.visited||(n.visited=!0,h.atoms.push(n),i.push(n))}}d.push(h)}}return d}}(ipmd,ipmd.actor),function(a){"use strict";a.stat=function(){};var b=a.stat.prototype;b.value=0,b.molecule=void 0,b.setMolecule=function(a){this.value=0,this.molecule=a,this.recount()},b.recount=function(){}}(ipmd),function(a){"use strict";a.fjStat=function(a){this.setMolecule(a)};var b=a.fjStat.prototype=new a.stat;b.recount=function(){this.value=this.molecule.bonds.length-this.molecule.atoms.length+new a.molStat(this.molecule).value}}(ipmd),function(a){"use strict";a.molStat=function(a){this.setMolecule(a)};var b=a.molStat.prototype=new a.stat;b.recount=function(){for(var b=0,c=this.molecule.atoms.length;b<c;b++)this.molecule.atoms[b]&&(this.molecule.atoms[b].visited=!1);for(var b=0,c=this.molecule.atoms.length;b<c;b++)if(this.molecule.atoms[b]&&!this.molecule.atoms[b].visited){this.value++;var d=new a.queue;for(this.molecule.atoms[b].visited=!0,d.push(this.molecule.atoms[b]);!d.empty();)for(var e=d.pop(),f=0,g=this.molecule.bonds.length;f<g;f++){var h=this.molecule.bonds[f];if(h&&h.has(e)){var i=h.brother(e);i&&!i.visited&&(i.visited=!0,d.push(i))}}}}}(ipmd),function(a){"use strict";a.seeker=function(){};var b=a.seeker.prototype;b.atoms=void 0,b.bonds=void 0,b.rings=void 0,b.reduce=function(a){for(var b=0,c=a.atoms.length;b<c;b++)a.atoms[b]&&(a.atoms[b].visited=!1);for(var b=0,c=a.bonds.length;b<c;b++)a.bonds[b]&&(a.bonds[b].visited=!1);for(var d=!0;d;){d=!1;for(var b=0,c=a.atoms.length;b<c;b++)if(a.atoms[b]){for(var e,f=0,g=0,h=a.bonds.length;g<h;g++)if(a.bonds[g]&&a.bonds[g].has(a.atoms[b])&&!a.bonds[g].visited){if(f++,2===f)break;e=a.bonds[g]}1===f&&(d=!0,e.visited=!0,a.atoms[b].visited=!0)}}for(var b=0,c=a.atoms.length;b<c;b++)a.atoms[b]&&!a.atoms[b].visited&&this.atoms.push(a.atoms[b]);for(var b=0,c=a.bonds.length;b<c;b++)a.bonds[b]&&!a.bonds[b].visited&&this.bonds.push(a.bonds[b]);0===this.bonds.length&&0!==this.atoms.length&&(this.atoms=[])},b.setMolecule=function(a){this.atoms=[],this.bonds=[],this.rings=[],this.reduce(a),this.atoms.length>2&&this.detectRings()},b.detectRings=function(){},b.fuse=function(){for(var a=0,b=this.rings.length;a<b;a++)for(var c=0,d=this.bonds.length;c<d;c++)this.bonds[c]&&this.bonds[c].a1&&this.bonds[c].a2&&this.rings[a].atoms.indexOf(this.bonds[c].a1)!==-1&&this.rings[a].atoms.indexOf(this.bonds[c].a2)!==-1&&this.rings[a].bonds.push(this.bonds[c])}}(ipmd),function(a,b){"use strict";function c(a,b){if(this.atoms=[],b)for(var c=0,d=b.atoms.length;c<d;c++)this.atoms[c]=b.atoms[c];this.atoms.push(a)}c.prototype={grow:function(a,b){for(var d=this.atoms[this.atoms.length-1],e=[],f=0,g=a.length;f<g;f++)if(a[f].has(d)){var h=a[f].brother(d);b.indexOf(h)===-1&&e.push(h)}for(var i=[],f=0,g=e.length;f<g;f++)i.push(new c(e[f],this));return i},detect:function(a,c,d){for(var e=0,f=c.atoms.length-1;e<f;e++)if(this.atoms.indexOf(c.atoms[e])!==-1)return;var g;if(c.atoms[c.atoms.length-1]===this.atoms[this.atoms.length-1]){g=new b.ring,g.atoms[0]=d;for(var e=0,f=this.atoms.length;e<f;e++)g.atoms.push(this.atoms[e]);for(var e=c.atoms.length-2;e>=0;e--)g.atoms.push(c.atoms[e])}else{for(var h=[],e=0,f=a.length;e<f;e++)a[e].has(c.atoms[c.atoms.length-1])&&h.push(a[e]);for(var e=0,f=h.length;e<f;e++)if((1===c.atoms.length||!h[e].has(c.atoms[c.atoms.length-2]))&&h[e].has(this.atoms[this.atoms.length-1])){g=new b.ring,g.atoms[0]=d;for(var i=0,j=this.atoms.length;i<j;i++)g.atoms.push(this.atoms[i]);for(var i=c.atoms.length-1;i>=0;i--)g.atoms.push(c.atoms[i]);break}}return g}},a.efSeeker=function(a){this.fingerBreak=5,this.setMolecule(a)};var d=a.efSeeker.prototype=new a.seeker;d.detectRings=function(){for(var a=0,b=this.atoms.length;a<b;a++){for(var d=[],e=0,f=this.bonds.length;e<f;e++)this.bonds[e].has(this.atoms[a])&&d.push(this.bonds[e].brother(this.atoms[a]));for(var e=0,f=d.length;e<f;e++)for(var g=e+1;g<d.length;g++){var h=[],i=[];h[0]=new c(d[e]),h[1]=new c(d[g]),i[0]=this.atoms[a];for(var j=0,k=d.length;j<k;j++)j!==e&&j!==g&&i.push(d[j]);var l=[],m=h[0].detect(this.bonds,h[1],this.atoms[a]);for(m&&(l[0]=m);0===l.length&&h.length>0&&h[0].atoms.length<this.fingerBreak;){for(var n=[],j=0,k=h.length;j<k;j++)for(var o=h[j].grow(this.bonds,i),p=0,q=o.length;p<q;p++)n.push(o[p]);h=n;for(var j=0,k=h.length;j<k;j++)for(var p=j+1;p<k;p++){var r=h[j].detect(this.bonds,h[p],this.atoms[a]);r&&l.push(r)}if(0===l.length){for(var s=[],j=0,k=i.length;j<k;j++)for(var p=0,q=this.bonds.length;p<q;p++)if(this.bonds[p].has(i[j])){var d=this.bonds[p].brother(i[j]);i.indexOf(d)===-1&&s.indexOf(d)===-1&&s.push(d)}for(var j=0,k=s.length;j<k;j++)i.push(s[j])}}if(l.length>0){for(var t=void 0,u=!1,j=0,k=l.length;j<k;j++)(!t||t.atoms.length>l[j].atoms.length)&&(t=l[j]);for(var j=0,k=this.rings.length;j<k;j++){for(var v=!0,p=0,q=t.atoms.length;p<q;p++)if(this.rings[j].atoms.indexOf(t.atoms[p])===-1){v=!1;break}if(v){u=!0;break}}u||this.rings.push(t)}}}this.fuse()}}(ipmd,ipmd.actor),function(a){"use strict";a.sSeeker=function(b){if(this.rings=[],b.atoms.length>0){var c=new a.fjStat(b).value,d=new a.efSeeker(b).rings;d.sort(function(a,b){return a.atoms.length-b.atoms.length});for(var e=0,f=b.bonds.length;e<f;e++)b.bonds[e].visited=!1;for(var e=0,f=d.length;e<f;e++){for(var g=!1,h=0,i=d[e].bonds.length;h<i;h++)if(!d[e].bonds[h].visited){g=!0;break}if(g){for(var h=0,i=d[e].bonds.length;h<i;h++)d[e].bonds[h].visited=!0;this.rings.push(d[e])}if(this.rings.length===c)break}}}}(ipmd),ipmd.parser={getPath:function(a){return"string"==typeof a?a.replace("C:\\fakepath\\",""):a?ipmd.browser.ie?(a.select(),document.selection.createRange().text):ipmd.browser.firefox?a.files?a.files.item(0).getAsDataURL():a.value:a.value.replace("C:\\fakepath\\",""):void 0},checkFormat:function(a,b){return a.indexOf("M  END")>=0?"MOL":a.startWith('{"m":[')?"IPM":a.startWith("$RXN")?"RXN":b},readFile:function(a,b){if("function"==typeof window.FileReader){if("string"==typeof a)return void $.get(a,"",b);var c=a.files[0],d=new FileReader;d.onload=function(){b&&b(this.result)},d.readAsText(c)}else if("undefined"!=typeof window.ActiveXObject){var e="";try{var f=new ActiveXObject("Scripting.FileSystemObject"),d=f.OpenTextFile(a.value||a,1,!0);e=d.ReadAll(),d.Close()}catch(g){ipmd.util.printLog(g.message)}b&&b(e)}else if(document.implementation&&document.implementation.createDocument){var e="";try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var h=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);h.initWithPath(c),0==h.exists()&&ipmd.util.printLog("File does not exist");var i=Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);i.init(h,1,4,null);var j=Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);j.init(i);var k=Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);k.charset="UTF-8",e=k.ConvertToUnicode(j.read(j.available()))}catch(g){ipmd.util.printLog(g.message)}b&&b(e)}},saveFile:function(a,b,c){var d=!1;try{d=!!new Blob}catch(e){}if(d)saveTextAs(b,a);else if("undefined"!=typeof window.ActiveXObject){var f="ok";try{var g=new ActiveXObject("Scripting.FileSystemObject"),h=g.OpenTextFile(a,2,!0);h.Write(b),h.Close()}catch(e){ipmd.util.printLog(e.message),f=e.message}c&&c(f)}else{var i;if("function"==typeof window.Blob)i=new Blob([b],{type:"text/plain;charset=utf-8"});else{var j=window.BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder,k=new j;k.append(b),i=k.getBlob("text/plain;charset=utf-8")}var l=window.URL||window.webkitURL,m=l.createObjectURL(i),n=document.createElement("a");if("download"in n){n.style.visibility="hidden",n.href=m,n.download=a,document.body.appendChild(n);var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),n.dispatchEvent(o),document.body.removeChild(n)}else navigator.msSaveBlob?navigator.msSaveBlob(i,a):location.href=m}},savePNG:function(a,b,c){var d=!1,e="ok";try{d=!!new Blob;
}catch(f){e=f.message}if(d){var g="string"==typeof b?document.getElementById(b):b;g.toBlob(function(b){saveAs(b,a)})}else e="Not support";c&&c(e)},saveJPG:function(a,b,c){var d=!1,e="ok";try{d=!!new Blob}catch(f){e=f.message}if(d){var g="string"==typeof b?document.getElementById(b):b;g.toBlob(function(b){saveAs(b,a)},"image/jpeg")}else e="Not support";c&&c(e)},saveTIF:function(a,b,c){var d=!1,e="ok";try{d=!!new Blob}catch(f){e=f.message}if(d){var g="string"==typeof b?document.getElementById(b):b;g.toBlob(function(b){saveAs(b,a)},"image/tiff")}else e="Not support";c&&c(e)},savePDF:function(a,b,c,d){"string"==typeof b&&(b=[b]),c||(c=prompt("How many in each row?","2"));var e=[],f=1,g=2,h=Math.floor((19*window.screen.getDPI()/2.54-20)/c)-2*g;e.push('<div style="width:'+(h+2*g)*c+'px;">');for(var i=0,j=b.length;i<j;i++){var k=b[i],l=document.getElementById(k),m=l.width,n=l.height,o=m/h,p=l.toDataURL("image/png");e.push('<img src="'+p+'" width="'+h+'" height="'+n/o+'" style="margin:'+g+'px;"/>'),++f>c&&i<j&&(e.push('</div><div style="width:'+(h+2*g)*c+'px;">'),f=1)}e.push("</div>"),e.push("<script>print();</script>");var q=window.open(a,a);q.document.write(e.join(""))},readIPM:function(a){var b=new ipmd.ipmParser;return b.read(a)},saveIPM:function(a,b){var c=new ipmd.ipmParser;return c.save(a,b,!0)},readMOL:function(a,b){var c=new ipmd.molParser,d=c.read(a,b);return d?{molecules:[d]}:d},saveMOL:function(a,b){var c=new ipmd.molParser;return c.save(a[a.length-1])},readRXN:function(a,b){var c=new ipmd.rxnParser;return c.read(a,b)},saveRXN:function(a,b){var c=new ipmd.rxnParser;return c.save(a,b)}},ipmd.parserIns=function(){var a=function(a){ipmd.util.initOption(this,a)};return a.prototype={init:function(){},reset:function(){},read:function(){},save:function(){}},a}(),function(a,b){"use strict";var c=666,d="",e=["label","x","y","z","tmpid","color","charge","mass","radCount","lpCount","query","hetatm","isWater","distOpt","altLabel","labBold","labItalic","labFamily","labSize","labColor","rgroup","hideInGroup"],f=["C",0,0,0,"","",0,-1,0,0,"","","","","","","","","","",0,0],g=["order","tmpid","color","stereo","query","altLabel","thick"],h=[-1,-1,0,"","","none","",1.5];a.ipmParser=function(){};var i=a.ipmParser.prototype=new a.parserIns;i.read=function(a){var b;try{b=JSON.parse(a)}catch(d){return}if(b){if(b.v!==c)return;return b.m||b.s?this.contentFrom(b):b=b.a?{molecules:[this.molFrom(b)],shapes:[]}:{molecules:[],shapes:[]}}},i.save=function(a,b,d){for(var e=0,f=0,g=0,h=a.length;g<h;g++){for(var i=a[g],j=0,k=i.atoms.length;j<k;j++)i.atoms[j].tmpid="a"+e++;for(var j=0,k=i.bonds.length;j<k;j++)i.bonds[j].tmpid="b"+f++}if(e=0,b)for(var g=0,h=b.length;g<h;g++)b[g].tmpid="s"+e++;var l={};if(a&&a.length>0){l.m=[];for(var g=0,h=a.length;g<h;g++)l.m.push(this.molTo(a[g]))}if(b&&b.length>0){l.s=[];for(var g=0,h=b.length;g<h;g++)l.s.push(this.shapeTo(b[g]))}for(var g=0,h=a.length;g<h;g++){for(var i=a[g],j=0,k=i.atoms.length;j<k;j++)i.atoms[j].tmpid=void 0;for(var j=0,k=i.bonds.length;j<k;j++)i.bonds[j].tmpid=void 0}if(b)for(var g=0,h=b.length;g<h;g++)b[g].tmpid=void 0;return l.v=c,d?JSON.stringify(l):l},i.contentFrom=function(a){var b={molecules:[],shapes:[]};if(a.m)for(var c=0,d=a.m.length;c<d;c++)b.molecules.push(this.molFrom(a.m[c]));if(a.s)for(var c=0,d=a.s.length;c<d;c++)b.shapes.push(this.shapeFrom(a.s[c],b.molecules));for(var c=0,d=b.molecules.length;c<d;c++){for(var e=b.molecules[c],f=0,g=e.atoms.length;f<g;f++)e.atoms[f].tmpid=void 0;for(var f=0,g=e.bonds.length;f<g;f++)e.bonds[f].tmpid=void 0}for(var c=0,d=b.shapes.length;c<d;c++)b.shapes[c].tmpid=void 0;return b},i.molTo=function(a){for(var b={a:[]},c=0,i=a.atoms.length;c<i;c++){for(var j=a.atoms[c],k=[],l=0;l<e.length;l++){var m=void 0!==j[e[l]]?j[e[l]]:d;l.between(1,3)?m=parseFloat(m.toFixed(2)):"label"==e[l]&&"Star"==m&&(m="*"),k.push(m)}for(var l=k.length-1;l>=0&&k[l]===f[l];l--)k.pop();b.a.push(k)}if(a.bonds.length>0){b.b=[];for(var c=0,i=a.bonds.length;c<i;c++){var n=a.bonds[c],k=[];k.push(a.atoms.indexOf(n.a1)),k.push(a.atoms.indexOf(n.a2));for(var l=0;l<g.length;l++)k.push(void 0!==n[g[l]]?n[g[l]]:d);for(var l=k.length-1;l>=0&&k[l]===h[l];l--)k.pop();b.b.push(k)}}return b},i.molFrom=function(a){for(var c=new b.molecule,f=0,h=a.a.length;f<h;f++){for(var i=a.a[f],j=new b.atom(i[0],i[1],i[2],i[3]),k=4;k<e.length&&void 0!==i[k];k++)i[k]!==d&&(j[e[k]]=i[k]);c.atoms.push(j)}if(a.b)for(var f=0,h=a.b.length;f<h;f++){for(var i=a.b[f],l=new b.bond(c.atoms[i[0]],c.atoms[i[1]],i[2]),k=1;k<g.length&&void 0!==i[k+2];k++){var m=i[k+2];m!==d&&(l[g[k]]=m)}c.bonds.push(l)}return c},i.shapeTo=function(a){var c=[];if(c.push(void 0!==a.tmpid?a.tmpid:d),a instanceof b.d2.line)c.push("line"),c.push(parseFloat(a.p1.x.toFixed(2))),c.push(parseFloat(a.p1.y.toFixed(2))),c.push(parseFloat(a.p2.x.toFixed(2))),c.push(parseFloat(a.p2.y.toFixed(2))),c.push(a.arrowType),c.push(void 0!==a.color?a.color:d),a.altLabel&&(c.push(a.altLabel),c.push(void 0!==a.labBold?a.labBold:d),c.push(void 0!==a.labItalic?a.labItalic:d),c.push(void 0!==a.labFamily?a.labFamily:d),c.push(void 0!==a.labSize?a.labSize:d),c.push(void 0!==a.labColor?a.labColor:d));else if(a instanceof b.d2.bezier)c.push("bezier"),c.push(a.o1.tmpid),c.push(a.o2.tmpid),c.push(a.elecCount);else if(a instanceof b.d2.combine)c.push("combine"),c.push(parseFloat(a.p1.x.toFixed(2))),c.push(parseFloat(a.p1.y.toFixed(2))),c.push(parseFloat(a.p2.x.toFixed(2))),c.push(parseFloat(a.p2.y.toFixed(2))),c.push(a.charge),c.push(a.mult),c.push(a.repeat);else if(a instanceof b.d3.distance)c.push("distance"),c.push(a.a1.tmpid),c.push(a.a2.tmpid),c.push(a.node?"["+parseFloat(a.node.x.toFixed(2))+","+parseFloat(a.node.y.toFixed(2))+","+parseFloat(a.node.z.toFixed(2))+"]":d),c.push(a.node?a.offset:d);else if(a instanceof b.d3.angle)c.push("angle"),c.push(a.a1.tmpid),c.push(a.a2.tmpid),c.push(a.a3.tmpid);else if(a instanceof b.d3.torsion)c.push("torsion"),c.push(a.a1.tmpid),c.push(a.a2.tmpid),c.push(a.a3.tmpid),c.push(a.a4.tmpid);else if(a instanceof b.d3.unitcell){c.push("unitcell");var e={};for(var f in a.unitCell)c[f]=a.unitCell[f];c.push(e)}return c},i.shapeFrom=function(c,e){var f;switch(c[1]){case"line":f=new b.d2.line(new a.point(c[2],c[3]),new a.point(c[4],c[5])),f.arrowType=c[6],c[7]!==d&&(f.color=c[7]),void 0!==c[8]&&c[8]!==d&&(f.altLabel=c[8],c[9]!==d&&(f.labBold=c[9]),c[10]!==d&&(f.labItalic=c[10]),c[11]!==d&&(f.labFamily=c[11]),c[12]!==d&&(f.labSize=c[12]),c[13]!==d&&(f.labColor=c[13]));break;case"bezier":for(var g,h,i=0,j=e.length;i<j;i++){for(var k=e[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l];n.tmpid===c[2]?g=n:n.tmpid===c[3]&&(h=n)}for(var l=0,m=k.bonds.length;l<m;l++){var o=k.bonds[l];o.tmpid===c[2]?g=o:o.tmpid===c[3]&&(h=o)}}f=new b.d2.bezier(g,h,c[4]);break;case"combine":f=new b.d2.combine(new a.point(c[2],c[3]),new a.point(c[4],c[5])),f.charge=c[6],f.mult=c[7],f.repeat=c[8];break;case"distance":for(var p,q,r={x:c[4][0],y:c[4][1],z:c[4][2]},i=0,j=e.length;i<j;i++)for(var k=e[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l];n.tmpid===c[2]?p=n:n.tmpid===c[3]&&(q=n)}f=new b.d3.distance(p,q,r,c[5]);break;case"angle":for(var p,q,s,i=0,j=e.length;i<j;i++)for(var k=e[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l];n.tmpid===c[2]?p=n:n.tmpid===c[3]?q=n:n.tmpid===c[4]&&(s=n)}f=new b.d3.angle(p,q,s);break;case"torsion":for(var p,q,s,t,i=0,j=e.length;i<j;i++)for(var k=e[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l];n.tmpid===c[2]?p=n:n.tmpid===c[3]?q=n:n.tmpid===c[4]?s=n:n.tmpid===c[5]&&(t=n)}f=new b.d3.torsion(p,q,s,t);break;case"unitcell":var u={},v=c[2];for(var w in v)u[w]=v[w];f=new b.d3.unitcell(u)}return f}}(ipmd,ipmd.actor),function(a,b,c,d){"use strict";a.molParser=function(){};var e=a.molParser.prototype=new a.parserIns;e.read=function(a,e){if(!e){var f=c.theme();e=f.BOND_LENGTH}if(a)try{for(var g=new b.molecule,h=a.split("\n"),i=h[3],j=parseInt(i.substring(0,3)),k=parseInt(i.substring(3,6)),l=0;l<j;l++){var m=h[4+l];g.atoms[l]=new b.atom(m.substring(31,34),parseFloat(m.substring(0,10))*e,(1===e?1:-1)*parseFloat(m.substring(10,20))*e,parseFloat(m.substring(20,30))*e);var n=parseInt(m.substring(34,36));switch(0!==n&&d[g.atoms[l].label]&&(g.atoms[l].mass=d[g.atoms[l].label].mass+n),parseInt(m.substring(36,39))){case 1:g.atoms[l].charge=3;break;case 2:g.atoms[l].charge=2;break;case 3:g.atoms[l].charge=1;break;case 5:g.atoms[l].charge=-1;break;case 6:g.atoms[l].charge=-2;break;case 7:g.atoms[l].charge=-3}}for(var l=0;l<k;l++){var m=h[4+j+l],o=parseInt(m.substring(6,9)),p=parseInt(m.substring(9,12)),q=parseInt(m.substring(12,15)),r={};if(o>3)switch(o){case 4:o=1.5;break;case 5:o=2.5;break;case 6:o=1.5;break;case 7:o=1.5;break;case 8:o=.5;break;default:o=1}switch(p){case 3:r.stereo=STEREO.ambiguous;break;case 1:r.stereo=STEREO.protruding;break;case 6:r.stereo=STEREO.recessed}1===q?r.altLabel="ring":2===q&&(r.altLabel="chain");var s=new b.bond(g.atoms[parseInt(m.substring(0,3))-1],g.atoms[parseInt(m.substring(3,6))-1],o,r);g.bonds[l]=s}for(var t=4+j+k,m=h[t],u=0;m.startWith("M  STY");){u++;for(var v=(parseInt(m.substring(6,9)),parseInt(m.substring(6,13)),[]),w="",l=0;l<4;l++)if(t++,m=h[t],m.startWith("M  SAL"))for(var x=parseInt(m.substring(10,13)),y=0;y<x;y++)v.push(parseInt(m.substring(14+4*y,18+4*y)));else m.startWith("M  SMT")&&(w=m.substring(11));g.atoms[v[0]-1].rgroup=u,g.atoms[v[0]-1].altLabel=w;for(var l=1,z=v.length;l<z;l++)g.atoms[v[l]-1].hideInGroup=u;t++,m=h[t]}return g}catch(A){return}},e.save=function(a){var b=[];b.push("Molecule from ipmDraw Web Components\n\n\n"),b.push(a.atoms.length.toString().pack(3)),b.push(a.bonds.length.toString().pack(3)),b.push("  0  0  0  0            999 V2000\n");for(var e=c.theme(),f=a.getCenter(),g=0,h=a.atoms.length;g<h;g++){var i=a.atoms[g],j=" 0";if(i.mass!==-1&&d[i.label]){var k=i.mass-d[i.label].mass;k<5&&k>-4&&(j=(k>-1?" ":"")+k)}var l="  0",m="Star"===i.label?"*":i.label;if(0!==i.charge)switch(i.charge){case 3:l="  1";break;case 2:l="  2";break;case 1:l="  3";break;case-1:l="  5";break;case-2:l="  6";break;case-3:l="  7"}b.push(((i.x-f.x)/e.BOND_LENGTH).toFixed(4).pack(10)),b.push((-(i.y-f.y)/e.BOND_LENGTH).toFixed(4).pack(10)),b.push((i.z/e.BOND_LENGTH).toFixed(4).pack(10)),b.push(" "),b.push(m.pack(3,!0)),b.push(j),b.push(l),b.push("  0  0  0  0\n")}for(var g=0,h=a.bonds.length;g<h;g++){var n=a.bonds[g],o=0,p=0;n.stereo===STEREO.ambiguous?o=3:n.stereo===STEREO.protruding?o=1:n.stereo===STEREO.recessed&&(o=6),"ring"===n.altLabel?p=1:"chain"===n.altLabel&&(p=2),b.push((a.atoms.indexOf(n.a1)+1).toString().pack(3)),b.push((a.atoms.indexOf(n.a2)+1).toString().pack(3));var q=n.order;.5==q?q=8:1.5==q?q=n.stereo===STEREO.recessed?6:n.stereo===STEREO.protruding?7:4:2.5==q?q=5:(q>3||q%1!=0)&&(q=1),b.push(q.toString().pack(3)),b.push("  "),b.push(o),b.push("  "),b.push(p),b.push("  0\n")}for(var r=1,s=1,g=0,h=a.atoms.length;g<h;g++){var i=a.atoms[g],t=[],u=[];if(i.rgroup>0){b.push("M  STY"),b.push(r.toString().pack(3)),b.push(s.toString().pack(4)),b.push(" SUP\n"),b.push("M  SLB"),b.push(r.toString().pack(3)),b.push(s.toString().pack(4)),b.push(s.toString().pack(4)),b.push("\n"),b.push("M  SAL"),t.push(g+1);for(var v=0,w=a.atoms.length;v<w;v++){var x=a.atoms[v];x.hideInGroup===i.rgroup&&t.push(v+1)}b.push(s.toString().pack(4)),b.push(t.length.toString().pack(3));for(var y=0,z=t.length;y<z;y++)b.push(t[y].toString().pack(4));b.push("\n"),b.push("M  SBL");for(var v=0,w=a.bonds.length;v<w;v++){var x=a.bonds[v];x.has(i)&&x.brother(i).hideInGroup!==i.rgroup&&u.push(v+1)}b.push(s.toString().pack(4)),b.push(u.length.toString().pack(3));for(var y=0,z=u.length;y<z;y++)b.push(u[y].toString().pack(4));b.push("\n"),b.push("M  SMT"),b.push(s.toString().pack(4)),b.push(" "),b.push(i.altLabel),b.push("\n"),s++}}return b.push("M  END"),b.join("")}}(ipmd,ipmd.actor,ipmd.util,ipmd.Elements),function(a,b,c,d){"use strict";a.rxnParser=function(){};var e=a.rxnParser.prototype=new a.parserIns;e.read=function(e,f){if(!f){var g=c.theme();f=g.BOND_LENGTH}try{var h,i=[];if(e){for(var j=e.split("$MOL\n"),k=j[0].split("\n"),l=k[4],m=parseInt(l.substring(0,3)),n=parseInt(l.substring(3,6)),o=1,p=0,q=0,r=m+n;q<r;q++){var s=d.readMOL(j[o],f);i[q]=s.molecules[0];var t=i[q].getBounds(),u=t.maxX-t.minX;p-=u+40,o++}for(var q=0,r=m;q<r;q++){for(var t=i[q].getBounds(),u=t.maxX-t.minX,v=i[q].getCenter(),w=0,x=i[q].atoms.length;w<x;w++){var y=i[q].atoms[w];y.x+=p+u/2-v.x,y.y-=v.y}p+=u+40}h=new b.d2.line(new a.point(p,0),new a.point(p+40,0)),p+=80;for(var q=m,r=m+n;q<r;q++){for(var t=i[q].getBounds(),u=t.maxX-t.minX,v=i[q].getCenter(),w=0;w<i[q].atoms.length;w++){var y=i[q].atoms[w];y.x+=p+u/2-v.x,y.y-=v.y}p+=u+40}}else i.push(new b.molecule),h=new b.d2.line(new a.point((-20),0),new a.point(20,0));return h.arrowType=ARROW_TYPE.synthetic,{molecules:i,shapes:[h]}}catch(z){return}},e.save=function(c,e){var f=[[],[]],g=void 0;if(c&&e){for(j=0,k=e.length;j<k;j++)if(e[j]instanceof b.d2.line){g=e[j].getPoints();break}if(void 0===g){var h=a.editor.cvs.width/2,i=a.editor.cvs.height/2;g=[{x:h,y:i},{x:h,y:i}]}for(var j=0,k=c.length;j<k;j++){var l=c[j].getCenter();l.x<g[1].x?f[0].push(c[j]):f[1].push(c[j])}var m=[];m.push("$RXN\nReaction from ipmd Web Components\n\n\n"),m.push(f[0].length.toString().pack(3)),m.push(f[1].length.toString().pack(3)),m.push("\n");for(var j=0;j<2;j++)for(var n=0,o=f[j].length;n<o;n++)m.push("$MOL\n"),m.push(d.saveMOL([f[j][n]])),m.push("\n");return m.join("")}}}(ipmd,ipmd.actor,ipmd.util,ipmd.parser),function(a,b){"use strict";var c=["INPUT","TEXTAREA"];a.monitor={},a.monitor.mDragging=void 0,a.monitor.mOver=void 0,a.monitor.kAlt=!1,a.monitor.kShift=!1,a.monitor.kCtrl=!1,b.touchEnabled()||$(document).ready(function(){$(document).mousedown(function(b){return!(a.editor.cvs&&a.editor.cvs.dialogMng&&a.editor.cvs.dialogMng.empty())||$.inArray(b.target.nodeName,c)>=0}),$(document).mousemove(function(b){a.monitor.mDragging&&a.monitor.mDragging.drag&&(a.monitor.mDragging.prehandleEvent(b),a.monitor.mDragging.drag(b))}),$(document).mouseup(function(b){a.monitor.mDragging&&a.monitor.mDragging!==a.monitor.mOver&&a.monitor.mDragging.mouseup&&(a.monitor.mDragging.prehandleEvent(b),a.monitor.mDragging.mouseup(b)),a.monitor.mDragging=void 0}),$(document).keydown(function(b){if(!a.editor.cvs||!a.editor.cvs.dialogMng||a.editor.cvs.dialogMng.empty()){a.monitor.kShift=b.shiftKey,a.monitor.kAlt=b.altKey,a.monitor.kCtrl=b.metaKey||b.ctrlKey;var c=a.monitor.mOver;a.monitor.mDragging&&(c=a.monitor.mDragging),c&&c.keydown&&(c.prehandleEvent(b),c.keydown(b))}}),$(document).keypress(function(b){if(!a.editor.cvs||!a.editor.cvs.dialogMng||a.editor.cvs.dialogMng.empty()){var c=a.monitor.mOver;a.monitor.mDragging&&(c=a.monitor.mDragging),c&&c.keypress&&(c.prehandleEvent(b),c.keypress(b))}}),$(document).keyup(function(b){if(!a.editor.cvs||!a.editor.cvs.dialogMng||a.editor.cvs.dialogMng.empty()){a.monitor.kShift=b.shiftKey,a.monitor.kAlt=b.altKey,a.monitor.kCtrl=b.metaKey||b.ctrlKey;var c=a.monitor.mOver;a.monitor.mDragging&&(c=a.monitor.mDragging),c&&c.keyup&&(c.prehandleEvent(b),c.keyup(b))}})})}(ipmd,ipmd.support),ipmd.editor={ui:{desktop:{},mobile:{}},events:{},actions:{},tools:{},display:function(a,b){var c=ipmd.editor.displayNew(a,b);return ipmd.editor.cvs=c,c},displayNew:function(a,b){var c="string"==typeof a?a:"cvEditor";if(b||(b=a instanceof Object?a:{}),!b.fixSize){var d=b.toolEnable?b.toolbar[1]+b.toolbar[3]:0,e=b.toolEnable?b.toolbar[0]+b.toolbar[2]:0,f=b.width+2*b.edge+d,g=b.height+2*b.edge+e,h=$(document).width(),i=$(document).height();h<f&&(b.width=h-2*b.edge-d-4),i<g&&(b.height=i-2*b.edge-e-2)}var j=void 0;return b.ls!==LS_TYPE.line&&"2D"!==b.vdo||(c=c.replace(/3D/,""),b.id=b.id.replace(/3D/,"")),b.single?(ipmd.userCfg.cvt=c,j=new ipmd[c](b.id,b.width,b.height,b),j.repaint()):($.extend(ipmd.userCfg,window.IPM_CFG),$.extend(ipmd.userCfg,b),j=new ipmd[c](ipmd.userCfg.id,ipmd.userCfg.width,ipmd.userCfg.height,ipmd.userCfg),j.repaint()),j},getMol:function(a){return ipmd.editor.cvs?ipmd.editor.cvs.getMol(a||"max"):""},getUrl:function(a){var b=(a.container||"container",a.width||200),c=a.height||200,d=a.bgColor||"#f8f8f8",e=a.displayType||LS_TYPE.line,f=ipmd.parser.readMOL(a.content),g="prvTrans";if(e!==LS_TYPE.line&&(g+="3D"),f&&f.molecules.length>0){var h,i,j=f.molecules[0],k=$("#"+a.container),l=10,m="2D";if(k.width(b),k.height(c),"sphere"===e&&(l=10,m="3D"),"string"==typeof g){var n=g;i={id:n,brandFill:"",single:!0,fixSize:!0,width:b,height:c,container:k,rotate3D:!0,ls:e,edge:3,bespread:!0,padding:l,bgCache:d,vdo:m,cls:"preview"},void 0===j?i.cvs=window.cvs:"string"==typeof j?i.content=j:i.mol=j}var o=ipmd.editor.displayNew("cvTransform3D",i),p=document.getElementById(o.id);return h=p.toDataURL("image/png")}ipmd.util.alertMsg(ipmd.util.i18n("parseError"))}},function(a){"use strict";a.action=function(){};var b=a.action.prototype;b.id="",b.cvs=void 0,b.forward=function(a){this.onForward(),this.detect(a)},b.reverse=function(a){this.onReverse(),this.detect(a)},b.detect=function(a){for(var b=0,c=a.molecules.length;b<c;b++)a.molecules[b].detect();a.lasso&&a.lasso.active()&&a.lasso.setBounds(),a.repaint()},b.onForward=function(){},b.onReverse=function(){}}(ipmd.editor.actions),function(a,b,c){"use strict";b.append=function(a,b,c,d){this.cvs=a,this.a=b,this.as=c,this.bs=d};var d=b.append.prototype=new b.action;d.onForward=function(){if(!this.a){var a=new c.molecule;return a.atoms=a.atoms.concat(this.as),a.bonds=a.bonds.concat(this.bs),a.detect(),void this.cvs.addActor(a)}if(this.a instanceof c.d2.shape)return void this.cvs.shapes.push(this.a);var a=this.cvs.getMol(this.a);if(a||(a=new c.molecule,this.cvs.molecules.push(a)),this.as)for(var b=0,d=this.as.length;b<d;b++)a.atoms.push(this.as[b]);if(this.bs){for(var e=[],b=0,d=this.bs.length;b<d;b++){var f=this.bs[b];if(a.atoms.indexOf(f.a1)===-1){var g=this.cvs.getMol(f.a1);e.indexOf(g)===-1&&e.push(g)}if(a.atoms.indexOf(f.a2)===-1){var g=this.cvs.getMol(f.a2);e.indexOf(g)===-1&&e.push(g)}a.bonds.push(f)}for(var b=0,d=e.length;b<d;b++){var h=e[b];h&&h.atoms&&(this.cvs.removeActor(h),a.atoms=a.atoms.concat(h.atoms),a.bonds=a.bonds.concat(h.bonds))}}},d.onReverse=function(){if(!this.a)return void this.cvs.removeActor(this.cvs.getMol(this.as[0]));if(this.a instanceof c.d2.shape)return void this.cvs.removeActor(this.a);var b=this.cvs.getMol(this.a);if(this.as){for(var d=[],e=0,f=b.atoms.length;e<f;e++)this.as.indexOf(b.atoms[e])===-1&&d.push(b.atoms[e]);b.atoms=d}if(this.bs){for(var g=[],e=0,f=b.bonds.length;e<f;e++)this.bs.indexOf(b.bonds[e])===-1&&g.push(b.bonds[e]);b.bonds=g}if(0===b.atoms.length)this.cvs.removeActor(b);else{var h=(new a.splitter).split(b);if(h.length>1){this.cvs.removeActor(b);for(var e=0,f=h.length;e<f;e++)this.cvs.molecules.push(h[e])}}}}(ipmd,ipmd.editor.actions,ipmd.actor),function(a,b){"use strict";a.updateProto=function(a,b,c,d){this.a=a,this.delta=b,this.proto=c,this.assign=d,this.assign&&(this.backup=this.a[this.proto])};var c=a.updateProto.prototype=new a.action;c.onForward=function(){this.assign?this.a[this.proto]=this.delta:this.a[this.proto]+=this.delta},c.onReverse=function(){this.assign?this.a[this.proto]=this.backup:this.a[this.proto]-=this.delta},a.updateProtos=function(a,b,c,d){if(this.as=a,this.delta=b,this.proto=c,this.assign=d,this.assign){this.backup=[];for(var e=0,f=this.as.length;e<f;e++)this.backup.push(this.as[e][this.proto])}};var c=a.updateProtos.prototype=new a.action;c.onForward=function(){if(this.assign)for(var a=0,b=this.as.length;a<b;a++)this.as[a][this.proto]=this.delta;else for(var a=0,b=this.as.length;a<b;a++)this.as[a][this.proto]+=this.delta},c.onReverse=function(){if(this.assign)for(var a=0,b=this.as.length;a<b;a++)this.as[a][this.proto]=this.backup[a];else for(var a=0,b=this.as.length;a<b;a++)this.as[a][this.proto]-=this.delta},a.updateSwap=function(a,b){this.a=a,this.b=b};var d=a.updateSwap.prototype=new a.action;d.onForward=function(){b.swap(this.a,this.b)},d.onReverse=function(){b.swap(this.a,this.b)},a.updateBond=function(a,b,c,d,e,f){"string"==typeof b&&(d=b,b=void 0),this.b=a,this.orderSaved=a.order,this.stereoSaved=a.stereo,this.altLabelSaved=a.altLabel,this.thickSaved=a.thick,this.orderNew=void 0!==b||f?b:a.order,this.stereoNew=void 0!==c||f?c:a.stereo,this.altLabelNew=void 0!==d||f?d:a.altLabel,this.thickNew=void 0!==e||f?e:a.thick,void 0!==b||void 0!==c||void 0!==d||void 0!==e||f||(this.orderNew=Math.floor(a.order+1),this.orderNew>3&&(this.orderNew=1))};var e=a.updateBond.prototype=new a.action;e.onForward=function(){this.b.order=this.orderNew,this.b.stereo=this.stereoNew,this.b.altLabel=this.altLabelNew,this.b.thick=this.thickNew},e.onReverse=function(){this.b.order=this.orderSaved,this.b.stereo=this.stereoSaved,this.b.altLabel=this.altLabelSaved,this.b.thick=this.thickSaved},a.updateCoord=function(a,b){this.as=a,this.recs=[];for(var c=0,d=this.as.length;c<d;c++)this.recs[c]={xo:this.as[c].x,yo:this.as[c].y,xn:b[c].x,yn:b[c].y}};var f=a.updateCoord.prototype=new a.action;f.onForward=function(){for(var a=0,b=this.as.length;a<b;a++)this.as[a].x=this.recs[a].xn,this.as[a].y=this.recs[a].yn},f.onReverse=function(){for(var a=0,b=this.as.length;a<b;a++)this.as[a].x=this.recs[a].xo,this.as[a].y=this.recs[a].yo},a.updateMove=function(a,b){this.ps=a,this.dif=b};var g=a.updateMove.prototype=new a.action;g.onForward=function(){for(var a=0,b=this.ps.length;a<b;a++)this.ps[a].add(this.dif)},g.onReverse=function(){for(var a=0,b=this.ps.length;a<b;a++)this.ps[a].sub(this.dif)},a.updateRotate=function(a,b,c){this.ps=a,this.dif=b,this.center=c};var h=a.updateRotate.prototype=new a.action;h.onForward=function(){for(var a=0,b=this.ps.length;a<b;a++){var c=this.ps[a],d=this.center.distance(c),e=this.center.angle(c)+this.dif;c.x=this.center.x+d*Math.cos(e),c.y=this.center.y-d*Math.sin(e)}},h.onReverse=function(){for(var a=0,b=this.ps.length;a<b;a++){var c=this.ps[a],d=this.center.distance(c),e=this.center.angle(c)-this.dif;c.x=this.center.x+d*Math.cos(e),c.y=this.center.y-d*Math.sin(e)}},a.updateCvs=function(a,b,c,d,e){this.cvs=a,this.molsSaved=this.cvs.molecules,this.shapesSaved=this.cvs.shapes,this.mol=b,this.mols=c,this.shapes=d,this.ignoreCenter=e};var i=a.updateCvs.prototype=new a.action;i.onForward=function(){this.mol?this.cvs.loadActors(this.mol,null,this.ignoreCenter):this.cvs.loadActors(this.mols,this.shapes,this.ignoreCenter)},i.onReverse=function(){this.cvs.molecules=this.molsSaved,this.cvs.shapes=this.shapesSaved}}(ipmd.editor.actions,ipmd.util),function(a,b){"use strict";a.clear=function(a){this.cvs=a,this.molsSaved=this.cvs.molecules,this.shapesSaved=this.cvs.shapes,this.cvs.clear(),this.cvs.oneMol&&!this.cvs.updTheme&&(this.newMol=new b.molecule,this.newMol.atoms.push(new b.atom),this.cvs.molecules.push(this.newMol),this.cvs.center(),this.cvs.repaint())};var c=a.clear.prototype=new a.action;c.onForward=function(){this.cvs.molecules=[],this.cvs.shapes=[],this.cvs.oneMol&&!this.cvs.updTheme&&this.cvs.molecules.push(this.newMol)},c.onReverse=function(){this.cvs.molecules=this.molsSaved,this.cvs.shapes=this.shapesSaved}}(ipmd.editor.actions,ipmd.actor),function(a,b,c){"use strict";b.remove=function(a,b,c,d,e){if(this.cvs=a,this.a=b,this.as=c,this.bs=d||[],this.ss=e||[],!b)for(var f=0,g=this.cvs.molecules.length;f<g;f++)for(var h=this.cvs.molecules[f],i=0,j=h.bonds.length;i<j;i++){var k=h.bonds[i];k.a1.lassoed&&k.a2.lassoed&&this.bs.push(k)}};var d=b.remove.prototype=new b.action;d.onForward=function(){if(!this.a){for(var b=0,d=this.ss.length;b<d;b++)this.cvs.removeActor(this.ss[b]);for(var e=[],f=[],b=0,d=this.cvs.molecules.length;b<d;b++){for(var g=this.cvs.molecules[b],h=0,i=g.atoms.length;h<i;h++){var j=g.atoms[h];this.as.indexOf(j)===-1&&e.push(j)}for(var h=0,i=g.bonds.length;h<i;h++){var k=g.bonds[h];this.bs.indexOf(k)===-1&&f.push(k)}}return void(this.cvs.molecules=(new a.splitter).split({atoms:e,bonds:f}))}if(this.a instanceof c.shape)return void this.cvs.removeActor(this.a);var g=this.cvs.getMol(this.a);if(this.as){for(var l=[],b=0,d=g.atoms.length;b<d;b++)this.as.indexOf(g.atoms[b])===-1&&l.push(g.atoms[b]);g.atoms=l}if(this.bs){for(var m=[],b=0,d=g.bonds.length;b<d;b++)this.bs.indexOf(g.bonds[b])===-1&&m.push(g.bonds[b]);g.bonds=m}if(0===g.atoms.length)this.cvs.removeActor(g);else{var n=(new a.splitter).split(g);if(n.length>1){this.cvs.removeActor(g);for(var b=0,d=n.length;b<d;b++)this.cvs.molecules.push(n[b])}}for(var b=0,d=this.ss.length;b<d;b++)this.cvs.removeActor(this.ss[b])},d.onReverse=function(){if(!this.a){this.cvs.shapes=this.cvs.shapes.concat(this.ss);for(var b=[],d=[],e=0,f=this.cvs.molecules.length;e<f;e++){var g=this.cvs.molecules[e];b=b.concat(g.atoms),d=d.concat(g.bonds)}return void(this.cvs.molecules=(new a.splitter).split({atoms:b.concat(this.as),bonds:d.concat(this.bs)}))}if(this.a instanceof c.shape)return void this.cvs.shapes.push(this.a);var g=this.cvs.getMol(this.a);if(g||(g=new actor.molecule,this.cvs.molecules.push(g)),this.as)for(var e=0,f=this.as.length;e<f;e++)g.atoms.push(this.as[e]);if(this.bs){for(var h=[],e=0,f=this.bs.length;e<f;e++){var i=this.bs[e];if(g.atoms.indexOf(i.a1)===-1){var j=this.cvs.getMol(i.a1);h.indexOf(j)===-1&&h.push(j)}if(g.atoms.indexOf(i.a2)===-1){var j=this.cvs.getMol(i.a2);h.indexOf(j)===-1&&h.push(j)}g.bonds.push(i)}for(var e=0,f=h.length;e<f;e++){var k=h[e];this.cvs.removeActor(k),g.atoms=g.atoms.concat(k.atoms),g.bonds=g.bonds.concat(k.bonds)}}this.ss.length>0&&(this.cvs.shapes=this.cvs.shapes.concat(this.ss))}}(ipmd,ipmd.editor.actions,ipmd.actor.d2),function(a,b,c,d){"use strict";function e(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d].y<=b.y&&b.y<a[f].y||a[f].y<=b.y&&b.y<a[d].y)&&b.x<(a[f].x-a[d].x)*(b.y-a[d].y)/(a[f].y-a[d].y)+a[d].x&&(c=!c);return c}c.lasso=function(a){this.cvs=a,this.atoms=[],this.shapes=[],this.bounds=void 0,this.mode=LASSO_MODE.lasso,this.points=[]};var f=c.lasso.prototype;f.select=function(a,c){if(!this.block){if(b.kShift||this.reset(),a)this.atoms=a.slice(0),this.shapes=c.slice(0);else{if(this.mode!==LASSO_MODE.shapes){for(var d=[],f=0,g=this.cvs.molecules.length;f<g;f++)for(var h=this.cvs.molecules[f],i=0,j=h.atoms.length;i<j;i++){var k=h.atoms[i];this.mode===LASSO_MODE.rect?2===this.points.length&&k.x.between(this.points[0].x,this.points[1].x)&&k.y.between(this.points[0].y,this.points[1].y)&&d.push(k):this.points.length>1&&e(this.points,k)&&d.push(k)}if(0===this.atoms.length)this.atoms=d;else{for(var l=[],f=0,g=this.atoms.length;f<g;f++){var k=this.atoms[f];d.indexOf(k)===-1?l.push(k):k.lassoed=!1}for(var f=0,g=d.length;f<g;f++)this.atoms.indexOf(d[f])===-1&&l.push(d[f]);this.atoms=l}}for(var m=[],f=0,g=this.cvs.shapes.length;f<g;f++){for(var n=this.cvs.shapes[f],o=n.getPoints(),p=o.length>0,i=0,j=o.length;i<j;i++){var q=o[i];if(this.mode===LASSO_MODE.rect){if(2!==this.points.length){p=!1;break}if(!q.x.between(this.points[0].x,this.points[1].x)||!q.y.between(this.points[0].y,this.points[1].y)){p=!1;break}}else{if(!(this.points.length>1)){p=!1;break}if(!e(this.points,q)){p=!1;break}}}p&&m.push(n)}if(0===this.shapes.length)this.shapes=m;else{for(var r=[],f=0,g=this.shapes.length;f<g;f++){var n=this.shapes[f];m.indexOf(n)===-1?r.push(n):n.lassoed=!1}for(var f=0,g=m.length;f<g;f++)this.shapes.indexOf(m[f])===-1&&r.push(m[f]);this.shapes=r}}for(var f=0,g=this.atoms.length;f<g;f++)this.atoms[f].lassoed=!0;for(var f=0,g=this.shapes.length;f<g;f++)this.shapes[f].lassoed=!0;this.setBounds(),this.bounds&&this.bounds.minX===1/0&&this.reset(),this.points=[],this.cvs.eventMng.dispatch("clearFocus"),this.updateTools(),this.cvs.repaint()}},f.updateTools=function(){this.atoms.length>0?this.cvs.toolMng.enableBtns("clean","calculate"):this.cvs.toolMng.disableBtns("clean","calculate")},f.setBounds=function(){if(this.active()){this.cvs.repaint(),this.bounds=new a.bounds;for(var b=0,c=this.atoms.length;b<c;b++){var d=this.atoms[b];this.bounds.expand(d.getBounds())}for(var b=0,c=this.shapes.length;b<c;b++)this.bounds.expand(this.shapes[b].getBounds());var e=this.cvs.theme.LASSO_R+1;this.bounds.minX-=e,this.bounds.minY-=e,this.bounds.maxX+=e,this.bounds.maxY+=e}else this.points=[],this.bounds=void 0},f.reset=function(){for(var a=0,b=this.atoms.length;a<b;a++)this.atoms[a].lassoed=!1;for(var a=0,b=this.shapes.length;a<b;a++)this.shapes[a].lassoed=!1;this.atoms=[],this.shapes=[],this.bounds=void 0,this.updateTools(),this.cvs.repaint()},f.active=function(){return this.atoms.length>0||this.shapes.length>0},f.lassoCount=function(){return this.shapes.length>0?Math.max(2,this.atoms.length+this.shapes.length):this.atoms.length},f.getHead=function(){if(this.atoms.length>0)return this.cvs.getMol(this.atoms[0])},f.getAllPoints=function(){for(var a=this.atoms,b=0,c=this.shapes.length;b<c;b++)a=a.concat(this.shapes[b].getPoints());return a},f.addPoint=function(a){if(this.mode===LASSO_MODE.rect)if(this.points.length<2)this.points.push(a);else{var b=this.points[1];b.x=a.x,b.y=a.y}else this.points.push(a)},f.draw=function(a,b){if(a.strokeStyle=b.LASSO_COLOR,a.lineWidth=b.LASSO_LINE_WIDTH/b.SCALE,this.points.length>0)if(this.mode===LASSO_MODE.rect){if(2===this.points.length){var c=this.points[0],d=this.points[1];a.beginPath(),a.rect(c.x,c.y,d.x-c.x,d.y-c.y),a.stroke()}}else if(this.points.length>1){a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y);for(var e=1,f=this.points.length;e<f;e++)a.lineTo(this.points[e].x,this.points[e].y);a.closePath(),a.stroke()}this.bounds&&(a.beginPath(),a.rect(this.bounds.minX,this.bounds.minY,this.bounds.maxX-this.bounds.minX,this.bounds.maxY-this.bounds.minY),a.stroke(),a.strokeStyle=b.LASSO_V_COLOR,a.fillStyle=b.LASSO_V_COLOR,a.beginPath(),a.circle(this.bounds.minX,this.bounds.minY,b.LASSO_V_R,!0),a.stroke(),a.beginPath(),a.circle(this.bounds.minX,this.bounds.maxY,b.LASSO_V_R,!0),a.stroke(),a.beginPath(),a.circle(this.bounds.maxX,this.bounds.minY,b.LASSO_V_R,!0),a.stroke(),a.beginPath(),a.circle(this.bounds.maxX,this.bounds.maxY,b.LASSO_V_R,!0),a.stroke())}}(ipmd,ipmd.monitor,ipmd.actor.d2,ipmd.util),function(a,b,c,d,e,f){"use strict";var g={};c.event=function(){};var h=c.event.prototype;h.id=void 0,h.cvs=void 0,h.delta=1,h.setup=function(a,b){this.cvs=a,this.id=b},h.clearFocus=function(){this.cvs.focusActor&&(this.cvs.focusActor.hOver=!1,this.cvs.focusActor.selected=!1,this.cvs.focusActor=void 0)},h.detectFocus=function(a,b,c,d){var e,f=1/0,g=this.cvs.theme.BOND_LENGTH;if(this.clearFocus(),this.cvs.touchEnable||(g/=this.cvs.theme.SCALE),b)for(var h=0,i=this.cvs.molecules.length;h<i;h++){var j=this.cvs.molecules[h];if(void 0===j)return;for(var k=0,l=j.atoms.length;k<l;k++){var m=j.atoms[k];if(void 0===m)return;if(m.hOver=!1,0===m.hideInGroup){var n=a.p.distance(m);n<g&&n<f&&(f=n,e=m)}}}if(c)for(var h=0,i=this.cvs.molecules.length;h<i;h++){var j=this.cvs.molecules[h];if(void 0===j)return;for(var k=0,l=j.bonds.length;k<l;k++){var o=j.bonds[k];if(void 0===o)return;if(o.hOver=!1,!o.hideInGroup()){var n=a.p.distance(o.getCenter());n<g&&n<f&&(f=n,e=o)}}}if(d){for(var h=0,i=this.cvs.shapes.length;h<i;h++){var p=this.cvs.shapes[h];if(void 0===p)return;p.hOver=!1,p.hoverPoint=void 0;for(var q=p.getPoints(),k=0,l=q.length;k<l;k++){var r=q[k],n=a.p.distance(r);n<g&&n<f&&(f=n,e=p,n<2*this.cvs.theme.FOCUS_R&&(p.hoverPoint=r))}}if(!e)for(var h=0,i=this.cvs.shapes.length;h<i;h++){var p=this.cvs.shapes[h];if(void 0===p)return;p.isOver(a.p,g)&&(e=p)}}e&&(e.hOver=!0,this.cvs.focusActor=e)},h.angleOpt=function(a,b){var c=this.cvs.getMol(a),d=c.getAngles(a),e=0;if(0===d.length)e=Math.PI/6;else if(1===d.length){for(var g,h=0,i=c.bonds.length;h<i;h++)c.bonds[h].has(this.cvs.focusActor)&&(g=c.bonds[h]);if(g&&g.order>=3||b>=3)e=d[0]+Math.PI;else{var j=d[0]%Math.PI*2;e=j.between(0,Math.PI/2)||j.between(Math.PI,3*Math.PI/2)?d[0]+2*Math.PI/3:d[0]-2*Math.PI/3}}else{for(var k,h=0,i=c.rings.length;h<i;h++){var l=c.rings[h];l.atoms.indexOf(a)!==-1&&(d.push(a.angle(l.getCenter())),k=!0)}k&&d.sort(),e=f.optAngle(d).angle}return e},h.removeStartAtom=function(b){this.cvs.startAtom&&(b||(this.cvs.startAtom.altLabel=void 0),this.cvs.startAtom.x=a.startAtomOffset,
this.cvs.startAtom.y=a.startAtomOffset,this.cvs.repaint())},h.enter=function(){},h.exit=function(){},h.mousemove=function(a){this.onMousemove(a),this.cvs.repaint()},h.onMousemove=function(a){},h.mouseover=function(a){},h.mousedown=function(a){$(".dropdiv").fadeOut(),this.cvs.dialogMng.dlgRMenu.visible()&&this.cvs.dialogMng.dlgRMenu.disable(),this.cvs.dialogMng.dlgInput.visible()&&this.cvs.dialogMng.dlgInput.disable(),this.cvs.dialogMng.dlgPreview.visible()&&this.cvs.dialogMng.dlgPreview.disable(),this.cvs.lastPoint=a.p,this.onMousedown(a)},h.onMousedown=function(a){},h.mouseup=function(a){this.parentAction=void 0,this.onMouseup(a)},h.onMouseup=function(a){},h.click=function(a){},h.middlemousedown=function(a){this.cvs.lastPoint=a.p},h.middlemouseup=function(a){this.parentAction=void 0},h.rightmousedown=function(a){},h.rightmouseup=function(a){this.cvs.dialogMng.dlgRMenu.repos(a,this.cvs.focusActor),this.cvs.dialogMng.openDlg(this.cvs.dialogMng.dlgRMenu)},h.rightclick=function(a){},h.dblclick=function(b){if(this.onDblclick(b),!this.cvs.focusActor&&this.cvs.oneMol){var c=new a.point(this.cvs.width/2,this.cvs.height/2),d=this.cvs.getBounds();c.x-=(d.maxX+d.minX)/2,c.y-=(d.maxY+d.minY)/2,this.cvs.actionMng.push(new e.updateMove(this.cvs.getAllPoints(),c))}},h.onDblclick=function(a){},h.mousewheel=function(a,b){this.onMousewheel(a),this.cvs.theme.SCALE+=b/50,this.cvs.clampScale(),this.cvs.repaint()},h.onMousewheel=function(a){},h.mouseout=function(a){this.onMouseout(a),this.cvs.focusActor&&b.mDragging!=this.cvs&&(this.cvs.focusActor=void 0,this.cvs.repaint())},h.onMouseout=function(a){},h.drag=function(c){if(2==c.which){var f=new a.point(c.p.x,c.p.y);if(this.cvs.focusActor)if(this.parentAction){f.sub(this.cvs.lastPoint||c.p),this.parentAction.dif.add(f);for(var g=0,h=this.parentAction.ps.length;g<h;g++)this.parentAction.ps[g].add(f);for(var g=0,h=this.cvs.molecules.length;g<h;g++)this.cvs.molecules[g].detect();this.cvs.repaint()}else{var i=[];this.cvs.focusActor instanceof d.atom?(f.sub(this.cvs.focusActor),i[0]=this.cvs.focusActor):this.cvs.focusActor instanceof d.bond?(f.sub(this.cvs.lastPoint),i[0]=this.cvs.focusActor.a1,i[1]=this.cvs.focusActor.a2):this.cvs.focusActor instanceof d.d2.shape&&(f.sub(this.cvs.lastPoint),i=this.cvs.focusActor.hoverPoint?[this.cvs.focusActor.hoverPoint]:this.cvs.focusActor.getPoints()),this.parentAction=new e.updateMove(i,f),this.cvs.actionMng.push(this.parentAction)}else if(f.sub(this.cvs.lastPoint||c.p),this.parentAction){this.parentAction.dif.add(f);for(var g=0,h=this.parentAction.ps.length;g<h;g++)this.parentAction.ps[g].add(f);this.cvs.lasso&&this.cvs.lasso.active()&&(this.cvs.lasso.bounds.minX+=f.x,this.cvs.lasso.bounds.maxX+=f.x,this.cvs.lasso.bounds.minY+=f.y,this.cvs.lasso.bounds.maxY+=f.y);for(var g=0,h=this.cvs.molecules.length;g<h;g++)this.cvs.molecules[g].detect()}else this.parentAction=new e.updateMove(this.cvs.getAllPoints(),f),this.cvs.actionMng.push(this.parentAction);return this.cvs.repaint(),void(this.cvs.lastPoint=c.p)}this.onDrag(c);var j="eLasso"===this.id||"eShape"===this.id||"eCombine"===this.id||"eBezier"===this.id||"eErase"===this.id;if(!this.cvs.focusActor&&!j){if(b.kShift)if(this.parentAction){var k=this.parentAction.center,l=k.angle(this.cvs.lastPoint),m=k.angle(c.p),n=m-l;this.parentAction.dif+=n;for(var g=0,h=this.parentAction.ps.length;g<h;g++){var o=this.parentAction.ps[g],p=k.distance(o),q=k.angle(o)+n;o.x=k.x+p*Math.cos(q),o.y=k.y-p*Math.sin(q)}for(var g=0,h=this.cvs.molecules.length;g<h;g++)this.cvs.molecules[g].detect()}else{var k=new a.point(this.cvs.width/2,this.cvs.height/2),l=k.angle(this.cvs.lastPoint),m=k.angle(c.p),n=m-l;this.parentAction=new e.updateRotate(this.cvs.getAllPoints(),n,k),this.cvs.actionMng.push(this.parentAction)}else if(!this.cvs.lastPoint)return;this.cvs.repaint()}this.cvs.lastPoint=c.p},h.onDrag=function(a){},h.keydown=function(c){if(b.mDragging===this.cvs)this.cvs.lastPoint&&(c.p=this.cvs.lastPoint,this.drag(c));else if(b.kCtrl)90===c.which?this.cvs.actionMng.undo():89===c.which?this.cvs.actionMng.redo():83===c.which?this.cvs.toolMng.clickBtn("export"):79===c.which?this.cvs.toolMng.clickBtn("import"):88===c.which?this.cvs.toolMng.clickBtn("cut"):67===c.which?this.cvs.toolMng.clickBtn("copy"):86===c.which?this.cvs.toolMng.clickBtn("paste"):84===c.which?this.cvs.forbid("autosave",!0)||this.cvs.autosave():65===c.which&&(this.cvs.oneMol||(this.cvs.toolMng.clickBtn("lassoSelect"),this.cvs.lasso.select(this.cvs.getAllAtoms(),this.cvs.shapes)));else if(9===c.which){if(!this.cvs.oneMol)if(this.cvs.lasso.block=!0,this.cvs.toolMng.clickBtn("lassoSelect"),this.cvs.lasso.block=!1,b.kShift){if(this.cvs.shapes.length>0){var h=this.cvs.shapes.length-1;this.cvs.lasso.shapes.length>0&&(h=this.cvs.shapes.indexOf(this.cvs.lasso.shapes[0])+1),h===this.cvs.shapes.length&&(h=0),this.cvs.lasso.reset(),this.cvs.lasso.select([],[this.cvs.shapes[h]])}}else if(this.cvs.molecules.length>0){var h=this.cvs.molecules.length-1;if(this.cvs.lasso.atoms.length>0){var i=this.cvs.getMol(this.cvs.lasso.atoms[0]);h=this.cvs.molecules.indexOf(i)+1}h===this.cvs.molecules.length&&(h=0),this.cvs.lasso.select(this.cvs.molecules[h].atoms,[])}}else if(32===c.which)this.cvs.resetLasso();else if(46===c.which){if(this.cvs.lasso){for(var j=[],k=0,l=this.cvs.lasso.atoms.length;k<l;k++){var m=this.cvs.lasso.atoms[k],n=this.cvs.getMol(m),o=n.getBonds(m);j=$.merge(j,o)}this.cvs.actionMng.push(new e.remove(this.cvs,null,this.cvs.lasso.atoms,j,this.cvs.lasso.shapes)),this.cvs.lasso.reset()}}else if(c.which>=37&&c.which<=40){var p=new a.point;switch(c.which){case 37:p.x=-10;break;case 38:p.y=-10;break;case 39:p.x=10;break;case 40:p.y=10}this.cvs.actionMng.push(new e.updateMove(this.cvs.lasso&&this.cvs.lasso.active()?this.cvs.lasso.getAllPoints():this.cvs.getAllPoints(),p))}else if(187===c.which||189===c.which||61===c.which||109===c.which)this.cvs.focusActor&&this.cvs.focusActor instanceof d.atom&&this.cvs.actionMng.push(new e.updateProto(this.cvs.focusActor,187===c.which||61===c.which?1:-1,"charge"));else if(8===c.which||127===c.which)this.cvs.eventMng.getEvent(EVENT.erase).onMouseup();else if(c.which>=48&&c.which<=57){if(this.cvs.focusActor){var q,r=c.which-48,s=[],o=[];if(this.cvs.focusActor instanceof d.atom)if(q=this.cvs.focusActor,b.kShift){if(r>2&&r<9){var n=this.cvs.getMol(this.cvs.focusActor),t=n.getAngles(this.cvs.focusActor),u=3*Math.PI/2;0!==t.length&&(u=f.optAngle(t).angle);var v=this.cvs.eventMng.getEvent(EVENT.genRing),w=v.getRing(this.cvs.focusActor,r,this.cvs.theme.BOND_LENGTH,u,!1);n.atoms.indexOf(w[0])===-1&&s.push(w[0]),this.cvs.getBond(this.cvs.focusActor,w[0])||o.push(new d.bond(this.cvs.focusActor,w[0]));for(var k=1,l=w.length;k<l;k++)n.atoms.indexOf(w[k])===-1&&s.push(w[k]),this.cvs.getBond(w[k-1],w[k])||o.push(new d.bond(w[k-1],w[k]));this.cvs.getBond(w[w.length-1],this.cvs.focusActor)||o.push(new d.bond(w[w.length-1],this.cvs.focusActor))}}else{0===r&&(r=10);for(var x=new a.point(this.cvs.focusActor.x,this.cvs.focusActor.y),m=this.angleOpt(this.cvs.focusActor),y=this.cvs.focusActor,z=0;z<r;z++){var A=m+(z%2===1?Math.PI/3:0);x.x+=this.cvs.theme.BOND_LENGTH*Math.cos(A),x.y-=this.cvs.theme.BOND_LENGTH*Math.sin(A);for(var B,C=new d.atom("C",x.x,x.y),D=1/0,k=0,l=this.cvs.molecules.length;k<l;k++)for(var n=this.cvs.molecules[k],E=0,F=n.atoms.length;E<F;E++){var G=n.atoms[E],H=G.distance(C);H<D&&(D=H,B=G)}D<5?C=B:s.push(C),this.cvs.getBond(y,C)||o.push(new d.bond(y,C)),y=C}}else if(this.cvs.focusActor instanceof d.bond)if(q=this.cvs.focusActor.a1,b.kShift){if(r>2&&r<9){var v=this.cvs.eventMng.getEvent(EVENT.genRing),w=v.getOptimalRing(this.cvs.focusActor,r),I=this.cvs.focusActor.a2,J=this.cvs.focusActor.a1,n=this.cvs.getMol(I);w[0]===this.cvs.focusActor.a1&&(I=this.cvs.focusActor.a1,J=this.cvs.focusActor.a2),n.atoms.indexOf(w[1])===-1&&s.push(w[1]),this.cvs.getBond(I,w[1])||o.push(new d.bond(I,w[1]));for(var k=2,l=w.length;k<l;k++)n.atoms.indexOf(w[k])===-1&&s.push(w[k]),this.cvs.getBond(w[k-1],w[k])||o.push(new d.bond(w[k-1],w[k]));this.cvs.getBond(w[w.length-1],J)||o.push(new d.bond(w[w.length-1],J))}}else if(r>0&&r<4&&this.cvs.focusActor.order!==r)this.cvs.actionMng.push(new e.updateBond(this.cvs.focusActor,r,STEREO.none));else if(7===r||8===r){var K=STEREO.recessed;7===r&&(K=STEREO.protruding),this.cvs.actionMng.push(new e.updateBond(this.cvs.focusActor,1,K))}0===s.length&&0===o.length||this.cvs.actionMng.push(new e.append(this.cvs,q,s,o))}}else if(c.which>=65&&c.which<=90)if(this.cvs.focusActor)if(this.cvs.focusActor instanceof d.atom){for(var L,M,N=String.fromCharCode(c.which),O=!1,E=0,F=ELEMENT.length;E<F;E++)if(this.cvs.focusActor.label.charAt(0)===N)ELEMENT[E][0]===this.cvs.focusActor.label?O=!0:ELEMENT[E][0].charAt(0)===N&&(O&&!M?M=ELEMENT[E][0]:L||(L=ELEMENT[E][0]));else if(ELEMENT[E][0].charAt(0)===N){L=ELEMENT[E][0];break}var C="C";M?C=M:L&&(C=L),C!==this.cvs.focusActor.label&&this.cvs.actionMng.push(new e.updateProto(this.cvs.focusActor,C,"label",(!0)))}else this.cvs.focusActor instanceof d.bond&&70===c.which&&this.cvs.actionMng.push(new e.updateSwap(this.cvs.focusActor));else{var P=g[c.which.toString()];P&&this.cvs.toolMng.selectBtn(P)}this.onKeydown(c)},h.onKeydown=function(a){},h.keyup=function(a){b.mDragging===this.cvs&&this.cvs.lastPoint&&(a.p=this.cvs.lastPoint,this.cvs.drag(a)),this.onKeyup(a)},h.onKeyup=function(a){},h.keypress=function(a){}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.editor.actions,ipmd.util),function(a,b){"use strict";a.eCharge=function(a,b){this.setup(a,b)};var c=a.eCharge.prototype=new a.event;c.onMousemove=function(a){this.detectFocus(a,!0,!1)},c.onMouseup=function(a){this.cvs.focusActor&&this.cvs.actionMng.push(new b.updateProto(this.cvs.focusActor,this.delta,"charge"))}}(ipmd.editor.events,ipmd.editor.actions),function(a,b,c,d){"use strict";b.eErase=function(a,b){this.setup(a,b)};var e=b.eErase.prototype=new b.event;e.onMousemove=function(a){this.detectFocus(a,!0,!0,!0)},e.onMousedown=function(a){this.dragging=!1,this.cvs.lasso&&this.cvs.lasso.active()||this.cvs.focusActor||(this.cvs.lastPoint=void 0,this.cvs.lasso.addPoint(a.p))},e.onMouseup=function(b){if(this.dragging)return void this.cvs.lasso.select();if(this.cvs.lasso&&this.cvs.lasso.active()){for(var e=[],f=0,g=this.cvs.lasso.atoms.length;f<g;f++){var h=this.cvs.lasso.atoms[f],i=this.cvs.getMol(h),j=i.getBonds(h);e=$.merge(e,j)}this.cvs.actionMng.push(new d.remove(this.cvs,null,this.cvs.lasso.atoms,e,this.cvs.lasso.shapes)),this.cvs.resetLasso()}else if(this.cvs.focusActor){if(this.cvs.focusActor instanceof c.atom)if(this.cvs.oneMol){for(var i=this.cvs.molecules[0],k=0,l=i.atoms.length;k<l;k++)i.atoms[k].visited=!1;var m=[],n=[];this.cvs.focusActor.visited=!0;for(var k=0,l=i.bonds.length;k<l;k++){var o=i.bonds[k];if(o.has(this.cvs.focusActor)){var p=[],e=[],q=new a.queue;for(q.push(o.brother(this.cvs.focusActor));!q.empty();){var h=q.pop();if(!h.visited){h.visited=!0,p.push(h);for(var r=0,s=i.bonds.length;r<s;r++){var t=i.bonds[r];t.has(h)&&!t.brother(h).visited&&(q.push(t.brother(h)),e.push(t))}}}m.push(p),n.push(e)}}for(var u=-1,v=-1,k=0,l=m.length;k<l;k++)m[k].length>u&&(v=k,u=m[k].length);if(v>-1){for(var w,x=[],j=[],f=0,g=i.atoms.length;f<g;f++){var h=i.atoms[f];m[v].indexOf(h)===-1?x.push(h):w||(w=h)}for(var f=0,g=i.bonds.length;f<g;f++){var y=i.bonds[f];n[v].indexOf(y)===-1&&j.push(y)}this.cvs.actionMng.push(new d.remove(this.cvs,w,x,j))}else this.cvs.actionMng.push(new d.clear(this.cvs))}else{var i=this.cvs.getMol(this.cvs.focusActor);this.cvs.actionMng.push(new d.remove(this.cvs,i.atoms[0],[this.cvs.focusActor],i.getBonds(this.cvs.focusActor)))}else this.cvs.focusActor instanceof c.bond?this.cvs.oneMol&&!this.cvs.focusActor.ring||this.cvs.actionMng.push(new d.remove(this.cvs,this.cvs.focusActor.a1,(void 0),[this.cvs.focusActor])):this.cvs.focusActor instanceof c.d2.shape&&this.cvs.actionMng.push(new d.remove(this.cvs,this.cvs.focusActor));this.cvs.focusActor=void 0,this.cvs.repaint()}for(var f=this.cvs.shapes.length-1;f>=0;f--){var z=this.cvs.shapes[f];if(z instanceof c.d2.bezier){for(var A=!1,B=!1,k=0,l=this.cvs.molecules.length;k<l;k++){for(var i=this.cvs.molecules[k],r=0,s=i.atoms.length;r<s;r++){var h=i.atoms[r];h===z.o1?A=!0:h===z.o2&&(B=!0)}for(var r=0,s=i.bonds.length;r<s;r++){var y=i.bonds[r];y===z.o1?A=!0:y===z.o2&&(B=!0)}}A&&B||(this.cvs.actionMng.undoStack[this.cvs.actionMng.undoStack.length-1].ss.push(z),this.cvs.removeActor(z))}}},e.onDrag=function(a){this.dragging=!0,this.cvs.lasso.addPoint(a.p),this.cvs.repaint()}}(ipmd,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b,c,d,e){"use strict";c.eLabel=function(a,b){this.setup(a,b)};var f=c.eLabel.prototype=new c.event;f.label="C",f.exit=function(){this.removeStartAtom()},f.onMousemove=function(b){this.detectFocus(b,!0,!1),this.cvs.startAtom&&(this.cvs.focusActor?(this.cvs.startAtom.x=a.startAtomOffset,this.cvs.startAtom.y=a.startAtomOffset):(this.cvs.startAtom.x=b.p.x,this.cvs.startAtom.y=b.p.y))},f.onMousedown=function(a){this.cvs.resetLasso(),this.genEnable=!0,this.cvs.focusActor&&(this.cvs.focusActor.hOver=!1,this.cvs.focusActor.selected=!0,this.cvs.repaint())},f.onMouseup=function(a){if(this.cvs.focusActor){if(this.cvs.focusActor.selected=!1,this.cvs.tempAtom){var b=new d.bond(this.cvs.focusActor,this.cvs.tempAtom);this.cvs.actionMng.push(new e.append(this.cvs,b.a1,[b.a2],[b])),this.cvs.tempAtom=void 0}else if(this.label!==this.cvs.focusActor.label){if(0!==this.cvs.focusActor.rgroup){for(var c=this.cvs.getMol(this.cvs.focusActor),f=c.atoms,g=1,h=f.length;g<h;g++)f[g].hideInGroup===this.cvs.focusActor.rgroup&&this.cvs.actionMng.push(new e.remove(this.cvs,c.atoms[0],[f[g]],c.getBonds(f[g])),!0);this.cvs.actionMng.push(new e.updateProto(this.cvs.focusActor,(void 0),"altLabel",(!0)),!0)}this.cvs.actionMng.push(new e.updateProto(this.cvs.focusActor,this.label,"label",(!0)))}}else this.cvs.oneMol&&!this.cvs.empty()||!this.genEnable||this.cvs.actionMng.push(new e.append(this.cvs,null,[new d.atom(this.label,a.p.x,a.p.y)],[]));this.cvs.touchEnable||this.mousemove(a)},f.onMouseout=function(a){this.removeStartAtom(!0)},f.onDrag=function(a){if(this.cvs.focusActor){this.genEnable=!1;var c=this.cvs.focusActor.distance(a.p);if(c<9)this.cvs.tempAtom=void 0;else if(a.p.distance(this.cvs.focusActor)<15){var e=this.angleOpt(this.cvs.focusActor),f=this.cvs.focusActor.x+this.cvs.theme.BOND_LENGTH*Math.cos(e),g=this.cvs.focusActor.y-this.cvs.theme.BOND_LENGTH*Math.sin(e);this.cvs.tempAtom=new d.atom(this.label,f,g,0)}else if(b.kAlt&&b.kShift)this.cvs.tempAtom=new d.atom(this.label,a.p.x,a.p.y,0);else{var e=this.cvs.focusActor.angle(a.p);if(length=this.cvs.focusActor.distance(a.p),b.kShift||(length=this.cvs.theme.BOND_LENGTH),!b.kAlt){var h=Math.floor((e+Math.PI/12)/(Math.PI/6));e=h*Math.PI/6}this.cvs.tempAtom=new d.atom(this.label,this.cvs.focusActor.x+length*Math.cos(e),this.cvs.focusActor.y-length*Math.sin(e),0)}this.cvs.repaint()}else this.onMousemove(a)}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b,c,d,e,f){"use strict";var g=TRANS_TYPE.translate,h=!1,i=void 0;c.eLasso=function(a,b){this.setup(a,b)};var j=c.eLasso.prototype=new c.event;j.imgFlag=void 0,j.onMousemove=function(a){var c=this.cvs.lasso.mode!==LASSO_MODE.shapes;if(this.detectFocus(a,c,c,!0),!b.kShift){var d=!1,e=25/this.cvs.theme.SCALE;this.cvs.lasso.bounds&&!this.cvs.lasso.bounds.minX||this.cvs.lasso.setBounds(),!this.cvs.lasso.bounds||a.p.x.between(this.cvs.lasso.bounds.minX,this.cvs.lasso.bounds.maxX)&&a.p.y.between(this.cvs.lasso.bounds.minY,this.cvs.lasso.bounds.maxY)||!a.p.x.between(this.cvs.lasso.bounds.minX-e,this.cvs.lasso.bounds.maxX+e)||!a.p.y.between(this.cvs.lasso.bounds.minY-e,this.cvs.lasso.bounds.maxY+e)||(d=!0),d!=h&&(h=d,this.cvs.repaint())}},j.onMousedown=function(a){if(this.dragging=!1,this.cvs.lasso.active()&&!b.kShift){g=void 0;var c=25/this.cvs.theme.SCALE;a.p.x.between(this.cvs.lasso.bounds.minX,this.cvs.lasso.bounds.maxX)&&a.p.y.between(this.cvs.lasso.bounds.minY,this.cvs.lasso.bounds.maxY)?g=TRANS_TYPE.translate:a.p.x.between(this.cvs.lasso.bounds.minX-c,this.cvs.lasso.bounds.maxX+c)&&a.p.y.between(this.cvs.lasso.bounds.minY-c,this.cvs.lasso.bounds.maxY+c)&&(g=TRANS_TYPE.rotate),this.cvs.focusActor&&(i=a.p)}else this.cvs.focusActor||(this.cvs.lastPoint=void 0,this.cvs.lasso.addPoint(a.p),this.cvs.repaint())},j.onMouseup=function(a){i&&(g=void 0,this.cvs.lastPoint=void 0,this.cvs.lasso.addPoint(a.p),this.cvs.repaint()),g||this.cvs.focusActor||this.cvs.lasso.select(),this.onMousemove(a)},j.click=function(a){if(!g&&!this.dragging)if(this.cvs.focusActor){var b=[],c=[];this.cvs.focusActor instanceof d.atom?b.push(this.cvs.focusActor):this.cvs.focusActor instanceof d.bond?(b.push(this.cvs.focusActor.a1),b.push(this.cvs.focusActor.a2)):this.cvs.focusActor instanceof d.d2.shape&&c.push(this.cvs.focusActor),this.cvs.lasso.select(b,c)}else this.cvs.resetLasso();g=void 0},j.onDblclick=function(a){this.cvs.resetLasso()},j.onDrag=function(b){if(i=void 0,this.dragging=!0,this.cvs.lasso.active()&&g){if(!this.cvs.lastPoint)return;if(g===TRANS_TYPE.translate){var c=new a.point(b.p.x,b.p.y);if(c.sub(this.cvs.lastPoint),this.parentAction){this.parentAction.dif.add(c);for(var f=0,h=this.parentAction.ps.length;f<h;f++)this.parentAction.ps[f].add(c);for(var f=0,h=this.cvs.molecules.length;f<h;f++)this.cvs.molecules[f].detect();this.cvs.lasso.bounds.minX+=c.x,this.cvs.lasso.bounds.maxX+=c.x,this.cvs.lasso.bounds.minY+=c.y,this.cvs.lasso.bounds.maxY+=c.y,this.cvs.repaint()}else this.parentAction=new e.updateMove(this.cvs.lasso.getAllPoints(),c),this.cvs.actionMng.push(this.parentAction)}else if(g===TRANS_TYPE.rotate&&this.cvs.lasso.lassoCount()>1)if(this.parentAction){var j=this.parentAction.center,k=j.angle(this.cvs.lastPoint),l=j.angle(b.p),m=l-k;this.parentAction.dif+=m;for(var f=0,h=this.parentAction.ps.length;f<h;f++){var n=this.parentAction.ps[f],o=j.distance(n),p=j.angle(n)+m;n.x=j.x+o*Math.cos(p),n.y=j.y-o*Math.sin(p)}for(var f=0,h=this.cvs.molecules.length;f<h;f++)this.cvs.molecules[f].detect();this.cvs.lasso.setBounds(),this.cvs.repaint()}else{var j=new a.point((this.cvs.lasso.bounds.minX+this.cvs.lasso.bounds.maxX)/2,(this.cvs.lasso.bounds.minY+this.cvs.lasso.bounds.maxY)/2),k=j.angle(this.cvs.lastPoint),l=j.angle(b.p),m=l-k;this.parentAction=new e.updateRotate(this.cvs.lasso.getAllPoints(),m,j),this.cvs.actionMng.push(this.parentAction)}}else if(this.cvs.focusActor){if(!this.cvs.lastPoint)return;var c=new a.point(b.p.x,b.p.y);if(c.sub(this.cvs.lastPoint),this.parentAction){this.parentAction.dif.add(c);for(var f=0,h=this.parentAction.ps.length;f<h;f++)this.parentAction.ps[f].add(c);for(var f=0,h=this.cvs.molecules.length;f<h;f++)this.cvs.molecules[f].detect();this.cvs.repaint()}else{var q;this.cvs.focusActor instanceof d.atom?q=[this.cvs.focusActor]:this.cvs.focusActor instanceof d.bond?q=[this.cvs.focusActor.a1,this.cvs.focusActor.a2]:this.cvs.focusActor instanceof d.d2.shape&&(q=this.cvs.focusActor.hoverPoint?[this.cvs.focusActor.hoverPoint]:this.cvs.focusActor.getPoints()),this.parentAction=new e.updateMove(q,c),this.cvs.actionMng.push(this.parentAction)}}else this.cvs.lasso.addPoint(b.p),this.cvs.repaint()},j.draw=function(a,b){if(!b&&(b=this.cvs.theme||f.theme("new")),h&&this.cvs.lasso.bounds&&this.cvs.lasso.lassoCount()>1){a.fillStyle=b.LASSO_E_COLOR;var c=b.LASSO_E_RWIDTH/b.SCALE,d=this.cvs.lasso.bounds;if(a.beginPath(),a.rect(d.minX-c,d.minY-c,d.maxX-d.minX+2*c,c),a.rect(d.minX-c,d.maxY,d.maxX-d.minX+2*c,c),a.rect(d.minX-c,d.minY,c,d.maxY-d.minY),a.rect(d.maxX,d.minY,c,d.maxY-d.minY),a.fill(),void 0===this.imgFlag&&this.setFlagImage(),this.imgFlag){var e=d.maxX+c+b.LASSO_E_RFLAGPAD,g=d.minY-c+1.5*b.LASSO_E_TSIZE+b.LASSO_E_RFLAGPAD;if(a.drawImage(this.imgFlag,e,g),this.parentAction){var i=Math.floor(180*this.parentAction.dif/Math.PI)%360;i<0&&(i+=360),a.save(),a.textAlign="center",a.textBaseline="bottom",a.strokeStyle=b.LASSO_E_TCOLOR,a.fillStyle=b.LASSO_E_TCOLOR,a.font=f.getFontDesc(b.LASSO_E_TSIZE,b.LASSO_E_TFAMILY),e+=this.imgFlag.width/2,g-=b.LASSO_E_RFLAGPAD,a.fillText(i+"°",e,g),a.restore()}}}},j.setFlagImage=function(a){this.imgFlag=new Image,a&&a.startWith("data:image")?this.imgFlag.src=a:this.imgFlag.src=f.image(a||"rotate")}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.editor.actions,ipmd.util),function(a,b,c,d){"use strict";b.eMove=function(a,b){this.setup(a,b)};var e=b.eMove.prototype=new b.event;e.action=void 0,e.onMousemove=function(a){this.detectFocus(a,!0,!0,!0)},e.onMouseup=function(a){this.action=void 0},e.onDrag=function(b){if(this.cvs.focusActor){var e=new a.point(b.p.x,b.p.y);if(this.action){e.sub(this.cvs.lastPoint),this.action.dif.add(e);for(var f=0,g=this.action.ps.length;f<g;f++)this.action.ps[f].add(e);for(var f=0,g=this.cvs.molecules.length;f<g;f++)this.cvs.molecules[f].detect();this.cvs.repaint()}else{var h=[];this.cvs.focusActor instanceof c.atom?(e.sub(this.cvs.focusActor),h[0]=this.cvs.focusActor):this.cvs.focusActor instanceof c.bond?(e.sub(this.cvs.lastPoint),h[0]=this.cvs.focusActor.a1,h[1]=this.cvs.focusActor.a2):this.cvs.focusActor instanceof c.d2.shape&&(e.sub(this.cvs.lastPoint),h=this.cvs.focusActor.hoverPoint?[this.cvs.focusActor.hoverPoint]:this.cvs.focusActor.getPoints()),this.action=new d.updateMove(h,e),this.cvs.actionMng.push(this.action)}}}}(ipmd,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b,c,d,e){"use strict";c.eGenBond=function(a,b){this.setup(a,b)};var f=c.eGenBond.prototype=new c.event;f.order=1,f.stereo=STEREO.none,f.altLabel=void 0,f.reset=function(){this.order=1,this.stereo=STEREO.none,this.altLabel=void 0},f.calOrder=function(a){this.genEnable=!1,1===this.order&&this.stereo===STEREO.none?this.cvs.actionMng.push(new e.updateBond(a,this.altLabel)):a.order===this.order&&a.stereo===this.stereo?(1===a.order&&a.stereo!==STEREO.none||2===a.order&&a.stereo===STEREO.none)&&this.cvs.actionMng.push(new e.updateSwap(a)):this.cvs.actionMng.push(new e.updateBond(a,this.order,this.stereo,this.altLabel))},f.exit=function(){this.removeStartAtom(),this.reset()},f.onMousemove=function(b){this.cvs.tempAtom||(this.detectFocus(b,!0,!0),this.cvs.startAtom&&(this.cvs.focusActor?(this.cvs.startAtom.x=a.startAtomOffset,this.cvs.startAtom.y=a.startAtomOffset):(this.cvs.startAtom.x=b.p.x,this.cvs.startAtom.y=b.p.y)))},f.onMousedown=function(a){if(this.cvs.resetLasso(),this.genEnable=!0,this.cvs.focusActor||this.cvs.oneMol&&!this.cvs.empty()||(this.cvs.focusActor=new d.atom("C",a.p.x,a.p.y),this.cvs.actionMng.push(new e.append(this.cvs,null,[this.cvs.focusActor],[]),!0)),this.cvs.focusActor instanceof d.atom)this.cvs.focusActor.hOver=!1,this.cvs.focusActor.selected=!0,this.drag(a);else if(this.cvs.focusActor instanceof d.bond){this.cvs.focusActor.hOver=!1,this.calOrder(this.cvs.focusActor);for(var b=0,c=this.cvs.molecules.length;b<c;b++)this.cvs.molecules[b].detect();this.cvs.repaint()}},f.onMouseup=function(a){if(this.cvs.tempAtom&&this.cvs.focusActor){var b=[],c=[],f=!0;if(this.cvs.tempAtom.isOverlap){for(var g=0,h=this.cvs.molecules.length;g<h;g++)for(var i=this.cvs.molecules[g],j=0,k=i.atoms.length;j<k;j++){var l=i.atoms[j];l.distance(this.cvs.tempAtom)<5&&(this.cvs.tempAtom=l)}var m=this.cvs.getBond(this.cvs.focusActor,this.cvs.tempAtom);m&&(this.calOrder(m),f=!1)}else b.push(this.cvs.tempAtom);if(f){var n={stereo:this.stereo,altLabel:this.altLabel};c[0]=new d.bond(this.cvs.focusActor,this.cvs.tempAtom,this.order,n),this.cvs.actionMng.push(new e.append(this.cvs,c[0].a1,b,c))}}this.cvs.tempAtom=void 0,this.cvs.touchEnable||this.mousemove(a)},f.click=function(a){this.cvs.focusActor||this.cvs.oneMol&&!this.cvs.empty()||!this.genEnable||(this.cvs.actionMng.push(new e.append(this.cvs,null,[new d.atom("C",a.p.x,a.p.y)],[])),this.cvs.touchEnable||this.mousemove(a),this.genEnable=!1)},f.onMouseout=function(a){this.removeStartAtom()},f.onDrag=function(a){if(this.genEnable=!1,this.removeStartAtom(),this.cvs.focusActor instanceof d.atom){if(a.p.distance(this.cvs.focusActor)<15){var c=this.angleOpt(this.cvs.focusActor,this.order),e=this.cvs.focusActor.x+this.cvs.theme.BOND_LENGTH*Math.cos(c),f=this.cvs.focusActor.y-this.cvs.theme.BOND_LENGTH*Math.sin(c);this.cvs.tempAtom=new d.atom("C",e,f,0)}else{for(var g,h=1e3,i=0,j=this.cvs.molecules.length;i<j;i++)for(var k=this.cvs.molecules[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l],o=n.distance(a.p);o<5&&(!g||o<h)&&(g=n,h=o)}if(g)this.cvs.tempAtom=new d.atom("C",g.x,g.y,0);else if(b.kAlt&&b.kShift)this.cvs.tempAtom=new d.atom("C",a.p.x,a.p.y,0);else{var c=this.cvs.focusActor.angle(a.p),p=this.cvs.focusActor.distance(a.p);if(b.kShift||(p=this.cvs.theme.BOND_LENGTH),!b.kAlt){var q=Math.floor((c+Math.PI/12)/(Math.PI/6));c=q*Math.PI/6}this.cvs.tempAtom=new d.atom("C",this.cvs.focusActor.x+p*Math.cos(c),this.cvs.focusActor.y-p*Math.sin(c),0)}}for(var i=0,j=this.cvs.molecules.length;i<j;i++)for(var k=this.cvs.molecules[i],l=0,m=k.atoms.length;l<m;l++){var n=k.atoms[l];n.distance(this.cvs.tempAtom)<5&&(this.cvs.tempAtom.x=n.x,this.cvs.tempAtom.y=n.y,this.cvs.tempAtom.isOverlap=!0)}this.cvs.repaint()}}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b,c,d,e,f){"use strict";function g(b,c,d,e){var f=Math.PI/3,g=Math.floor(b/f),h=(g+5)%6*f,i=(g+1)%6*f,j=c.x+e*Math.cos(h),k=c.y-e*Math.sin(h),l=c.x+e*Math.cos(i),m=c.y-e*Math.sin(i),n=d.distance(new a.point(j,k)),o=d.distance(new a.point(l,m));return n<o?h:i}c.eGenRing=function(a,b){this.setup(a,b)};var h=c.eGenRing.prototype=new c.event;h.sideCount=6,h.unsaturated=!1,h.tempRing=void 0,h.tempAngle=void 0,h.getRing=function(a,b,c,e,f,h,i){var j=Math.PI-2*Math.PI/b,k=b;if(11==b){var l=Math.PI/4;if(j=Math.PI-2*l,e+=j/2,h){var m=c*Math.cos(l);k=Math.ceil(h/m)}}else if(12==b){var l=Math.PI/6;if(j=Math.PI-2*l,e-=Math.PI/2,h){var n=c*Math.cos(l)*2;k=Math.ceil(h/n),k=3*Math.max(k,2)+2}}else if(13==b){if(this.tempRing||(this.tempRing=[]),h<c*(this.tempRing.length>1?1:1.5)){if(this.tempRing.length>1)return this.tempRing;this.tempAngle=void 0,this.tempRing=[],e=a.angle(i)}k=Number.MAX_VALUE,j=Math.PI/3,e=Math.floor(e/j)*j}else e+=j/2;for(var o=this.tempRing||[],p=o.length,q=p;q<k-1;q++){var r=0===q?new d.atom("C",a.x,a.y):new d.atom("C",o[o.length-1].x,o[o.length-1].y);if(r.x+=c*Math.cos(e),r.y-=c*Math.sin(e),o.push(r),11==b&&q%2==1)e-=Math.PI+j;else if(12==b&&q%6<3)e-=Math.PI+j;else if(13==b){if(self.tempAngle=e,h=r.distance(i),h<=c||q>p+5)break;e=g(self.tempAngle,r,i,c)}else e+=Math.PI+j}for(var q=0,s=this.cvs.molecules.length;q<s;q++)for(var t=this.cvs.molecules[q],u=0,v=t.atoms.length;u<v;u++)t.atoms[u]&&(t.atoms[u].isOverlap=!1);for(var q=0,s=o.length;q<s;q++){for(var w,x=1/0,y=0,z=this.cvs.molecules.length;y<z;y++)for(var t=this.cvs.molecules[y],u=0,v=t.atoms.length;u<v;u++)if(t.atoms[u]){var A=t.atoms[u].distance(o[q]);A<x&&(x=A,w=t.atoms[u])}x<5&&(o[q]=w,f&&(w.isOverlap=!0))}return o},h.optRing=function(a,b){var c=Math.PI/2-Math.PI/b,d=a.a1.distance(a.a2),e=this.getRing(a.a1,b,d,a.a1.angle(a.a2)-c,!1),f=this.getRing(a.a2,b,d,a.a2.angle(a.a1)-c,!1),g=0,h=0;11==b?c=Math.PI/2-Math.PI/3:12==b&&(c=Math.PI/2-Math.PI/6);for(var i=1,j=e.length;i<j;i++)for(var k=0,l=this.cvs.molecules.length;k<l;k++)for(var m=this.cvs.molecules[k],n=0,o=m.atoms.length;n<o;n++){var p=m.atoms[n].distance(e[i]),q=m.atoms[n].distance(f[i]);g+=Math.min(1e8,1/(p*p)),h+=Math.min(1e8,1/(q*q))}return g<h?e:f},h.exit=function(){this.tempRing=void 0,this.tempAngle=void 0,this.removeStartAtom()},h.onMousemove=function(b){this.cvs.tempAtom||(this.detectFocus(b,!0,this.sideCount<11),this.cvs.startAtom&&(this.cvs.focusActor?(this.cvs.startAtom.x=a.startAtomOffset,this.cvs.startAtom.y=a.startAtomOffset):(this.cvs.startAtom.x=b.p.x,this.cvs.startAtom.y=b.p.y)))},h.onMousedown=function(a){this.cvs.resetLasso(),this.genEnable=!0,this.cvs.focusActor||this.cvs.oneMol&&!this.cvs.empty()||(this.cvs.focusActor=new d.atom("C",a.p.x,a.p.y),this.cvs.actionMng.push(new e.append(this.cvs,null,[this.cvs.focusActor],[]),!0)),this.cvs.focusActor&&(this.cvs.focusActor.hOver=!1,this.cvs.focusActor.selected=!0,this.drag(a))},h.onMouseup=function(a){if(this.tempRing=void 0,this.tempAngle=void 0,this.cvs.tempRing&&this.cvs.focusActor){var b=[],c=[],f=this.cvs.getAllAtoms();if(this.cvs.focusActor instanceof d.atom){f.indexOf(this.cvs.tempRing[0])===-1&&b.push(this.cvs.tempRing[0]),this.cvs.getBond(this.cvs.focusActor,this.cvs.tempRing[0])||c.push(new d.bond(this.cvs.focusActor,this.cvs.tempRing[0]));for(var g=this.unsaturated,h=1,i=this.cvs.tempRing.length;h<i;h++)f.indexOf(this.cvs.tempRing[h])===-1&&b.push(this.cvs.tempRing[h]),this.cvs.getBond(this.cvs.tempRing[h-1],this.cvs.tempRing[h])||(c.push(new d.bond(this.cvs.tempRing[h-1],this.cvs.tempRing[h],h%2===1&&this.unsaturated?2:1)),this.unsaturated&&(g=!g));this.sideCount<11&&!this.cvs.getBond(this.cvs.tempRing[this.cvs.tempRing.length-1],this.cvs.focusActor)&&c.push(new d.bond(this.cvs.tempRing[this.cvs.tempRing.length-1],this.cvs.focusActor,g?2:1))}else if(this.cvs.focusActor instanceof d.bond){var j=this.cvs.focusActor.a2,k=this.cvs.focusActor.a1;this.cvs.tempRing[0]===this.cvs.focusActor.a1&&(j=this.cvs.focusActor.a1,k=this.cvs.focusActor.a2),f.indexOf(this.cvs.tempRing[1])===-1&&b.push(this.cvs.tempRing[1]),this.cvs.getBond(j,this.cvs.tempRing[1])||c.push(new d.bond(j,this.cvs.tempRing[1]));for(var h=2,i=this.cvs.tempRing.length;h<i;h++)f.indexOf(this.cvs.tempRing[h])===-1&&b.push(this.cvs.tempRing[h]),this.cvs.getBond(this.cvs.tempRing[h-1],this.cvs.tempRing[h])||c.push(new d.bond(this.cvs.tempRing[h-1],this.cvs.tempRing[h],h%2===0&&this.unsaturated?2:1));this.cvs.getBond(this.cvs.tempRing[this.cvs.tempRing.length-1],k)||c.push(new d.bond(this.cvs.tempRing[this.cvs.tempRing.length-1],k)),this.unsaturated&&this.cvs.focusActor.checkOrderDouble()&&this.cvs.actionMng.push(new e.updateBond(this.cvs.focusActor,2),!0)}0===b.length&&0===c.length||this.cvs.actionMng.push(new e.append(this.cvs,c[0].a1,b,c));for(var l=0,m=f.length;l<m;l++)f[l]&&(f[l].isOverlap=!1)}this.cvs.tempRing=void 0,this.cvs.touchEnable||this.mousemove(a)},h.click=function(a){this.cvs.focusActor||this.cvs.oneMol&&!this.cvs.empty()||!this.genEnable||(this.cvs.actionMng.push(new e.append(this.cvs,null,[new d.atom("C",a.p.x,a.p.y)],[])),this.cvs.touchEnable||this.mousemove(a),this.genEnable=!1)},h.onMouseout=function(a){this.removeStartAtom()},h.onDrag=function(c){if(this.genEnable=!1,this.removeStartAtom(),this.cvs.focusActor instanceof d.atom){var e=0,h=0,i=void 0;if(this.cvs.tempRingN=this.sideCount>10,c.p.distance(this.cvs.focusActor)<15){var j=this.cvs.getMol(this.cvs.focusActor).getAngles(this.cvs.focusActor);e=0===j.length?3*Math.PI/2:f.optAngle(j).angle,h=this.cvs.theme.BOND_LENGTH}else if(e=this.cvs.focusActor.angle(c.p),h=this.cvs.focusActor.distance(c.p),!(b.kAlt&&b.kShift||(b.kShift||this.cvs.tempRingN||(h=this.cvs.theme.BOND_LENGTH),b.kAlt))){var k=Math.floor((e+Math.PI/12)/(Math.PI/6));e=k*Math.PI/6}if(this.cvs.tempRingN&&(i=h,h=this.cvs.theme.BOND_LENGTH,13==this.sideCount)){var l=this.tempRing&&this.tempRing.length>0?this.tempRing[this.tempRing.length-1]:this.cvs.focusActor;l&&(e=l.angle(c.p),i=l.distance(c.p),void 0!==self.tempAngle&&(e=g(self.tempAngle,l,c.p,h)))}this.cvs.tempRing=this.getRing(this.cvs.focusActor,this.sideCount,h,e,!0,i,c.p),6===this.sideCount&&this.unsaturated&&this.cvs.tempRing.reverse(),this.cvs.repaint()}else if(this.cvs.focusActor instanceof d.bond){var m,n=f.distP2L(c.p,this.cvs.focusActor.a1,this.cvs.focusActor.a2);if(n!==-1&&n<=7)m=this.optRing(this.cvs.focusActor,this.sideCount);else{for(var o=Math.PI/2-Math.PI/this.sideCount,p=this.cvs.focusActor.a1.distance(this.cvs.focusActor.a2),q=this.getRing(this.cvs.focusActor.a1,this.sideCount,p,this.cvs.focusActor.a1.angle(this.cvs.focusActor.a2)-o,!1),r=this.getRing(this.cvs.focusActor.a2,this.sideCount,p,this.cvs.focusActor.a2.angle(this.cvs.focusActor.a1)-o,!1),s=new a.point,t=new a.point,u=1,v=q.length;u<v;u++)s.add(q[u]),t.add(r[u]);
s.x/=q.length-1,s.y/=q.length-1,t.x/=r.length-1,t.y/=r.length-1;var w=s.distance(c.p),x=t.distance(c.p);m=r,w<x&&(m=q)}for(var y=1,z=m.length;y<z;y++)this.cvs.getAllAtoms().indexOf(m[y])!==-1&&(m[y].isOverlap=!0);this.cvs.tempRing=m,this.cvs.repaint()}}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.editor.actions,ipmd.util),function(a,b,c,d){"use strict";b.eBezier=function(a,b){this.setup(a,b)};var e=b.eBezier.prototype=new b.event;e.elecCount=1,e.onMousemove=function(a){this.detectFocus(a,!0,!0),this.cvs.repaint()},e.onMousedown=function(a){this.cvs.focusActor&&(this.start=this.cvs.focusActor)},e.onMouseup=function(a){if(this.start&&this.cvs.focusActor&&this.cvs.focusActor!==this.start){for(var b,e=!1,f=0,g=this.cvs.shapes.length;f<g;f++){var h=this.cvs.shapes[f];h instanceof c.d2.bezier&&(h.o1===this.start&&h.o2===this.cvs.focusActor?b=h:h.o2===this.start&&h.o1===this.cvs.focusActor&&(b=h,e=!0))}if(b)e&&this.cvs.actionMng.push(new d.remove(this.cvs,b)),this.start=void 0,this.end=void 0,this.cvs.repaint();else{var i=new c.d2.bezier(this.start,this.cvs.focusActor,this.elecCount);this.start=void 0,this.end=void 0,this.cvs.actionMng.push(new d.append(this.cvs,i))}}else this.start=void 0,this.end=void 0,this.cvs.repaint()},e.onDrag=function(b){this.start&&(this.end=new a.point(b.p.x,b.p.y),this.detectFocus(b,!0,!0),this.cvs.repaint())},e.draw=function(a,b){if(!b&&(b=this.cvs.theme||util.theme("new")),this.start&&this.end){a.strokeStyle=b.TEMP_COLOR,a.fillStyle=b.TEMP_COLOR,a.lineWidth=b.TEMP_LINE_WIDTH;var d=this.start instanceof c.atom?this.start:this.start.getCenter(),e=this.end;this.cvs.focusActor&&this.cvs.focusActor!==this.start&&(e=this.cvs.focusActor instanceof c.atom?this.cvs.focusActor:this.cvs.focusActor.getCenter()),a.beginPath(),a.moveTo(d.x,d.y),a.hashTo(d.x,d.y,e.x,e.y,2,2),a.stroke()}}}(ipmd,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b,c,d,e,f,g,h){"use strict";function i(a){for(var b in k)a=a.replace(b,k[b]);for(var c,d,e=a.length,f=[],g="",i=[],j=0;j<e;j++){if(c=a[j],d=c.charFormat(),"symbol"===d)return[];if("uppercase"===d){if(g.length>0){if(!h[g]&&$.inArray(g,l)<0)return[];f.push(g)}g=c}else if("lowercase"===d){if(0==g.length)return[];g+=c}else if("bracketS"===d){if(g.length>0){if(!h[g]&&$.inArray(g,l)<0)return[];f.push(g)}if(0==f.length)return[];i.push(f.length),g=""}else if("bracketE"===d){if(0==i.length)return[];if(g.length>0){if(!h[g]&&$.inArray(g,l)<0)return[];f.push(g)}var m=i.pop();if(c=a[j+1],c&&(d=c.charFormat(),"digit"===d)){for(var n=f.length,o=0,p=parseInt(c)-1;o<p;o++)for(var b=m;b<n;b++)f.push(f[b]);j++}g=""}else if("digit"===d){if(0==g.length||!h[g]&&$.inArray(g,l)<0)return[];for(var o=0,p=parseInt(c);o<p;o++)f.push(g);g=""}}if(g.length>0){if(!h[g]&&$.inArray(g,l)<0)return[];f.push(g)}return f}function j(a,b){for(var c,d,e,f=1,g=0,i=b.length,j=[{label:b[0],parent:-1,order:0,remain:a.remainPair()}];f<i&&g>=0;){if(c=b[f],d=h[c]?h[c].valency:1,e=d,"Ph"===c&&f<i-1&&(d=2),j[g].remain<=0)if($.inArray(c,m)>=0)j[g].order-=e,j[g].remain+=e,j[g].parent>=0&&(j[j[g].parent].remain+=e);else{if(g>0){g=j[g].parent;continue}e=1}else j[g].remain<e&&(e=j[g].remain,"N"===c&&"N"===j[g].label&&(e=2));"O"!==c||"O"!==j[g].label?(j.push({label:c,parent:g,order:e,remain:d-e}),j[g].remain-=e,$.inArray(c,m)<0&&(g=f),f++):g=j[g].parent}return j}var k={C2H5:"CH2CH3",C3H7:"CH(CH3)2",C4H9:"C(CH3)3",C6H5:"Ph",H2SO4:"SO2(OH)2",Me:"CH3",Et:"CH2CH3",Pr:"CH2CH2CH3",iPr:"CH(CH3)2",nBu:"CH2CH2CH2CH3",tBu:"C(CH3)3",Bn:"CH2Ph",Boc:"COOCH3",Cbz:"COOCH2Ph",TBS:"Si(CH3)2C(CH3)3",TBDMS:"Si(CH3)2C(CH3)3",Ts:"SO2PhCH3",THP:"Thp",Fmoc:"COOCH2Moc"},l=["Ph","Thp","Moc"],m=["H","F","Cl","Br","I","At","Ts"];c.eShape=function(a,b){this.setup(a,b)};var n=c.eShape.prototype=new c.event;n.shapeType=ARROW_TYPE.none,n.exit=function(a){this.shapeType=ARROW_TYPE.none,this.cvs.repaint()},n.onMousemove=function(a){if(this.control=void 0,this.shapeType===ARROW_TYPE.combine){for(var b=this.cvs.theme.COMB_SIZE,c=this.cvs.theme.TEXT_FONT_SIZE/2+1,d=0,f=this.cvs.shapes.length;d<f;d++){var g=this.cvs.shapes[d];if(g instanceof e.combine){var h=Math.min(g.p1.x,g.p2.x),i=Math.max(g.p1.x,g.p2.x),j=Math.min(g.p1.y,g.p2.y),k=Math.max(g.p1.y,g.p2.y),l=[];l.push([i+5,j+5,1]),l.push([i+5,k-5,2]),l.push([h-5-2*b,(j+k)/2,3]);for(var m=0,n=l.length;m<n;m++){var o=l[m];if(a.p.x.between(o[0],o[0]+2*b)&&a.p.y.between(o[1]-b-c,o[1]-c)){this.control={s:g,t:o[2]};break}if(a.p.x.between(o[0],o[0]+2*b)&&a.p.y.between(o[1]+c,o[1]+b+c)){this.control={s:g,t:-1*o[2]};break}}if(this.control)break}}this.cvs.repaint()}this.detectFocus(a,!0,!1,!0)},n.onMousedown=function(b){if(this.cvs.resetLasso(),this.control){var c=this.control.t>0?1:-1,d=["charge","repeat","mult"],e=d[Math.abs(this.control.t)-1];this.cvs.actionMng.push(new f.updateProto(this.control.s,c,e)),this.cvs.repaint()}else this.start=new a.point(b.p.x,b.p.y),this.end=new a.point(b.p.x+this.cvs.theme.BOND_LENGTH,b.p.y),this.drag({p:this.end})},n.onMouseup=function(b){if(this.start&&this.end){var c;if(this.shapeType===ARROW_TYPE.text){var d=this,h=this.start,i=this.end,j=this.shapeType,k=this.cvs.focusActor,l=k?k.altLabel:void 0,m=k?k.labSize||this.cvs.theme.ATOM_FONT_SIZE:void 0;this.cvs.dialogMng.dlgInput.doneCallback=function(b,c){if(k){for(var l in c)d.cvs.actionMng.push(new f.updateProto(k,c[l],l,(!0)),!0);var m=k.rgroup>0?k.rgroup:$.now(),n=d.checkGroup(k,b,m),o=n>1?m:0;k.rgroup!==o&&d.cvs.actionMng.push(new f.updateProto(k,o,"rgroup",(!0)),!0),1==n&&(b=void 0),d.cvs.actionMng.push(new f.updateProto(k,b,"altLabel",(!0)))}else if(b&&b.length>0){h.distance(i)<10&&(h.x-=10,i=new a.point(h.x+20,h.y));var p=g.deepCopy(c);p.altLabel=b;var q=new e.line(h,i,j,p);q&&d.cvs.actionMng.push(new f.append(d.cvs,q))}},this.cvs.dialogMng.dlgInput.repos(b),this.cvs.dialogMng.dlgInput.updDoms({focusBtn:"text",value:l,size:m}),this.cvs.dialogMng.openDlg(this.cvs.dialogMng.dlgInput)}else this.start.distance(this.end)>5&&(c=this.shapeType===ARROW_TYPE.combine?new e.combine(this.start,this.end):new e.line(this.start,this.end,this.shapeType));this.start=void 0,this.end=void 0,c&&this.cvs.actionMng.push(new f.append(this.cvs,c))}},n.onDrag=function(c){if(this.end=new a.point(c.p.x,c.p.y),this.shapeType===ARROW_TYPE.combine){if(b.kShift){var d=this.end.x-this.start.x,e=this.end.y-this.start.y;d<0&&e>0?e*=-1:d>0&&e<0&&(d*=-1);var f=e;Math.abs(d)<Math.abs(e)&&(f=d),this.end.x=this.start.x+f,this.end.y=this.start.y+f}}else if(!b.kAlt){var g=this.start.angle(this.end),h=this.start.distance(this.end);if(!b.kAlt){var i=Math.floor((g+Math.PI/12)/(Math.PI/6));g=i*Math.PI/6}this.end.x=this.start.x+h*Math.cos(g),this.end.y=this.start.y-h*Math.sin(g)}this.cvs.repaint()},n.dblclick=function(b){if(!this.control&&!this.cvs.focusActor&&this.cvs.oneMol){var c=new a.point(this.cvs.width/2,this.cvs.height/2),d=this.cvs.getBounds();c.x-=(d.maxX+d.minX)/2,c.y-=(d.maxY+d.minY)/2,this.cvs.actionMng.push(new f.updateMove(this.cvs.getAllPoints(),c))}},n.draw=function(a,b){if(!b&&(b=this.cvs.theme||g.theme("new")),this.start&&this.end)a.strokeStyle=b.TEMP_COLOR,a.fillStyle=b.TEMP_COLOR,a.lineWidth=b.TEMP_LINE_WIDTH,a.beginPath(),a.moveTo(this.start.x,this.start.y),this.shapeType===ARROW_TYPE.combine?(a.hashTo(this.start.x,this.start.y,this.end.x,this.start.y,2,2),a.hashTo(this.end.x,this.start.y,this.end.x,this.end.y,2,2),a.hashTo(this.end.x,this.end.y,this.start.x,this.end.y,2,2),a.hashTo(this.start.x,this.end.y,this.start.x,this.start.y,2,2)):a.hashTo(this.start.x,this.start.y,this.end.x,this.end.y,2,2),a.stroke();else if(this.shapeType===ARROW_TYPE.combine){a.lineWidth=2*b.PRMT_LINE_WIDTH,a.lineJoin=b.PRMT_LINE_JOIN,a.lineCap=b.PRMT_LINE_CAP;for(var c=0,d=this.cvs.shapes.length;c<d;c++){var f=this.cvs.shapes[c];if(f instanceof e.combine){var h=Math.min(f.p1.x,f.p2.x),i=Math.max(f.p1.x,f.p2.x),j=Math.min(f.p1.y,f.p2.y),k=Math.max(f.p1.y,f.p2.y),l=this.control&&this.control.s===f?this.control:void 0;this.drawControl(a,b,i+5,j+5,l,1),this.drawControl(a,b,i+5,k-5,l,2),this.drawControl(a,b,h-5,(j+k)/2,l,3)}}}},n.drawControl=function(a,b,c,d,e,f){var g=b.COMB_SIZE,h=b.TEXT_FONT_SIZE/2+1;3===f&&(c-=2*g),e&&Math.abs(e.t)===f&&(a.fillStyle=b.COMB_F_COLOR,a.beginPath(),e.t>0?(a.moveTo(c,d-h),a.lineTo(c+g,d-g-h),a.lineTo(c+2*g,d-h)):(a.moveTo(c,d+h),a.lineTo(c+g,d+g+h),a.lineTo(c+2*g,d+h)),a.closePath(),a.fill()),a.strokeStyle=b.COMB_COLOR,a.beginPath(),a.moveTo(c,d-h),a.lineTo(c+g,d-g-h),a.lineTo(c+2*g,d-h),a.moveTo(c,d+h),a.lineTo(c+g,d+g+h),a.lineTo(c+2*g,d+h),a.stroke()},n.checkGroup=function(a,b,c,e){if(a instanceof d.atom){for(var h=this.cvs.getAllAtoms(),k=0,m=h.length;k<m;k++){var n=h[k];if(n.hideInGroup===c){var o=this.cvs.getMol(n);this.cvs.actionMng.push(new f.remove(this.cvs,o.atoms[0],[n],o.getBonds(n)),!0)}}var p=i(b),q=p.length;if(q>0){if(!e){if(p[0]!==a.label){if($.inArray(D,l)>=0){var r=a,s=this.cvs.theme.BOND_LENGTH,t=this.cvs.getMol(r).getAngles(r),n=0===t.length?3*Math.PI/2:g.optAngle(t).angle,u=this.getRing(r,s,n,c),v=[],w=[],h=this.cvs.getAllAtoms();u.reverse(),h.indexOf(u[0])===-1&&v.push(u[0]),this.cvs.getBond(r,u[0])||w.push(new d.bond(r,u[0]));for(var x=!0,y=1,z=u.length;y<z;y++)h.indexOf(u[y])===-1&&v.push(u[y]),this.cvs.getBond(u[y-1],u[y])||(w.push(new d.bond(u[y-1],u[y],y%2===1?2:1)),x=!x);return this.cvs.getBond(u[u.length-1],r)||w.push(new d.bond(u[u.length-1],r,x?2:1)),0===v.length&&0===w.length||this.cvs.actionMng.push(new f.append(this.cvs,w[0].a1,v,w),!0),6}this.cvs.actionMng.push(new f.updateProto(a,p[0],"label",(!0)),!0)}if(q>1)for(var A=j(a,p),B=[a],k=1;k<q;k++){var C=A[k],D=C.label,r=B[C.parent],E=C.order,F=-C.remain,G=void 0,H=$.inArray(D,l)>=0;if(H&&(D="C"),"H"!==D){var I=this.angleOpt(r,E),J=r.x+this.cvs.theme.BOND_LENGTH*Math.cos(I),K=r.y-this.cvs.theme.BOND_LENGTH*Math.sin(I),G=new d.atom(D,J,K,0),L=new d.bond(r,G,E);if(G.charge=F,G.hideInGroup=c,this.cvs.actionMng.push(new f.append(this.cvs,r,[G],[L]),!0),H){var r=G,D=C.label,s=this.cvs.theme.BOND_LENGTH,t=this.cvs.getMol(r).getAngles(r),n=0===t.length?3*Math.PI/2:g.optAngle(t).angle,M="Moc"===D?5:6,u=this.getRing(r,s,n,c,M),v=[],w=[],h=this.cvs.getAllAtoms();"Ph"===D&&u.reverse(),h.indexOf(u[0])===-1&&v.push(u[0]),this.cvs.getBond(r,u[0])||w.push(new d.bond(r,u[0]));for(var x="Ph"===D,y=1,z=u.length;y<z;y++)h.indexOf(u[y])===-1&&v.push(u[y]),this.cvs.getBond(u[y-1],u[y])||(w.push(new d.bond(u[y-1],u[y],x?2:1)),"Ph"===D&&(x=!x));if(this.cvs.getBond(u[u.length-1],r)||w.push(new d.bond(u[u.length-1],r,x?2:1)),0===v.length&&0===w.length||(this.cvs.actionMng.push(new f.append(this.cvs,w[0].a1,v,w),!0),"Thp"===D&&this.cvs.actionMng.push(new f.updateProto(v[4],"O","label",(!0)),!0)),G=v[2],"Moc"===D)for(var N=[w[1],w[3]],s=0,O=N.length;s<O;s++){var P=N[s],Q=this.getRing(P,s,n,c),v=[],w=[],h=this.cvs.getAllAtoms(),x=0==s;Q.reverse(),x||this.cvs.actionMng.push(new f.updateBond(P,2),!0);var R=P.a2,S=P.a1;Q[0]===P.a1&&(R=P.a1,S=P.a2),h.indexOf(Q[0])===-1&&v.push(Q[0]),this.cvs.getBond(R,Q[0])||(w.push(new d.bond(R,Q[0],x?2:1)),x=!x);for(var T=1,U=Q.length;T<U;T++)h.indexOf(Q[T])===-1&&v.push(Q[T]),this.cvs.getBond(Q[T-1],Q[T])||(w.push(new d.bond(Q[T-1],Q[T],x?2:1)),x=!x);this.cvs.getBond(Q[Q.length-1],S)||w.push(new d.bond(Q[Q.length-1],S,x?2:1)),0===v.length&&0===w.length||this.cvs.actionMng.push(new f.append(this.cvs,w[0].a1,v,w),!0)}}}B.push(G)}var V=a.remainPair();V<0&&this.cvs.actionMng.push(new f.updateProto(a,(-V),"charge",(!0)),!0)}return q}}return 0},n.getRing=function(a,b,c,e,f){if(f||(f=6),a instanceof d.atom){var g=Math.PI-2*Math.PI/f,h={hideInGroup:e};c+=g/2;for(var i=[],j=0;j<f-1;j++){var k=0===j?new d.atom("C",a.x,a.y,a.z,h):new d.atom("C",i[i.length-1].x,i[i.length-1].y,i[i.length-1].z,h);k.x+=b*Math.cos(c),k.y-=b*Math.sin(c),i.push(k),c+=Math.PI+g}return i}if(a instanceof d.bond){for(var l=a,g=Math.PI/2-Math.PI/f,b=l.a1.distance(l.a2),m=this.getRing(l.a1,b,l.a1.angle(l.a2)-g,e,f),n=this.getRing(l.a2,b,l.a2.angle(l.a1)-g,e,f),o=0,p=0,j=1,q=m.length;j<q;j++)for(var r=0,s=this.cvs.molecules.length;r<s;r++)for(var t=this.cvs.molecules[r],u=0,v=t.atoms.length;u<v;u++){var w=t.atoms[u].distance(m[j]),x=t.atoms[u].distance(n[j]);o+=Math.min(1e8,1/(w*w)),p+=Math.min(1e8,1/(x*x))}return o<p?m:n}}}(ipmd,ipmd.monitor,ipmd.editor.events,ipmd.actor,ipmd.actor.d2,ipmd.editor.actions,ipmd.util,ipmd.Elements),function(a){"use strict";a.eView=function(a,b){this.setup(a,b)};a.eView.prototype=new a.event}(ipmd.editor.events),function(a,b,c,d){"use strict";b.eColor=function(a,b){this.setup(a,b)};var e=b.eColor.prototype=new b.event;e.onMousemove=function(a){this.detectFocus(a,!0,!0,!0)},e.onMouseup=function(a){var b=this,c=(this.cvs.focusActor?this.cvs.focusActor.color:void 0,[]);if(this.cvs.focusActor)c.push(this.cvs.focusActor);else if(this.cvs.lasso&&this.cvs.lasso.active()){c=this.cvs.lasso.atoms.concat(this.cvs.lasso.shapes);for(var e=0,f=this.cvs.lasso.atoms.length;e<f;e++){var g=this.cvs.lasso.atoms[e],h=g.bonds;if(h)for(var i=0,j=h.length;i<j;i++){var k=h[i];$.inArray(k,c)<0&&$.inArray(k.brother(g),this.cvs.lasso.atoms)>-1&&c.push(k)}}}0!=c.length&&(this.cvs.dialogMng.dlgCPicker.doneCallback=function(a){b.cvs.actionMng.push(new d.updateProtos(c,a,"color",(!0))),b.cvs.repaint()},this.cvs.dialogMng.dlgCPicker.repos(a),this.cvs.dialogMng.openDlg(this.cvs.dialogMng.dlgCPicker))}}(ipmd,ipmd.editor.events,ipmd.actor,ipmd.editor.actions),function(a,b){"use strict";a.base=function(){};var c=a.base.prototype;c.widget=void 0,c.prefix=void 0,c.id=void 0,c.cls=void 0,c.tooltip=void 0,c.rendered=void 0,c.getDomId=function(a){var b=this.prefix?this.prefix+"_"+this.id:this.id;return a&&(b+="_"+a),b},c.getDom=function(a){return $("#"+this.getDomId(a))},c.getHtmlTpl=function(a){var b=[];return b.push("<"),b.push(this.widget),b.push(' id="##"'),this.cls&&b.push(' class="~~"'),this.type&&b.push(' type="&&"'),b.push(' title="@@"'),b.push(' style="background-image:url(%%);">'),b.push(this.subHtmlTpl()),b.push("</"),b.push(this.widget),b.push(">"),b.push(this.extraHtmlTpl()),a&&(this.rendered=!0),this.formatHtml(b.join(""))},c.subHtmlTpl=function(){return""},c.extraHtmlTpl=function(){return""},c.formatHtml=function(a){return a.replace(/##/g,this.getDomId()).replace(/~~/g,this.cls).replace(/&&/g,this.type).replace(/@@/g,this.tooltip||b.i18n(this.id)).replace(/%%/g,this.icon||b.image(this.id))},c.render=function(a){!a&&(a=this.prefix);var b=this.getHtmlTpl(),c=this;if(document.getElementById(a)){var d=$("#"+a);d.before(b)}else document.writeln(b);$("#"+this.getDomId()+" .ns-close").click(function(){c.disable()}),this.rendered=!0},c.setup=function(a){},c.visible=function(){return"none"!==this.getDom().css("display")},c.active=function(){return!this.getDom().attr("disabled")},c.disable=function(){this.rendered&&this.getDom().fadeOut("slow"),this.cvs&&this.cvs.toolMng.focusRollback()},c.enable=function(){this.rendered&&this.getDom().fadeIn("fast")},c.focus=function(){},c.remove=function(){var a=this.getDom();a&&a.remove()},c.updLanguage=function(){this.tooltip=b.i18n(this.id)}}(ipmd.editor.ui,ipmd.util),function(a,b,c,d){"use strict";b.button=function(a,b,d,e){this.widget="button",this.prefix=a,this.id=b,this.func=d?d:void 0,e&&c.initOption(this,e)};var e=b.button.prototype=new b.base;e.subId=void 0,e.subHtmlTpl=function(){if(this.dropset){var a=[],b=this.dropset[0],e=this.dropset[1],f=this.dropset[2];if(a.push('<img class="'+b+'" src="'+c.image(b)+'") />'),!d.gecko&&!d.ie){a.push('<div class="'+b+' dropdiv" id="'),a.push(this.getDomId("dropdiv")),a.push('"'),e>0?(a.push(' style="width:'+e+"px;"),0==f?a.push('"'):a.push(" margin-left:"+f+'px;"')):0!=f&&a.push(' style="margin-left:'+f+'px;"'),a.push(" >");for(var g=3;g<this.dropset.length;g++)a.push(this.dropset[g].getHtmlTpl(!0));a.push("</div>")}return a.join("")}return""},e.extraHtmlTpl=function(){if(this.dropset&&(d.gecko||d.ie)){var a=[],b=this.dropset[0],c=this.dropset[1],e=this.dropset[2];a.push('<div class="'+b+'_ie dropdiv" id="'),a.push(this.getDomId("dropdiv")),a.push('"'),c>0?(a.push(' style="width:'+c+"px; margin-top:-10px;"),0==e?a.push('"'):a.push(" margin-left:"+e+'px;"')):0!=e&&a.push(' style="margin-left:'+e+'px;"'),a.push(" >");for(var f=3;f<this.dropset.length;f++)a.push(this.dropset[f].getHtmlTpl(!0));return a.push("</div>"),a.join("")}return""},e.setup=function(a){var b=this.getDom(),e=this;if(b.button(),b.click(function(b){if(a.dialogMng.dlgCPicker.visible()&&a.dialogMng.dlgCPicker.disable(!0),!e.clicking&&!a.forbid(e.id)){if(e.root){var d=e.root.getDom(),f=e.icon||c.image(e.id);e.root.getDom("dropdiv").fadeToggle(),d.css("background-image","url("+f+")"),e.root.subId=e.id,e.root.ignoreFocus||d.focus(),e.root.func=e.func}else a.toolMng.focusBtn(e.id);e.func&&e.func(b,e)}}),b.mousedown(function(b){a.toolMng.tempSave(),$(b.target).is("img.dropdown")||$(b.target).is("img.dropright")||$(b.target).is("img.dropleft")||e.root&&("moreR"!==e.id&&b.offsetX>25&&b.offsetY>25||"moreR"===e.id&&b.offsetX<5&&b.offsetY>25)?($(".dropdiv").fadeOut(),e.clicking=!0,e.getDom("dropdiv").fadeToggle(),setTimeout(function(){e.clicking=void 0},400)):a.toolMng.btnClick=e}),b.mouseup(function(b){a.toolMng.btnClick&&a.toolMng.btnClick===e||(a.toolMng.btnFocus&&a.toolMng.btnFocus.getDom().focus(),a.toolMng.btnClick=void 0)}),this.dropset){if(d.gecko||d.ie){var f=this.getDom(),g=this.dropset[0],h=this.getDom("dropdiv"),i=f.width()/2,j=f.position(),k=parseInt(h.css("marginLeft").replace("px","")),l=parseInt(h.css("marginTop").replace("px","")),m=parseInt(h.css("padding-left").replace("px","")),n=parseInt(h.css("padding-top").replace("px",""));g.indexOf("down")>=0?(j.left+=1-k,j.top+=i+h.height()/2+n):g.indexOf("left")>=0?(j.left-=h.width()+2*k+2*m,j.top+=i-l-2*n-3):g.indexOf("right")>=0?(j.left+=2*i-2*k+2*m+5,j.top+=2*i+2*n+9):g.indexOf("up")>=0&&(j.left+=1-k,j.top-=i+h.height()/2+n),h.css("left",j.left),h.css("top",j.top)}for(var o=3;o<this.dropset.length;o++)this.dropset[o].setup(a)}},e.disable=function(){if(this.rendered){var b=this.getDom();b.mouseout();try{b.button("disable")}catch(d){b.button(),b.button("disable")}var e=(this.subId||this.id)+"_disable";a.IMG_T[a.themeName][e]&&b.css("background-image","url("+c.image(e)+")")}},e.enable=function(){if(this.rendered){var b=this.getDom();try{b.button("enable")}catch(d){b.button(),b.button("enable")}var e=(this.subId||this.id)+"_disable";a.IMG_T[a.themeName][e]&&b.css("background-image","url("+c.image(this.subId||this.id)+")")}},e.select=function(){if(this.rendered){var a=this.getDom();a.prop("checked",!0);try{a.button("refresh")}catch(b){a.button(),a.button("refresh")}}},e.changeFocus=function(a,b){b||(b=c.theme());var d=a?b.BTN_FOCUS_BGC:b.BTN_NORMAL_BGC;this.getDom().css("background-color",d)}}(ipmd,ipmd.editor.ui,ipmd.util,ipmd.browser),function(a,b){"use strict";a.dialog=function(a,c,d,e){void 0!==a&&("string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=c||"dlg",this.cls="dialog",this.title=d||"Information",b.initOption(this,e))};var c=a.dialog.prototype=new a.base;c.topMsg=void 0,c.bottomMsg=void 0,c.withOverlay=!0,c.withTitle=!0,c.withClose=!0,c.withTArea=!1,c.withTField=!1,c.getHtmlTpl=function(){var a=[],b=$("#ipmd-editor-container").width(),c=$("#ipmd-editor-container").height();return a.push("<div"),a.push(' id="##"'),this.withOverlay&&(a.push(' style="margin-top:'+-c/2+"px;"),a.push(" margin-left:"+-b/2+"px;"),a.push(" width:"+(b+1)+"px;"),a.push(" height:"+(c+1)+'px;"'),a.push(' class="overlay"><div id="##_bgFrame" style="display:block;"')),a.push(' class="~~"'),a.push(">"),this.withTitle?(a.push("<h3>"),a.push(this.title),this.withClose&&a.push('<span class="ns-close"></span>'),a.push("</h3>")):this.withClose&&a.push('<h3><span class="ns-close"></span></h3>'),this.topMsg&&(a.push("<p>"),a.push(this.topMsg),a.push("</p>")),a.push(this.subHtmlTpl()),this.withTField&&(a.push('<input type="text" id="'),a.push(this.getDomId("ta")),a.push('"></input>')),this.withTArea&&(a.push('<textarea id="'),a.push(this.getDomId("ta")),a.push('"></textarea>')),this.bottomMsg&&(a.push("<p>"),a.push(this.bottomMsg),a.push("</p>")),a.push("</div>"),this.withOverlay&&a.push("</div>"),this.formatHtml(a.join(""))},c.setup=function(){this.render(),this.bindFunc(),this.bindMSKey()},c.bindFunc=function(){},c.bindMSKey=function(){var a=this;this.getDom().keydown(function(b){27===b.which&&(a.disable(),b.preventDefault())})}}(ipmd.editor.ui,ipmd.util),function(a,b,c){"use strict";b.dTip=function(a,b,d,e,f,g,h){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs?this.cvs.id:"dlgTip"),this.id=b||"dlgTip",this.title=d||c.i18n("titleTip","Tip"),this.tipMsg=e||"WARNING",f&&(this.icon=c.image(f)),this.duration=g,this.cls="dialog dialog-tip",h&&c.initOption(this,h)};var d=b.dTip.prototype=new b.dialog;d.tipMsg=void 0,d.icon=void 0,d.duration=void 0,d.subHtmlTpl=function(){var a=[];return this.icon&&(sb.push('<img src="'),sb.push(this.icon),sb.push('"/>')),this.tipMsg&&(a.push('<div class="tipmsg" id="'),a.push(this.getDomId("tip")),a.push('">'),a.push(this.tipMsg),a.push("</div>")),a.join("")},d.bindFunc=function(){if(this.hold&&(clearTimeout(this.hold),this.hold=void 0),this.duration){var a=this;this.hold=setTimeout(function(){a.hold=void 0,a.disable()},this.duration)}},d.enable=function(a,b,d){this.rendered&&this.getDom().show(),this.tipMsg=a||"WARNING",b&&(this.icon=c.image(b)),this.duration=d;var e=this.getDom(),f=$("img");if(b&&f&&f.attr("src",this.icon),this.getDom("tip").text(this.tipMsg),e.fadeIn("fast"),this.hold&&(clearTimeout(this.hold),this.hold=void 0),this.duration){var g=this;this.hold=setTimeout(function(){g.hold=void 0,g.disable()},this.duration)}}}(ipmd,ipmd.editor.ui,ipmd.util),function(a,b,c,d){"use strict";var e=[["H","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","He"],["Li","Be","0","0","0","0","0","0","0","0","0","0","B","C","N","O","F","Ne"],["Na","Mg","0","0","0","0","0","0","0","0","0","0","Al","Si","P","S","Cl","Ar"],["K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr"],["Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe"],["Cs","Ba","0","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn"],["Fr","Ra","0","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]],f=["La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu"],g=["Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"],h={empty:["0"],nonmetal:["H","He","B","C","N","O","F","Ne","Si","P","S","Cl","Ar","As","Se","Br","Kr","Te","I","Xe","At","Rn"],unknown:["Nh","Fl","Mc","Lv","Ts","Og"],radioactive:["Pm","Po","At","Rn","Fr","Ra","Ac~Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"],manmade:["Pm","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"]};b.dPeriodicTable=function(a,b,c,e){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgPeriodicTable",this.title=c||d.i18n("titlePTable","Periodic Table"),this.cls="dialog dialog-pt",e&&d.initOption(this,e)};var i=b.dPeriodicTable.prototype=new b.dialog;i.subHtmlTpl=function(){var a=this,b=[],i=function(e,f){var g=d.i18n(e),i=g.replace(/\[.*?\]/g,""),j=(g.replace(i,""),"0"===e?"div":"button");for(var k in h)$.inArray(e,h[k])!==-1&&f.push(k);b.push("<"+j+' id="'),b.push(a.getDomId("pt_"+e)),b.push('" class="'+f.join(" ")+'"'),b.push(' name="pt_element"'),"0"===e?b.push(" disabled>"):(b.push(' value="'+e+'">'),b.push('<p class="cell_num">'+c[e].atomicNumber+"</p>"),b.push('<p class="cell_name" style="color:'+c[e].color+';">'+e+"</p>")),b.push("</"+j+">")};b.push('<div id="'),b.push(this.getDomId("pt")),b.push('" class="pt">');for(var j=0;j<e.length;j++)for(var k=0;k<e[j].length;k++)i(e[j][k],["ptcell"]);b.push("</div>"),b.push('<div id="'),b.push(this.getDomId("las")),b.push('" class="las">');for(var j=0;j<f.length;j++)i(f[j],["ptcell","lascell"]);b.push("</div>"),b.push('<div id="'),b.push(this.getDomId("acs")),b.push('" class="las acs">');for(var j=0;j<g.length;j++)i(g[j],["ptcell","acscell"]);return b.push("</div>"),b.join("")},i.bindFunc=function(){var a=this;$("[name='pt_element']").click(function(){a.cvs.eventMng.changeEvent(EVENT.label,{label:this.value},!0),a.disable(!0)})},i.disable=function(a){this.rendered&&this.getDom().fadeOut("slow"),this.cvs.toolMng.focusRollback(a?"periodicTable":void 0,"periodicTable")}}(ipmd,ipmd.editor.ui,ipmd.Elements,ipmd.util),function(a,b,c,d){"use strict";a.dImport=function(a,b,d){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgImport",this.title=d||c.i18n("titleImport","Import"),this.cls="dialog dialog-import"};var e=a.dImport.prototype=new a.dialog;e.subHtmlTpl=function(){var a=[],b=M_ImpList||["IPM","MOL","CML","RXN","ICL"];a.push('<div class="sf">'),a.push('<input type="file" id="'),a.push(this.getDomId("ai")),a.push('"><label>'),a.push(c.i18n("importSelectTip")),a.push("</label></div>"),a.push('<select id="'),a.push(this.getDomId("select")),a.push('">');for(var e=0;e<b.length;e++){var f=b[e],g="save"+f;a.push('<option value="'+f+'"'),d[g]||a.push(' disabled="disabled"'),a.push(">"),a.push(f)}return a.push("</select>"),a.push('<textarea id="'),a.push(this.getDomId("ta")),a.push('" placeholder="'),a.push(c.i18n("importTAHold")),a.push('"></textarea>'),a.push('<button id="'),a.push(this.getDomId("import")),a.push('">'),a.push(c.i18n("importBtnTitle")),a.push("</button>"),a.join("")},e.bindFunc=function(){var a=this;this.getDom("ai").change(function(b){$(this).next().text(d.getPath(this.value)),d.readFile(a.getDom("ai").get(0),function(b){a.getDom("ta").val(b)});var c=this.value,e=c.substring(c.length-3).toUpperCase();a.getDom("select").val(e)}),this.getDom("import").click(function(){var e=a.getDom("ta").val(),f=(a.getDom("ai").get(0).value,a.getDom("select").val()),g="read"+f;if(d[g]){var h=d[g](e);h&&(h.molecules.length>0||h.shapes.length>0)?(a.cvs.oneMol?a.cvs.actionMng.push(new b.updateCvs(a.cvs,h.molecules[0])):a.cvs.actionMng.push(new b.updateCvs(a.cvs,null,h.molecules,h.shapes)),a.disable()):c.alertMsg(c.i18n("parseError"))}else c.alertMsg(c.i18n("fileformatError"))}),this.getDom("ta").keyup(function(b){0==$(this).val().length&&(a.getDom("ai").next().text(c.i18n("importSelectTip")),a.getDom("ai").val(""))})},e.enable=function(){this.getDom("ai").next().text(c.i18n("importSelectTip")),this.getDom("ai").val(""),this.getDom("ta").val(""),this.rendered&&this.getDom().fadeIn("fast")}}(ipmd.editor.ui,ipmd.editor.actions,ipmd.util,ipmd.parser),function(a,b,c,d,e){"use strict";function f(a){for(var b=new c.molecule,d=0;d<a.atoms.length;d++){var e=a.atoms[d],f=e.bonds;if(b.atoms.push(e),f)for(var g=0;g<f.length;g++){var h=f[g];$.inArray(h,b.bonds)<0&&$.inArray(h.brother(e),a.atoms)>-1&&b.bonds.push(h)}}return[b]}a.dExport=function(a,b,c){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgExport",this.title=c||d.i18n("titleExport","Export"),this.topMsg=d.i18n("exportTopMsg"),this.cls="dialog dialog-export"};var g=a.dExport.prototype=new a.dialog;g.molType="all",g.subHtmlTpl=function(){var a=[],b=M_ExpList||["IPM","MOL","CML","RXN","ICL","PNG"];a.push('<select id="'),a.push(this.getDomId("select")),a.push('">');for(var c=0;c<b.length;c++){var f=b[c],g="save"+f;a.push('<option value="'+f+'"'),e[g]||a.push(' disabled="disabled"'),a.push(">"),a.push(d.i18n("export_"+f))}return a.push("</select>"),a.push('<div class="molType" id="'),a.push(this.getDomId("mt")),a.push('">'),a.push('<input name="molType" checked id="'),a.push(this.getDomId("inMolAll")),a.push('" type="radio" /><label for="'),a.push(this.getDomId("inMolAll")),a.push('">'),a.push(d.i18n("expTitleMolAll")),a.push("</label>"),a.push('<input name="molType" id="'),a.push(this.getDomId("inMolMax")),a.push('" type="radio" /><label for="'),a.push(this.getDomId("inMolMax")),a.push('">'),a.push(d.i18n("expTitleMolMax")),a.push("</label>"),a.push("</div>"),a.push('<textarea id="'),a.push(this.getDomId("ta")),a.push('"></textarea>'),a.push('<button id="'),a.push(this.getDomId("export")),a.push('">'),a.push(d.i18n("exportBtnTitle")),a.push("</button>"),a.join("")},g.bindFunc=function(){var a=this;this.getDom("export").click(function(){var b=a.getDom("select").val(),c="save"+b,g=void 0,h=void 0;if("PNG"===b||"JPG"===b||"TIF"===b){var i=$("#"+a.prefix),j=i.attr("width"),k=i.attr("height");if(a.cvs.lasso&&a.cvs.lasso.active()){g=a.cvs.molecules,h=a.cvs.shapes;var l=f(a.cvs.lasso);a.cvs.loadActors(l,a.cvs.lasso.shapes),a.cvs.resetLasso()}var m=a.cvs.getBounds(),n=m.maxX-m.minX+10,o=m.maxY-m.minY+10;a.cvs.width=n,a.cvs.height=o,i.attr("width",a.cvs.width),i.attr("height",a.cvs.height),a.cvs.reloadActors();var p=(new Date).format("yyyy-MM-dd hh:mm:ss"),q="ipmd_"+p+"."+b.toLowerCase();e.savePNG(q,a.prefix,function(){d.alertMsg(d.i18n("success")),a.disable()}),(g||h)&&a.cvs.loadActors(g,h),a.cvs.width=j,a.cvs.height=k,i.attr("width",a.cvs.width),i.attr("height",a.cvs.height),a.cvs.reloadActors()}else if(e[c]){var r=a.getDom("ta").val(),p=(new Date).format("yyyy-MM-dd hh:mm:ss"),q="ipmd_"+p+"."+b.toLowerCase();0==r.length?d.alertMsg(d.i18n("contentNull")):e.saveFile(q,r,function(){d.alertMsg(d.i18n("success")),a.disable()})}else d.alertMsg(d.i18n("fileformatError"))}),this.getDom("select").change(function(){a.updDom()}),this.getDom("inMolAll").change(function(){this.checked&&(a.molType="all",a.updDom())}),this.getDom("inMolMax").change(function(){this.checked&&(a.molType="max",a.updDom())}),this.domHeight=this.getDom("bgFrame").height(),this.domTaHeight=this.getDom("ta").height()+16,this.domInHeight=this.getDom("mt").height()+16},g.updDom=function(){var a=this.getDom("select").val(),b="save"+a,c="";if("PNG"===a||"JPG"===a||"TIF"===a)this.getDom("ta").hide(),this.getDom("mt").hide(),this.getDom("bgFrame").height(this.domHeight-this.domTaHeight);else{var d=this.cvs.molecules,g=this.cvs.shapes;this.cvs.lasso&&this.cvs.lasso.active()&&(d=f(this.cvs.lasso),g=this.cvs.lasso.shapes),"MOL"!==a||this.cvs.lasso&&this.cvs.lasso.active()?(this.getDom("mt").hide(),this.getDom("bgFrame").height(this.domHeight),void 0!==d&&d.length>0&&(c=e[b](d,g))):(this.getDom("mt").show(),this.getDom("bgFrame").height(this.domHeight+this.domInHeight),void 0!==d&&d.length>0&&(c=this.cvs.getMol(this.molType))),this.getDom("ta").val(c),this.getDom("ta").show()}}}(ipmd.editor.ui,ipmd.editor.actions,ipmd.actor,ipmd.util,ipmd.parser),function(a,b,c){"use strict";b.dCopyright=function(a,b,d){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgCopyright",this.title=d||c.i18n("titleCopyright","Copyright"),this.cls="dialog dialog-cr"};var d=b.dCopyright.prototype=new b.dialog;d.subHtmlTpl=function(){var a=[];return a.push("<h1>ipmDraw</h1>"),a.push("<h4>Copyright © iPrexMed Inc.</h4>"),a.join("")}}(ipmd,ipmd.editor.ui,ipmd.util),function(a,b,c){"use strict";function d(a){if(a=a.replace("/<sub>/g",""),a=a.replace("/</sub>/g",""),a.length>1){for(var b=[a[0]],c=1,d=a.length;c<d;c++){var e=a[c];"digit"===e.charFormat()&&(e=e.sub()),b.push(e)}if(a=b.join(""),a.indexOf("<sub>")>0)return a}return!1}function e(a){for(var b=a.length,c=0;c<b;c++)if(j=a[c],!i[c]||i[c]!==j){if(c>0)for(var d=c-1;d>=0;){if(a[d]!==j){l=d+1;break}d--}return c+1}return b}function f(a){var b;if(window.getSelection?b=window.getSelection().getRangeAt(0):document.selection&&(b=document.selection.createRange()),!a&&b){var c=b.startOffset,d=b.startContainer.nodeValue,e=c;if(d[c-2]&&"digit"===d[c-2].charFormat()&&k-l>1)k=l+1;else{for(;e<d.length&&d[e]===d[c-1];)e++;k-=e-c}}return b}function g(a){var b=a.get(0);if(b.focus(),k){for(var c,d=b.childNodes,e=0,g=d.length;e<g;e++){c=d[e];var h=c.length||1;if(h>=k)break;k-=h}var i=f(!0,a);if(i.setStart(c,k),i.setEnd(c,k),window.getSelection){var j=window.getSelection();j.rangeCount>0&&j.removeAllRanges(),j.addRange(i);
}else document.selection&&i.select()}}var h={12:20,14:22,16:24,18:26,20:30,24:36,30:44,32:46,36:52,40:58},i="",j="",k=0,l=0;b.dInput=function(a,b,d,e){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgInput",this.cls="dialog dialog-input",this.withOverlay=!1,this.withTitle=!1,this.withClose=!1,e&&c.initOption(this,e)};var m=b.dInput.prototype=new b.dialog;m.doneCallback=void 0,m.subHtmlTpl=function(){var a=[];a.push('<div class="bg">'),a.push('<div class="divtext" contenteditable="plaintext-only" id="'),a.push(this.getDomId("in")),a.push('"></div>'),a.push('<input type="checkbox" id="'),a.push(this.getDomId("inBold")),a.push('"/><label class="cb b" for="'),a.push(this.getDomId("inBold")),a.push('">B</label>'),a.push('<input type="checkbox" id="'),a.push(this.getDomId("inItalic")),a.push('"/><label class="cb i" for="'),a.push(this.getDomId("inItalic")),a.push('">I</label>');var b=this.cvs.theme.TEXT_INPUT_FAMILIES;a.push('<select class="family" id="'),a.push(this.getDomId("sFamaly")),a.push('">');for(var c=0;c<b.length;c++){var d=b[c];a.push('<option value="'+d+'"'),a.push(">"),a.push(d)}a.push("</select>");var e=this.cvs.theme.TEXT_INPUT_SIZE;a.push('<select class="size" id="'),a.push(this.getDomId("sSize")),a.push('">');for(var c=0;c<e.length;c++){var d=e[c];a.push('<option value="'+d+'"'),a.push(">"),a.push(d)}a.push("</select>");var f=this.cvs.theme.TEXT_INPUT_COLOR;a.push('<div class="color" id="'),a.push(this.getDomId("sColor")),a.push('" style="background-color:'+f[0]+';">'),a.push("</div>"),a.push('<div class="scolor" >');for(var c=0;c<f.length;c++){var d=f[c];a.push('<input id="sColor" type="button" value="'+d+'"'),a.push(' style="background-color:'+d+';"'),a.push("></input>")}return a.push("</div>"),a.push("</div>"),a.join("")},m.bindFunc=function(){var a=this,b=this.getDom("in");b.bind("input propertychange",function(){var a=$(this).text();k=e(a),i=a,a=d(a,!0);var a=d($(this).text());"string"==typeof a&&(f(!1,$(this)),$(this).html(a),g($(this)))}),this.getDom("inBold").change(function(a){b.css("font-weight",this.checked?"bold":"normal")}),this.getDom("inItalic").change(function(a){b.css("font-style",this.checked?"italic":"normal")}),this.getDom("sFamaly").change(function(a){b.css("font-family",this.value)}),this.getDom("sSize").change(function(a){b.css("font-size",this.value+"px"),b.css("height",h[this.value]+"px"),$("div.bg").css("height",h[this.value]+24+"px")}),this.getDom("sColor").click(function(a){$("div.scolor").fadeToggle()}),$("input#sColor").click(function(c){a.getDom("sColor").css("background-color",this.value),b.css("color",this.value),$("div.scolor").hide()})},m.bindMSKey=function(){var a=this;this.getDom().keydown(function(b){13===b.which?(a.disable(),b.preventDefault()):27===b.which&&(a.doneCallback=void 0,a.disable(),b.preventDefault())})},m.repos=function(a){a||(a=window.event);var b=this.getDom(),d=document.getElementById(this.prefix),e=c.coordW2C(d,a.clientX,a.clientY),f=this.cvs.toolEnable?this.cvs.toolbar[1]:0,g=this.cvs.toolEnable?this.cvs.toolbar[0]:0,h=$("div.bg").height(),i=e.x+b.width()/2+f+this.cvs.edge,j=e.y+b.height()/2+g+this.cvs.edge;e.x+b.width()>this.cvs.width&&(i-=b.width()),e.y+h>this.cvs.height&&(j-=h),b.attr({left:i,top:j}),b.css("left",i),b.css("top",j),$("div.scolor").hide()},m.enable=function(){this.rendered&&(this.getDom().show(),this.getDom("in").get(0).focus())},m.disable=function(){var a=this.getDom("in");if(this.doneCallback){var b={labBold:this.getDom("inBold").get(0).checked,labItalic:this.getDom("inItalic").get(0).checked,labFamily:this.getDom("sFamaly").val(),labSize:this.getDom("sSize").val(),labColor:this.getDom("sColor").css("background-color")},c=a.text();this.doneCallback(c,b)}a.text(""),this.rendered&&this.getDom().hide(),this.cvs.toolMng.focusRollback(this.focusBtn),this.doneCallback=void 0,this.focusBtn=void 0},m.updDoms=function(a){if(a){var b=this.getDom("in");if(this.focusBtn=a.focusBtn,a.value){var c=d(a.value);"string"==typeof c?b.html(c):b.text(a.value)}if(a.size){this.getDom("sSize").find('option[value="'+a.size+'"]').attr("selected",!0),b.css("font-size",a.size+"px");var e=a.size.toString();b.css("height",h[e]+"px"),$("div.bg").css("height",h[e]+24+"px")}}},m.onKeydown=function(a){this.getDom("in").keydown(a)}}(ipmd,ipmd.editor.ui,ipmd.util),function(a,b,c,d){"use strict";var e=[{icon:void 0,title:"prop",cmd:"prop"},{icon:void 0,title:"--",cmd:"--"},{icon:void 0,title:"undo",cmd:"undo"},{icon:void 0,title:"redo",cmd:"redo"},{icon:void 0,title:"--",cmd:"--"},{icon:void 0,title:"cut",cmd:"cut"},{icon:void 0,title:"copy",cmd:"copy"},{icon:void 0,title:"paste",cmd:"paste"},{icon:void 0,title:"selectAll",cmd:"selectAll"},{icon:void 0,title:"--",cmd:"--"},{icon:void 0,title:"erase",cmd:"erase"},{icon:void 0,title:"clear",cmd:"clear"}];b.dRMenu=function(a,b,c){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgRMenu",this.title=c,this.cls="dialog dialog-rmenu",this.withOverlay=!1,this.withClose=!1,this.withTitle=void 0!==this.title};var f=b.dRMenu.prototype=new b.dialog;f.subHtmlTpl=function(){for(var a=[],b=0;b<e.length;b++){var c=e[b];"--"===c.cmd?a.push("<hr />"):(a.push('<input type="button" class="menu" id="'),a.push(this.getDomId(c.cmd)),a.push('" value="'),a.push(d.i18n("rm_"+c.title,c.title)),a.push('" name="'),a.push(c.cmd),a.push('"></input>'))}return a.join("")},f.bindFunc=function(){for(var a=this,b=0;b<e.length;b++){var c=e[b];"--"!==c.cmd&&this.getDom(c.cmd).click(function(b){a[b.target.name](b),a.disable()})}this.getDom().mouseout(function(b){var c=b.offsetX,d=b.offsetY;void 0===this.hold&&(c<0||c>126||d<0||d>316)&&(this.hold=setTimeout(function(){a.disable()},5e3))}),this.getDom().mouseover(function(a){this.hold&&(clearTimeout(this.hold),this.hold=void 0)})},f.disable=function(){this.focusActor&&(this.focusActor.selected=!1,this.focusActor=void 0),this.rendered&&this.getDom().fadeOut("slow")},f.repos=function(a,b){a||(a=window.event),b&&(this.focusActor=b,this.focusActor.selected=!0);var c=this.getDom(),e=document.getElementById(this.prefix),f=d.coordW2C(e,a.clientX,a.clientY),g=this.cvs.toolEnable?this.cvs.toolbar[1]:0,h=this.cvs.toolEnable?this.cvs.toolbar[0]:0,i=f.x+c.width()/2+g+this.cvs.edge,j=f.y+c.height()/2+h+this.cvs.edge;f.x+c.width()>this.cvs.width&&(i-=c.width()),f.y+c.height()>this.cvs.height&&(j=this.cvs.height-c.height()/2+h-3),c.attr({left:i,top:j}),c.css("left",i),c.css("top",j),this.updDoms()},f.updDoms=function(){var b,c,e;b="prop",c=this.getDom(b),e=this.focusActor&&(this.focusActor instanceof a.actor.atom||this.focusActor instanceof a.actor.bond),e?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="undo",c=this.getDom(b),e=this.cvs.toolMng.checkBtn(b),e.active?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="redo",c=this.getDom(b),e=this.cvs.toolMng.checkBtn(b),e.active?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="cut",c=this.getDom(b),e=this.cvs.lasso.active(),e?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="copy",c=this.getDom(b),e=this.focusActor||this.cvs.lasso.active(),e?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="paste",c=this.getDom(b),e=d.getCookie(a.key+"clipboard",""),e.length>5?c.removeAttr("disabled"):c.attr("disabled","disabled"),b="erase",c=this.getDom(b),e=this.cvs.lasso.active(),e?c.removeAttr("disabled"):c.attr("disabled","disabled");var f=this;this.hold=setTimeout(function(){f.disable()},5e3)},f.prop=function(){this.focusActor instanceof a.actor.atom?(this.cvs.dialogMng.dlgAtomProp.setFocus(this.focusActor),this.cvs.dialogMng.openDlg(this.cvs.dialogMng.dlgAtomProp)):this.focusActor instanceof a.actor.bond&&(this.cvs.dialogMng.dlgBondProp.setFocus(this.focusActor),this.cvs.dialogMng.openDlg(this.cvs.dialogMng.dlgBondProp))},f.undo=function(){this.cvs.toolMng.selectBtn("undo")},f.redo=function(){this.cvs.toolMng.selectBtn("redo")},f.cut=function(a){this.cvs.clipboard(a),this.cvs.actionMng.push(new c.remove(this.cvs,null,this.cvs.lasso.atoms,null,this.cvs.lasso.shapes)),this.cvs.resetLasso()},f.copy=function(a){this.cvs.clipboard(a,this.focusActor),this.cvs.resetLasso()},f.paste=function(a){this.cvs.toolMng.selectBtn("paste",a)},f.selectAll=function(){this.cvs.eventMng.changeEvent(EVENT.lasso),this.cvs.lasso.mode=LASSO_MODE.rect,this.cvs.resetLasso();for(var a=[],b=0;b<this.cvs.molecules.length;b++)a=a.concat(this.cvs.molecules[b].atoms);this.cvs.lasso.select(a,this.cvs.shapes)},f.erase=function(){this.cvs.actionMng.push(new c.remove(this.cvs,null,this.cvs.lasso.atoms,null,this.cvs.lasso.shapes)),this.cvs.resetLasso()},f.clear=function(){this.cvs.toolMng.selectBtn("clear")}}(ipmd,ipmd.editor.ui,ipmd.editor.actions,ipmd.util),function(a,b,c,d){"use strict";var e=8,f=["d50000","e57373","ef5350","f44336","e53935","d32f2f","c62828","b71c1c","ff6d00","ffb740","ffa726","ff9800","fe8c00","f57c00","ef6c00","e65100","ffd600","fff176","ffee58","ffeb3b","fdd835","fbc02d","f9a825","f57f17","00c853","81c784","66bb6a","4caf50","13a047","388e3c","2e7d32","1b5e20","00b8d4","4dd0e1","26c6da","00bcd4","00acc1","0097a7","00838f","006064","2962ff","64b5f6","42a5f5","2196f3","1e88e5","1976d2","1565c0","0d47a1","aa00ff","ba68c8","ab47bc","9c27b0","8e24aa","7b1fa2","6a1b9a","4a148c","000000","e0e0e0","bdbdbd","9e9e9e","757575","616161","424242","212121"];b.dCPicker=function(a,b,c){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgCPicker",this.title=c,this.cls="dialog dialog-cpicker",this.withOverlay=!1,this.withClose=!1,this.withTitle=void 0!==this.title};var g=b.dCPicker.prototype=new b.dialog;g.doneCallback=void 0,g.cellCallback=void 0,g.subHtmlTpl=function(){for(var a=[],b=0;b<e;b++)for(var c=0;c<e;c++)a.push('<input type="button" class="cpcell" style="background:#'),a.push(f[b*e+c]),a.push(';" value="#'),a.push(f[b*e+c]),a.push('"></input>');return a.join("")},g.bindFunc=function(){var a=this;$(".cpcell").hover(function(b){a.cellCallback&&a.cellCallback(this.value)}),$(".cpcell").click(function(b){a.doneCallback&&a.doneCallback(this.value),a.disable()})},g.disable=function(a){this.rendered&&this.getDom().fadeOut("slow"),this.doneCallback=void 0,this.cellCallback=void 0,a||this.cvs.toolMng.focusRollback("color")},g.repos=function(a,b){a||(a=window.event);var c=this.getDom(),e=document.getElementById(this.prefix),f=d.coordW2C(e,a.clientX,a.clientY),g=this.cvs.toolEnable?this.cvs.toolbar[1]:0,h=this.cvs.toolEnable?this.cvs.toolbar[0]:0;f.y<0&&(f.x=2*this.cvs.toolSize-g,f.y=0);var i=f.x+c.width()/2+g+this.cvs.edge,j=f.y+c.height()/2+h+this.cvs.edge;f.x+c.width()>this.cvs.width&&(i-=c.width()),f.y+c.height()>this.cvs.height&&(j-=c.height()),c.attr({left:i,top:j}),c.css("left",i),c.css("top",j)}}(ipmd,ipmd.editor.ui,ipmd.editor.actions,ipmd.util),function(a,b,c,d,e){"use strict";c.dPreview=function(a,b,c){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgPreview",this.title=c,this.cls="dialog dialog-preview",this.withOverlay=!1,this.withClose=!1,this.withTitle=void 0!==this.title};var f=c.dPreview.prototype=new c.dialog;f.prevCanvas=void 0,f.subHtmlTpl=function(){var a=[];return a.push('<div id="'),a.push(this.getDomId("container")),a.push('" class="container"'),a.push("></div>"),a.join("")},f.disable=function(){this.rendered&&this.getDom().fadeOut("slow")},f.repos=function(a){a||(a=window.event);var b=this.getDom(),c=document.getElementById(this.prefix),d=e.coordW2C(c,a.clientX,a.clientY),f=this.cvs.toolEnable?this.cvs.toolbar[1]:0,g=this.cvs.toolEnable?this.cvs.toolbar[0]:0,h=d.x+b.width()/2+f+this.cvs.edge,i=d.y+b.height()/2+g+this.cvs.edge;d.x+b.width()>this.cvs.width&&(h-=b.width()),d.y+b.height()>this.cvs.height&&(i-=b.height()),b.attr({left:h,top:i}),b.css("left",h),b.css("top",i)},f.preview=function(a,c,d,e){if("string"==typeof c){var f=c,g=this.getDom("container"),h=g.width(),i=g.height();c={id:f,single:!0,fixSize:!0,width:h,height:i,container:g,rotate3D:void 0===d||d,ls:LS_TYPE.permeator,cls:"preview"},void 0===e?c.cvs=this.cvs:"string"==typeof e?c.content=e:c.mol=e}this.prevCanvas=b.display(a,c)},f.view=function(a,b){var c=a?"3D":"";this.preview("cvView"+c,"prvView"+c,!0,b)},f.transform=function(a,b,c){var d=a?"3D":"";this.preview("cvTransform"+d,"prvTransform"+d,b,c)}}(ipmd,ipmd.editor,ipmd.editor.ui,ipmd.editor.actions,ipmd.util),function(a,b,c,d,e,f){"use strict";function g(a,b,c){$.ajax({type:"get",async:!1,url:a,dataType:"jsonp",jsonpCallback:"callback",success:function(a){b&&b(a)},error:function(){c&&c(json)}})}c.dTemplate=function(a,b,c){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgTemplate",this.title=c||e.i18n("titleTemplate","Template"),this.cls="dialog dialog-template"};var h=c.dTemplate.prototype=new c.dialog;h.subHtmlTpl=function(){var a=[];return a.push('<div class="tmpTitle">'),a.push(e.i18n("templateTopMsg")),a.push('<select class="stype" id="'),a.push(this.getDomId("stype")),a.push('"></select>'),a.push("</div>"),a.push('<div class="container" id="'),a.push(this.getDomId("container")),a.push('"></div>'),a.push('<button id="'),a.push(this.getDomId("import")),a.push('">'),a.push(e.i18n("importBtnTitle")),a.push("</button>"),a.join("")},h.bindFunc=function(){var b=this;this.getDom("import").click(function(){if(!b.currTemp)return void b.disable();var c=$(b.currTemp).attr("value"),h="mol",i=a.websiteTemplate+c+"."+h;g(i,function(a){var c,g;if("mol"===h){var i=e.theme();c=f.readMOL(a,i.TEMPLEAT_BONE_LENGTH),g=b.cvs.shapes}else c=f.readIPM(JSON.stringify(a)),g=c.shapes;c&&(c.molecules.length>0||g.length>0)?(b.cvs.oneMol?b.cvs.actionMng.push(new d.updateCvs(b.cvs,c.molecules[0])):(b.cvs.actionMng.push(new d.updateCvs(b.cvs,null,b.cvs.molecules.concat(c.molecules),g)),b.cvs.eventMng.changeEvent(EVENT.lasso),b.cvs.lasso.mode=LASSO_MODE.rect,b.cvs.lasso.select(c.molecules[c.molecules.length-1].atoms,g)),b.disable(),b.cvs.toolMng.focusRollback("selects")):e.alertMsg(e.i18n("parseError"))})}),this.getDom("stype").change(function(a){b.resetOptions(this.value)})},h.updDoms=function(){if(this.list)this.resetOptions();else{var b=this,c=a.websiteTemplate+"_template_"+a.lang+".js";g(c,function(a){b.list=a,b.typeKList=[],b.typeVData={};for(var c=0,d=b.list.length;c<d;c++){var e=b.list[c],f=e.t;b.typeKList.indexOf(f)==-1&&b.typeKList.push(f),b.typeVData[f]||(b.typeVData[f]=[]),b.typeVData[f].push(e)}b.resetOptions()})}},h.resetOptions=function(b){if(void 0===b){$("#"+this.getDomId("stype")+" option").remove();for(var c=this.getDom("stype"),d=0,e=this.typeKList.length;d<e;d++){var f=this.typeKList[d];c.append('<option value="'+f+'">'+f)}b=this.typeKList[0]}var g=this.typeVData[b],c=this.getDom("container");c.empty(),this.currTemp=void 0;for(var d=0,e=g.length;d<e;d++){var h=g[d].n,i=g[d].f,j=a.websiteTemplate+i.toLowerCase()+".png",k="center";h=h.replace(" "," <br />").replace("-","-<br />").replace("+","+<br />"),h.indexOf("<br />")>-1&&(k="left");var l=[];l.push('<div class="temp_preview" value="'),l.push(i),l.push('">'),l.push('<div class="prvlab" style="text-align:'),l.push(k),l.push(';">'),l.push(h),l.push("</div>"),l.push('<div class="prvimg" style="background-image:url('),l.push(j),l.push(');">'),l.push("</div>"),l.push("</div>"),c.append(l.join(""))}var m=this;$(".temp_preview").click(function(){m.currTemp&&$(m.currTemp).css("border-color","rgba(0,0,0,0)"),m.currTemp=this,$(this).css("border-color","#30c2ff")})}}(ipmd,ipmd.editor,ipmd.editor.ui,ipmd.editor.actions,ipmd.util,ipmd.parser),function(a,b,c,d,e){"use strict";a.dAtomProp=function(a,b,c,e){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.focusActor=e||this.cvs.focusActor,this.id=b||"dlgAtomProp",this.title=c||d.i18n("titleAtomProp","AtomProp"),this.cls="dialog dialog-atomprop"};var f=a.dAtomProp.prototype=new a.dialog;f.setFocus=function(a){self.forceUpdate=!1,this.focusActor=a,this.focusActor.selected=!0,$("input#ap_atom").val(this.focusActor.label),$("input#ap_alias").val(this.focusActor.altLabel),$("input#ap_charge").val(this.focusActor.charge);var b=this.focusActor.implHCount(1),d=1,e=0,f=0,g=b>0?1:0;if(this.focusActor.bonds)for(var h=0,i=this.focusActor.bonds.length;h<i;h++){var j=this.focusActor.bonds[h];d=Math.max(d,j.order),void 0!==j.ring&&(e=1,f=0==f?j.ring.bonds.length:Math.min(f,j.ring.bonds.length))}$("input#ap_totalH").val(c[this.focusActor.label].valency),$("input#ap_implH").val(b),$("input#ap_bOrder").val(d),$("input#ap_conn").val(this.focusActor.bondCount),$("input#ap_rSize").val(f),$("select#ap_rCount").find('option[value="'+e+'"]').attr("selected",!0),$("select#ap_rBond").find('option[value="1"]').attr("selected",!0),$("select#ap_subs").find('option[value="1"]').attr("selected",!0),$("select#ap_unsat").find('option[value="'+g+'"]').attr("selected",!0),$("select#ap_armt").find('option[value="0"]').attr("selected",!0)},f.subHtmlTpl=function(){var a=[],b="< not set >",c=this.cvs.theme.ATOM_PROPS_TYPE,e=(this.cvs.theme.ATOM_PROPS_TOPO,[b,">0","exactly"]),f=[b,"as drawn","exactly"],g=[b,"as drawn","exactly"],h=[b,"Unsaturated"],i=[b,"Aromatic (a)","Aliphatic (A)"];a.push('<div class="ptitle">'+d.i18n("atomType")+"</div>"),a.push('<select id="'),a.push(this.getDomId("st_type")),a.push('">');for(var j=0;j<c.length;j++){var k=c[j].key;a.push('<option value="'+j+'">'),a.push(d.i18n("ap_"+k))}a.push("</select>"),a.push("<hr />"),a.push('<div class="tabs">'),a.push('<input checked id="basic" name="tabs" type="radio">'),a.push('<label for="basic">'+d.i18n("atomBasic")+"</label>"),a.push('<input id="advance" name="tabs" type="radio">'),a.push('<label for="advance">'+d.i18n("atomAdvance")+"</label>"),a.push('<div class="panels">'),a.push('<div class="panel">'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_atom")+"</div>"),a.push('<input type="text" id="ap_atom" /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_alias")+"</div>"),a.push('<input type="text" id="ap_alias" /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_isotope")+"</div>"),a.push('<input type="text" id="ap_isotope" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_charge")+"</div>"),a.push('<input type="text" id="ap_charge" /></div>'),a.push("</div>"),a.push('<div class="panel">'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_totalH")+"</div>"),a.push('<input type="text" id="ap_totalH" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_implH")+"</div>"),a.push('<input type="text" id="ap_implH" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_bOrder")+"</div>"),a.push('<input type="text" id="ap_bOrder" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_conn")+"</div>"),a.push('<input type="text" id="ap_conn" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rCount")+"</div>"),a.push('<select id="ap_rCount" class="cell" disabled >');for(var j=0,l=e.length;j<l;j++){var k=e[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rSize")+"</div>"),a.push('<input type="text" id="ap_rSize" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rBond")+"</div>"),a.push('<select id="ap_rBond" class="cell" disabled >');for(var j=0,l=f.length;j<l;j++){var k=f[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_subs")+"</div>"),a.push('<select id="ap_subs" class="cell" disabled >');for(var j=0,l=g.length;j<l;j++){var k=g[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_unsat")+"</div>"),a.push('<select id="ap_unsat" class="cell" disabled >');for(var j=0,l=h.length;j<l;j++){var k=h[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_armt")+"</div>"),a.push('<select id="ap_armt" class="cell" disabled >');for(var j=0,l=i.length;j<l;j++){var k=i[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push("</div>"),a.push('<div class="panel">'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_atom")+"</div>"),a.push('<input type="text" id="ap_atom" /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_alias")+"</div>"),a.push('<input type="text" id="ap_alias" /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_isotope")+"</div>"),a.push('<input type="text" id="ap_isotope" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_charge")+"</div>"),a.push('<input type="text" id="ap_charge" /></div>'),a.push("</div>"),a.push('<div class="panel">'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_totalH")+"</div>"),a.push('<input type="text" id="ap_totalH" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_implH")+"</div>"),a.push('<input type="text" id="ap_implH" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_bOrder")+"</div>"),a.push('<input type="text" id="ap_bOrder" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_conn")+"</div>"),a.push('<input type="text" id="ap_conn" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rCount")+"</div>"),a.push('<select id="ap_rCount" class="cell" disabled >');for(var j=0,l=e.length;j<l;j++){var k=e[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rSize")+"</div>"),a.push('<input type="text" id="ap_rSize" disabled /></div>'),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_rBond")+"</div>"),a.push('<select id="ap_rBond" class="cell" disabled >');for(var j=0,l=f.length;j<l;j++){var k=f[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_subs")+"</div>"),a.push('<select id="ap_subs" class="cell" disabled >');for(var j=0,l=g.length;j<l;j++){var k=g[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_unsat")+"</div>"),a.push('<select id="ap_unsat" class="cell" disabled >');for(var j=0,l=h.length;j<l;j++){var k=h[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}a.push("</select></div>"),a.push('<div class="p"><div class="psubtitle">'+d.i18n("ap_armt")+"</div>"),a.push('<select id="ap_armt" class="cell" disabled >');for(var j=0,l=i.length;j<l;j++){var k=i[j];a.push('<option value="'+j+'">'),a.push(d.i18n("ap_ebs_"+k,k))}return a.push("</select></div>"),a.push("</div>"),a.push("</div></div>"),a.push('<button id="'),a.push(this.getDomId("set")),a.push('">'),a.push(d.i18n("propBtnTitle")),a.push("</button>"),a.join("")},f.bindFunc=function(){var a=this;this.getDom("set").click(function(){var e=a.currPanel%2,f=$("input#ap_atom").eq(e).val(),g=$("input#ap_alias").eq(e).val(),h=parseInt($("input#ap_charge").eq(e).val()),i=f!==a.focusActor.label&&(f.length>0||void 0!==a.focusActor.label),j=g!==a.focusActor.altLabel&&(g.length>0||void 0!==a.focusActor.altLabel),k=h!==a.focusActor.charge;if(i){if(!c[f])return void d.alertMsg(d.i18n("atomError"));a.cvs.actionMng.push(new b.updateProto(a.focusActor,f,"label",(!0)),j||k)}j&&a.cvs.actionMng.push(new b.updateProto(a.focusActor,g,"altLabel",(!0)),k),k&&a.cvs.actionMng.push(new b.updateProto(a.focusActor,h,"charge",(!0))),a.cvs.repaint(),a.disable()}),this.getDom("st_type").change(function(){var b=2*a.getDom("st_type").val()+a.currPanel%2,c=$(".panel").eq(b);a.currPanel&&$(".panel").eq(a.currPanel).hide(),c.show(),a.currPanel=b}),$("input#basic").change(function(){var b=2*a.getDom("st_type").val(),c=$(".panel").eq(b);a.currPanel&&$(".panel").eq(a.currPanel).hide(),this.checked?(c.show(),a.currPanel=b):c.hide()}),$("input#advance").change(function(){var b=2*a.getDom("st_type").val()+1,c=$(".panel").eq(b);a.currPanel&&$(".panel").eq(a.currPanel).hide(),this.checked?(c.show(),a.currPanel=b):c.hide()});var e=$.map(ELEMENT,function(a,b){return{value:a[0],data:a[0]}});$("input#ap_atom").autocomplete({lookup:e}),this.currPanel=0,$(".panel").eq(this.currPanel).show()},f.disable=function(){this.focusActor.selected=!1,this.focusActor=void 0,this.rendered&&this.getDom().fadeOut("slow"),this.cvs&&this.cvs.toolMng.focusRollback()}}(ipmd.editor.ui,ipmd.editor.actions,ipmd.Elements,ipmd.util,ipmd.parser),function(a,b,c,d){"use strict";var e=!0;a.dBondProp=function(a,b,d,f){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.focusActor=f||this.cvs.focusActor,this.id=b||"dlgBondProp",this.title=d||c.i18n("titleBondProp","BondProp"),this.cls="dialog dialog-bondprop",e=this.cvs.theme.BOND_THICKENABLE};var f=a.dBondProp.prototype=new a.dialog;f.setFocus=function(a){self.forceUpdate=!1,this.focusActor=a,this.focusActor.selected=!0,this.getDom("st_type").val();var b=0,c=this.cvs.theme.BOND_PROPS_TYPE,d=this.cvs.theme.BOND_PROPS_TOPO;b=0;for(var f=0,g=c.length;f<g;f++)if(c[f].order===this.focusActor.order&&c[f].stereo===this.focusActor.stereo){b=f;break}if(this.getDom("st_type").find('option[value="'+b+'"]').attr("selected",!0),b=0,void 0!==this.focusActor.altLabel)for(var f=0,g=d.length;f<g;f++)if(d[f].key===this.focusActor.altLabel){b=f;break}this.getDom("st_topo").find('option[value="'+b+'"]').attr("selected",!0),e&&(b=this.focusActor.thick||this.cvs.theme.BOND_WIDTH,this.getDom("st_topo").find('option[value="'+b+'"]').attr("selected",!0))},f.subHtmlTpl=function(){var a=[],b=this.cvs.theme.BOND_PROPS_TYPE,d=this.cvs.theme.BOND_PROPS_TOPO,f=this.cvs.theme.BOND_PROPS_THICK;a.push('<div class="ptitle">'+c.i18n("bondType")+"</div>"),a.push('<select id="'),a.push(this.getDomId("st_type")),a.push('">');for(var g=0,h=b.length;g<h;g++){var i=b[g].key;a.push('<option value="'+g+'"'),0==b[g].order&&a.push(" disabled"),a.push(" >"),a.push(c.i18n("bp_"+i))}a.push("</select>"),a.push('<div class="ptitle">'+c.i18n("bondTopo")+"</div>"),a.push('<select id="'),a.push(this.getDomId("st_topo")),a.push('">');for(var g=0,h=d.length;g<h;g++){var i=d[g].key;a.push('<option value="'+g+'">'),a.push(c.i18n("bp_"+i))}if(a.push("</select>"),e){a.push('<div class="ptitle">'+c.i18n("bondThick")+"</div>"),a.push('<select id="'),a.push(this.getDomId("st_thick")),a.push('">');for(var g=0,h=f.length;g<h;g++)a.push('<option value="'+f[g].value+'">'),a.push(f[g].key);a.push("</select>")}return a.push('<button id="'),a.push(this.getDomId("set")),a.push('">'),a.push(c.i18n("propBtnTitle")),a.push("</button>"),a.join("")},f.bindFunc=function(){var a=this;this.getDom("set").click(function(){var c=a.cvs.theme.BOND_PROPS_TYPE,d=a.cvs.theme.BOND_PROPS_TOPO,f=a.getDom("st_type").val(),g=a.getDom("st_topo").val(),h=c[f].order,i=c[f].stereo,j=c[f].altLabel||d[g].altLabel,k=e?a.getDom("st_thick").val():void 0;void 0!==k&&(k=void 0===a.focusActor.thick&&k===a.cvs.theme.BOND_WIDTH.toString()||void 0!==a.focusActor.thick&&k===a.focusActor.thick.toString()?void 0:parseFloat(k)),a.cvs.actionMng.push(new b.updateBond(a.focusActor,h,i,j,k,a.forceUpdate)),a.disable()}),this.getDom("st_topo").change(function(b){a.forceUpdate=!0})},f.disable=function(){this.focusActor.selected=!1,this.focusActor=void 0,this.rendered&&this.getDom().fadeOut("slow"),this.cvs&&this.cvs.toolMng.focusRollback()}}(ipmd.editor.ui,ipmd.editor.actions,ipmd.util,ipmd.parser),function(a,b,c,d){"use strict";b.dSetting=function(a,b,d){"string"==typeof a?this.prefix=a:(this.cvs=a,this.prefix=this.cvs.id),this.id=b||"dlgSetting",this.title=d||c.i18n("titleSetting","Setting"),this.topMsg=c.i18n("settingTopMsg"),this.cls="dialog dialog-setting"};var e=b.dSetting.prototype=new b.dialog;e.subHtmlTpl=function(){var a=[];return a.push('<div class="cb"><input id="'),a.push(this.getDomId("inIdx")),a.push('" type="checkbox" /><label for="'),a.push(this.getDomId("inIdx")),a.push('">'),a.push(c.i18n("settingTitleIdx")),a.push("</label></div>"),a.push('<div class="cb"><input id="'),a.push(this.getDomId("inC")),a.push('" type="checkbox" /><label for="'),a.push(this.getDomId("inC")),a.push('">'),a.push(c.i18n("settingTitleC")),a.push("</label></div>"),a.push('<button id="'),a.push(this.getDomId("setting")),a.push('">'),a.push(c.i18n("settingBtnTitle")),a.push("</button>"),a.push("<hr />"),a.push("<p>"),a.push(c.i18n("delNHTitle")),a.push("</p>"),a.push('<button class="func" id="'),a.push(this.getDomId("delNH")),a.push('">'),a.push(c.i18n("delNHBtnTitle")),a.push("</button>"),a.join("")},e.bindFunc=function(){var a=this;this.getDom("setting").click(function(){var b=a.getDom("inIdx").prop("checked"),c=a.getDom("inC").prop("checked");a.cvs.theme.ATOM_IDX_DISPLAY=b,a.cvs.theme.ATOM_DISPLAY_ALL_C=c,d.C.addH=showNonpolarH,a.cvs.repaint(),a.disable()}),this.getDom("delNH").click(function(){a.cvs.detectMolecules(),a.cvs.repaint(),a.disable()})},e.enable=function(){this.rendered&&(this.getDom("inIdx").prop("checked",this.cvs.theme.ATOM_IDX_DISPLAY),this.getDom("inC").prop("checked",this.cvs.theme.ATOM_DISPLAY_ALL_C),this.getDom().fadeIn("fast"))}}(ipmd,ipmd.editor.ui,ipmd.util,ipmd.Elements),function(a){"use strict";a.manager=function(a){this.cvs=a,this.undoStack=[],this.redoStack=[],this.bindStack=[]};var b=a.manager.prototype;b.undo=function(){if(0!==this.undoStack.length){this.cvs.resetLasso();var b=this.undoStack.pop();if(b instanceof a.action)b.reverse(this.cvs);else for(var c=b.length-1;c>=0;c--)b[c].reverse(this.cvs);this.redoStack.push(b),0===this.undoStack.length&&this.cvs.toolMng.disableBtns("undo"),this.cvs.toolMng.enableBtns("redo")}},b.redo=function(){if(0!==this.redoStack.length){this.cvs.resetLasso();var b=this.redoStack.pop();if(b instanceof a.action)b.forward(this.cvs);else for(var c=0;c<b.length;c++)b[c].forward(this.cvs);this.undoStack.push(b),this.cvs.toolMng.enableBtns("undo"),0===this.redoStack.length&&this.cvs.toolMng.disableBtns("redo")}},b.push=function(a,b){a.forward(this.cvs),b?this.bindStack.push(a):(this.bindStack.length>0?(this.bindStack.push(a),this.undoStack.push(this.bindStack),this.bindStack=[]):this.undoStack.push(a),0!==this.redoStack.length&&(this.redoStack=[]),this.cvs.toolMng.enableBtns("undo"),this.cvs.toolMng.disableBtns("redo"))},b.clear=function(){this.undoStack=[],this.redoStack=[],this.bindStack=[],this.cvs.toolMng.disableBtns("undo"),this.cvs.toolMng.disableBtns("redo")}}(ipmd.editor.actions),function(a,b,c,d,e){"use strict";b.DialogManager=function(c){this.dlgExport=new b.dExport(c),this.dlgExport.setup(),this.dlgImport=new b.dImport(c),this.dlgImport.setup(),this.dlgPTable=new b.dPeriodicTable(c),this.dlgPTable.setup(),this.dlgCopyright=new b.dCopyright(c),this.dlgCopyright.setup(),this.dlgInput=new b.dInput(c),this.dlgInput.setup(),this.dlgRMenu=new b.dRMenu(c),this.dlgRMenu.setup(),this.dlgCPicker=new b.dCPicker(c),this.dlgCPicker.setup(),this.dlgPreview=new b.dPreview(c),this.dlgPreview.setup(),this.dlgTemplate=new b.dTemplate(c),this.dlgTemplate.setup(),this.dlgAtomProp=new b.dAtomProp(c),this.dlgAtomProp.setup(),this.dlgBondProp=new b.dBondProp(c),this.dlgBondProp.setup(),this.dlgSetting=new b.dSetting(c),this.dlgSetting.setup(),this.dlgQueue=new a.queue};var f=b.DialogManager.prototype;f.escTop=function(){var a=this.dlgQueue.pop();a&&a.visible()&&a.disable()},f.openDlg=function(a){a.enable(),this.dlgQueue.push(a)},f.empty=function(){return!!this.dlgQueue.empty()||!this.dlgQueue.back().visible()}}(ipmd,ipmd.editor.ui,ipmd.editor.actions,ipmd.util,ipmd.parser),function(a,b,c,d,e){"use strict";var f=void 0,g="",h={};c.manager=function(b){for(var d in EVENT){var e=EVENT[d];h[e]=new c[e](b,e)}g=b instanceof a.canvas3D?EVENT.view:EVENT.genBond,
g=EVENT.genRing,f=h[g]};var i=c.manager.prototype;i.getEvent=function(a,b){var c=a&&h[a]?h[a]:f;return b?c[b]:c},i.changeEvent=function(a,c,i){(a!==g||i)&&h[a]&&(f.exit(),f=h[a],f.enter(),g=a,c&&d.initOption(f,c),a===EVENT.label&&b.cvs&&b.cvs.startAtom&&e[c.label]&&(b.cvs.startAtom.altLabel="Star"===c.label?"*":c.label,b.cvs.startAtom.color=e[c.label].color.colorRGB(.5)))},i.dispatch=function(a,b,c){f&&f[a]&&f[a](b,c)},i.dispatchEvent=function(a,b,c,d){var e=h[a];e&&e[b]&&e[b](c,d)}}(ipmd,ipmd.editor,ipmd.editor.events,ipmd.util,ipmd.Elements),function(a,b,c,d,e){"use strict";b.ToolbarManager=function(f){var g=this;this.cvs=f,this.buttons={},this.onclicks={clear:function(){var a=!0;if(f.oneMol){if(1===f.molecules[0].atoms.length){var b=f.molecules[0].atoms[0];"C"===b.label&&0===b.charge&&b.mass===-1&&(a=!1)}}else f.empty()&&(a=!1);a&&(f.eventMng.dispatch("clearFocus"),f.resetLasso(),f.actionMng.push(new c.clear(f))),g.focusRollback()},erase:function(){f.eventMng.changeEvent(EVENT.erase),f.resetLasso()},"import":function(){f.dialogMng.openDlg(f.dialogMng.dlgImport),f.resetLasso()},"export":function(){f.dialogMng.dlgExport.updDom(),f.dialogMng.openDlg(f.dialogMng.dlgExport),f.resetLasso()},undo:function(){f.actionMng.undo(),g.focusRollback()},redo:function(){f.actionMng.redo(),g.focusRollback()},cut:function(a){f.clipboard(a);for(var b=[],d=0,e=f.lasso.atoms.length;d<e;d++){var h=f.lasso.atoms[d],i=f.getMol(h),j=i.getBonds(h);b=$.merge(b,j)}f.actionMng.push(new c.remove(f,null,f.lasso.atoms,b,f.lasso.shapes)),f.resetLasso(),g.focusRollback()},copy:function(a){f.clipboard(a),f.resetLasso(),g.focusRollback()},paste:function(a){f.getClipboard(a),g.doPaste(f),g.focusRollback()},zoomin:function(){f.theme.SCALE*=1.2,f.clampScale(),f.resetLasso(),f.repaint()},zoomout:function(){f.theme.SCALE/=1.2,f.clampScale(),f.resetLasso(),f.repaint()},center:function(){f.resetLasso(),f.reloadActors()},color:function(){f.eventMng.changeEvent(EVENT.color),f.lasso&&f.lasso.active()&&f.eventMng.getEvent().mouseup()},setting:function(){f.resetLasso(),f.dialogMng.openDlg(f.dialogMng.dlgSetting)},copyright:function(){f.resetLasso(),f.dialogMng.openDlg(f.dialogMng.dlgCopyright)},rectSelect:function(){f.eventMng.changeEvent(EVENT.lasso),f.lasso.mode=LASSO_MODE.rect,f.molecules.length>0&&!f.lasso.active()&&f.lasso.select(f.molecules[f.molecules.length-1].atoms,[])},lassoSelect:function(){f.eventMng.changeEvent(EVENT.lasso),f.lasso.mode=LASSO_MODE.lasso,f.molecules.length>0&&!f.lasso.active()&&f.lasso.select(f.molecules[f.molecules.length-1].atoms,[])},plusSymbol:function(){f.eventMng.changeEvent(EVENT.charge,{delta:1},!0),f.resetLasso()},subSymbol:function(){f.eventMng.changeEvent(EVENT.charge,{delta:-1},!0),f.resetLasso()},text:function(){f.eventMng.changeEvent(EVENT.shape,{shapeType:ARROW_TYPE.text},!0),f.resetLasso()},arrowSynthetic:function(){f.eventMng.changeEvent(EVENT.shape,{shapeType:ARROW_TYPE.synthetic},!0),f.resetLasso()},temp:function(){f.dialogMng.dlgTemplate.updDoms(),f.dialogMng.openDlg(f.dialogMng.dlgTemplate),f.resetLasso()},singleBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1,stereo:STEREO.none},!0),f.resetLasso()},doubleBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:2,stereo:STEREO.none},!0),f.resetLasso()},threeBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:3,stereo:STEREO.none},!0),f.resetLasso()},singleOrDoubleBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:2.5,stereo:STEREO.ambiguous},!0),f.resetLasso()},singleOrAromaticBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1.5,stereo:STEREO.recessed,altLabel:"S/A"},!0),f.resetLasso()},doubleOrAromaticBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1.5,stereo:STEREO.protruding,altLabel:"D/A"},!0),f.resetLasso()},anyBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:.5,stereo:STEREO.none},!0),f.resetLasso()},aromaticBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1.5,stereo:STEREO.none},!0),f.resetLasso()},ringBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1,stereo:STEREO.none,altLabel:"ring"},!0),f.resetLasso(),f.resetLasso(),f.resetLasso()},chainBond:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1,stereo:STEREO.none,altLabel:"chain"},!0),f.resetLasso()},crossLine:function(){f.eventMng.changeEvent(EVENT.genBond,{order:2,stereo:STEREO.ambiguous},!0),f.resetLasso()},foldLine:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:11,unsaturated:!1},!0),f.resetLasso()},linkLine1:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1,stereo:STEREO.protruding},!0),f.resetLasso()},linkLine2:function(){f.eventMng.changeEvent(EVENT.genBond,{order:1,stereo:STEREO.recessed},!0),f.resetLasso()},ring3:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:3,unsaturated:!1},!0),f.resetLasso()},ring4:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:4,unsaturated:!1},!0),f.resetLasso()},ring5:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:5,unsaturated:!1},!0),f.resetLasso()},ring6:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:6,unsaturated:!1},!0),f.resetLasso()},ring7:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:7,unsaturated:!1},!0),f.resetLasso()},ring8:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:8,unsaturated:!1},!0),f.resetLasso()},ringN:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:13,unsaturated:!1},!0),f.resetLasso()},benzeneRing:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:6,unsaturated:!0},!0),f.resetLasso()},cyclopentadiene:function(){f.eventMng.changeEvent(EVENT.genRing,{sideCount:5,unsaturated:!0},!0),f.resetLasso()},periodicTable:function(){f.dialogMng.openDlg(f.dialogMng.dlgPTable),f.resetLasso()},element:function(a,b){var c=b.id;c.startWith("more")&&b.subId&&(c=b.subId),f.eventMng.changeEvent(EVENT.label,{label:c},!0),f.resetLasso()}},this.checkSizeLimit();for(var h=this.cvs.tools,i=this.cvs.toolSet,j=0,k=h.length;j<k;j++)for(var l=0,m=h[j].length;l<m;l++){var n=h[j][l];if(n.length>0&&"|"!==n&&"--"!==n&&"br"!==n){var o=e[n]?this.onclicks.element:this.onclicks[n];this.buttons[n]=new b.button(f.id,n,o)}}for(var p in i)if(this.buttons[p]&&i[p].length>3){this.buttons[p].dropset=[i[p][0],i[p][1],i[p][2]];for(var j=3,k=i[p].length;j<k;j++){var n=i[p][j],o=e[n]?this.onclicks.element:this.onclicks[n],q={widget:"input",type:"button",root:this.buttons[p]};this.buttons[n]=new b.button(f.id,n,o,q),this.buttons[p].dropset.push(this.buttons[n])}this.buttons[p].subId=this.buttons[p].dropset[3].id,this.buttons[p].icon=d.image(this.buttons[p].dropset[3].id),void 0===this.buttons[p].func&&(this.buttons[p].func=this.buttons[p].dropset[3].func)}this.buttons.language&&(this.buttons.language.ignoreFocus=!0,this.buttons.language.icon=d.image("language_"+a.lang)),this.buttons.zoom&&(this.buttons.zoom.ignoreFocus=!0)};var f=b.ToolbarManager.prototype;f.checkSizeLimit=function(){var b,c,d;this.cvs.tools||(this.cvs.tools=a.userCfg.tools),this.cvs.toolSet||(this.cvs.toolSet=a.userCfg.toolSet),b=0,c=0,d=this.cvs.width+this.cvs.toolbar[1]+this.cvs.toolbar[3]-this.cvs.toolSize,d*=Math.floor(this.cvs.toolbar[b]/this.cvs.toolSize);for(var e=0,f=this.cvs.tools[b].length;e<f;e++)if(c+=this.cvs.toolSize,c>d){this.cvs.toolSet.moreT=["dropdown",0,0];for(var g=e;g<f;g++){var h=this.cvs.tools[b][g];if(h.length>0&&"|"!==h&&"--"!==h&&"br"!==h&&!h.startWith("blank"))if(this.cvs.toolSet[h]){for(var i=3,j=this.cvs.toolSet[h].length;i<j;i++)this.cvs.toolSet.moreT.push(this.cvs.toolSet[h][i]);this.cvs.toolSet[h]=[]}else this.cvs.toolSet.moreT.push(h);this.cvs.tools[b][g]=""}this.cvs.toolSet.moreT[1]=Math.min(this.cvs.width,(this.cvs.toolSet.moreT.length-3)*(this.cvs.toolSize-2)),this.cvs.toolSet.moreT[2]=this.cvs.toolSize/2-this.cvs.toolSet.moreT[1],this.cvs.tools[b][e]="moreT";break}b=3,c=0,d=this.cvs.height+this.cvs.toolbar[2]-this.cvs.toolSize,d*=Math.floor(this.cvs.toolbar[b]/this.cvs.toolSize);for(var e=0,f=this.cvs.tools[b].length;e<f;e++)if(c+=this.cvs.toolSize,c>d){this.cvs.toolSet.moreL=["dropright",0,0];for(var g=e;g<f;g++){var h=this.cvs.tools[b][g];if(h.length>0&&"|"!==h&&"--"!==h&&"br"!==h&&!h.startWith("blank"))if(this.cvs.toolSet[h]){for(var i=3,j=this.cvs.toolSet[h].length;i<j;i++)this.cvs.toolSet.moreL.push(this.cvs.toolSet[h][i]);this.cvs.toolSet[h]=[]}else this.cvs.toolSet.moreL.push(h);this.cvs.tools[b][g]=""}this.cvs.toolSet.moreL[1]=Math.min(this.cvs.width,(this.cvs.toolSet.moreL.length-3)*(this.cvs.toolSize-2)),this.cvs.tools[b][e]="moreL";break}b=1,c=0,d=this.cvs.height+this.cvs.toolbar[2]-this.cvs.toolSize,d*=Math.floor(this.cvs.toolbar[b]/this.cvs.toolSize);for(var e=0,f=this.cvs.tools[b].length;e<f;e++)if(c+=this.cvs.toolSize,c>d){this.cvs.toolSet.moreR=["dropleft",0,0];for(var g=e;g<f;g++){var h=this.cvs.tools[b][g];if(h.length>0&&"|"!==h&&"--"!==h&&"br"!==h&&!h.startWith("blank")){if(this.cvs.toolSet[h]){for(var i=3,j=this.cvs.toolSet[h].length;i<j;i++)this.cvs.toolSet.moreR.push(this.cvs.toolSet[h][i]);this.cvs.toolSet[h]=[]}else this.cvs.toolSet.moreR.push(h);this.cvs.tools[b][g]=""}}this.cvs.toolSet.moreR[1]=Math.min(this.cvs.width,(this.cvs.toolSet.moreR.length-3)*(this.cvs.toolSize-2)),this.cvs.toolSet.moreR[2]=-3-this.cvs.toolSize/2-this.cvs.toolSet.moreR[1],this.cvs.tools[b][e]="moreR";break}b=2,c=0,d=this.cvs.width-this.cvs.toolSize,d*=Math.floor(this.cvs.toolbar[b]/this.cvs.toolSize);for(var e=0,f=this.cvs.tools[b].length;e<f;e++)if(c+=this.cvs.toolSize,c>d){this.cvs.toolSet.moreB=["dropup",0,0];for(var g=e;g<f;g++){var h=this.cvs.tools[b][g];if(h.length>0&&"|"!==h&&"--"!==h&&"br"!==h&&!h.startWith("blank"))if(this.cvs.toolSet[h]){for(var i=3,j=this.cvs.toolSet[h].length;i<j;i++)this.cvs.toolSet.moreB.push(this.cvs.toolSet[h][i]);this.cvs.toolSet[h]=[]}else this.cvs.toolSet.moreB.push(h);this.cvs.tools[b][g]=""}this.cvs.toolSet.moreB[1]=Math.min(this.cvs.width,(this.cvs.toolSet.moreB.length-3)*(this.cvs.toolSize-2)),this.cvs.toolSet.moreB[2]=this.cvs.toolSize/2-this.cvs.toolSet.moreB[1],this.cvs.tools[b][e]="moreB";break}},f.optMoreBtn=function(){if(this.buttons.moreL){var a=this.buttons.moreL.getDom("dropdiv"),b=a.height();if(b>this.cvs.toolSize){var c=-b-4+"px";a.css("margin-top",c)}}if(this.buttons.moreR){var a=this.buttons.moreR.getDom("dropdiv"),b=a.height();if(b>this.cvs.toolSize){var c=-b-4+"px";a.css("margin-top",c)}}},f.getHtmlTpl=function(){var a,b=function(a,b,c){"|"===c?(b.push('<button class="button separator" style="background-image:url('),b.push(d.image("separator")),b.push(');" disabled />')):c.startWith("sep_")?b.push('<button class="button '+c+'" disabled />'):"--"===c?(b.push('<button class="button separator_h" style="background-image:url('),b.push(d.image("separator_h")),b.push(');" disabled />')):"br"===c?b.push("<br />"):"blank"===c?b.push('<span class="blank"></span>'):c.startWith("blank")?b.push('<span class="blank '+c+'"></span>'):a[c]&&b.push(a[c].getHtmlTpl(!0))},c=this.cvs.tools,e=[];a=0,e.push('<div class="ipmd-tool">');for(var f=0,g=c[a].length;f<g;f++)b(this.buttons,e,c[a][f]);e.push("</div>"),a=3,e.push('<div class="ipmd-tool tool-left">');for(var f=0,g=c[a].length;f<g;f++)b(this.buttons,e,c[a][f]);e.push("</div>"),a=1,e.push('<div class="ipmd-tool tool-right">');for(var f=0,g=c[a].length;f<g;f++)b(this.buttons,e,c[a][f]);e.push("</div>"),a=2;var h=2*this.cvs.edge+this.cvs.height;e.push('<div class="ipmd-tool tool-bottom"'),e.push(' style="margin-top:'+h+'px;">');for(var f=0,g=c[a].length;f<g;f++)b(this.buttons,e,c[a][f]);return e.push("</div>"),e.join("")},f.render=function(){var a=this.getHtmlTpl();if(document.getElementById(this.cvs.id)){var b=$("#"+this.cvs.id);b.before(a)}else document.write(a)},f.setup=function(){for(var b=this.cvs.tools||a.userCfg.tools,c=0;c<b.length;c++)for(var d=0;d<b[c].length;d++){var e=b[c][d];this.buttons[e]&&this.buttons[e].setup(this.cvs)}this.optMoreBtn(),this.disableBtns("clear","undo","redo"),this.selectBtn("selects"),this.cvs.resetLasso()},f.floatRight=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];this.buttons[b]&&this.buttons[b].getDom().css("float","right")}},f.enableBtns=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];this.buttons[b]&&this.buttons[b].enable()}},f.disableBtns=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];this.buttons[b]&&this.buttons[b].disable()}},f.checkBtn=function(a){var b={rendered:!1,visible:!1,active:!1};return this.buttons[a]&&this.buttons[a].rendered&&(b.rendered=!0,b.visible=this.buttons[a].visible(),b.active=this.buttons[a].active()),b},f.selectBtn=function(a,b){this.buttons[a]&&(this.cvs.resetLasso(),this.focusBtn(a),this.buttons[a].getDom().focus(),this.buttons[a].func&&this.buttons[a].func(b,self))},f.clickBtn=function(a){this.buttons[a]&&this.buttons[a].getDom().click()},f.tempSave=function(){this.btnFocus&&(this.tmpFocus=this.btnFocus.id)},f.focusBtn=function(a){if("string"!=typeof a||!this.buttons[a]||!this.buttons[a].ignoreFocus){if("string"==typeof a&&this.buttons[a]&&this.buttons[a]!==this.btnFocus){if(this.btnFocus){if(this.btnSelected=this.btnFocus,this.btnFocus.dropset){this.btnFocus.getDom("dropdiv").fadeOut(),this.btnFocus.clicking=!0;var b=this.btnFocus;setTimeout(function(){b.clicking=void 0},400)}this.btnFocus.changeFocus(!1,this.cvs.theme)}this.btnFocus=this.buttons[a],this.cvs.dialogMng.dlgRMenu.visible()&&this.cvs.dialogMng.dlgRMenu.disable(),this.cvs.dialogMng.dlgInput.visible()&&this.cvs.dialogMng.dlgInput.disable(),this.cvs.dialogMng.dlgPreview.visible()&&this.cvs.dialogMng.dlgPreview.disable()}this.btnFocus.getDom().focus(),$(".dropdiv").fadeOut(),this.btnFocus.changeFocus(!0,this.cvs.theme)}},f.focusRollback=function(a,b){this.btnFocus&&(this.btnFocus.root||this.btnFocus.dropset)||(this.btnFocus&&this.btnFocus.changeFocus(!1,this.cvs.theme),a?this.buttons[a]&&this.buttons[a].getDom().focus():this.tmpFocus&&this.tmpFocus===b?this.buttons[b]&&this.buttons[b].getDom().focus():this.btnSelected&&(this.btnSelected.getDom().focus(),this.btnFocus=this.btnSelected),this.btnFocus&&this.btnFocus.changeFocus(!0,this.cvs.theme))},f.setLanguage=function(b){if(b&&a.lang!==b){a.lang=b;for(var c in this.buttons)this.buttons[c].updLanguage();d.setCookie(a.key+"lang",b),this.cvs.autosave(!0),location.reload()}},f.updTheme=function(){for(var b in this.buttons){var c=this.buttons[b],e=c.icon||d.image(c.id);c.getDom().css("background-image","url("+e+")")}$(".separator").css("background-image","url("+d.image("separator")+")"),$(".separator_h").css("background-image","url("+d.image("separator_h")+")"),this.buttons.language&&this.buttons.language.getDom().css("background-image","url("+d.image("language_"+a.lang)+")")},f.doPaste=function(b){if(b||(b=this.cvs),b.clipboardText&&b.clipboardText.length>5){var d=a.parser.checkFormat(b.clipboardText,"IPM"),e="read"+d,f=a.parser[e](b.clipboardText);if(f&&(f.molecules.length>0||f.shapes.length>0))if(b.oneMol)b.actionMng.push(new c.updateCvs(b,f.molecules[0],null,null,(!0)));else{if("MOL"===d){for(var g=new a.point(b.width/2,b.height/2),h=f.molecules.length-1;h>=0;h--)f.molecules[h].moveTo(g);b.actionMng.push(new c.updateCvs(b,null,b.molecules.concat(f.molecules),b.shapes,(!0)))}else b.actionMng.push(new c.updateCvs(b,null,b.molecules.concat(f.molecules),b.shapes.concat(f.shapes||[]),(!0)));b.eventMng.changeEvent(EVENT.lasso),b.lasso.mode=LASSO_MODE.rect,b.lasso.select(f.molecules[f.molecules.length-1].atoms,f.shapes||[]);var i=new a.point(5,5),j=new c.updateMove(b.lasso.getAllPoints(),i);j.forward(b)}}}}(ipmd,ipmd.editor.ui,ipmd.editor.actions,ipmd.util,ipmd.Elements),function(a,b,c,d,e,f,g,h){"use strict";a.canvas=function(){};var i=a.canvas.prototype;i.id=void 0,i.width=void 0,i.height=void 0,i.pxRatio=window.devicePixelRatio?window.devicePixelRatio:1,i.molecules=void 0,i.shapes=void 0,i.bgImg=void 0,i.logoImg=void 0,i.brandFill="ipm Draw",i.theme=void 0,i.eventMng=void 0,i.atomIdx=0,i.create=function(a,b,c,d){this.setup(a,b,c,d)},i.getMolecules=function(){return this.molecules},i.detectMolecules=function(){for(var a=this.molecules.length-1;a>=0;a--)for(var b=this.molecules[a],c=b.atoms.length-1;c>=0;c--){var e=b.atoms[c];if("H"==e.label&&e.bonds&&1==e.bonds.length){var g=e.bonds[0],h=g.brother(e);if("C"==h.label&&!f.C.addH){var i=new d.remove(this,e,[e],[g]);i.forward(this)}}}},i.loadContent=function(a,b){this.loadActors(a,b)},i.createDOM=function(){var a=[],b=this.toolEnable?this.toolbar[1]+this.toolbar[3]:0,c=this.toolEnable?this.toolbar[0]+this.toolbar[2]:0,d=this.width+b+2*this.edge,f=this.height+c+2*this.edge,g=this.cls||"editor";if(!this.container){var h=-d/2-2,i=0,j=$(document).width(),k=$(document).height();"number"==typeof this.m_left&&(h=this.m_left<1?j*this.m_left-j/2:this.m_left-j/2),"number"==typeof this.m_top&&(i=this.m_top<1?k*this.m_top:this.m_top),a.push('<div id="ipmd-editor-container"'),a.push(' class="ipmd-'+this.theme.name+'"'),a.push(' style="margin-left:'+h+"px;"),0!=i&&a.push(" margin-top:"+i+"px;"),a.push(" width:"+d+"px;"),a.push(" height:"+f+'px;"'),a.push(">")}a.push('<canvas class="'+g+'"'),a.push(" id="+this.id),a.push(" width="+this.width),a.push(" height="+this.height),a.push(' style="margin-top:'+this.edge+"px;"),void 0!==this.bgCache&&a.push(" background-color:"+this.bgCache+";"),a.push('">'),a.push(e.i18n("welcome")),a.push("</canvas>"),this.container?(this.container.empty(),this.container.append(a.join(""))):(a.push("</div>"),document.writeln(a.join("")))},i.setup=function(c,d,f,g){if(g||(g={}),e.initOption(this,g),this.id=c,this.width=d,this.height=f,this.molecules=[],this.shapes=[],!this.theme&&(this.theme=e.theme("new")),document.getElementById(c)){var i=$("#"+c);d?i.attr("width",d):this.width=i.attr("width"),f?i.attr("height",f):this.height=i.attr("height"),i.attr("class",this.cls||"editor")}else{if(!h.canvasTextEnabled()&&a.browser.ie)return void document.writeln('<div class="error" width="'+this.width+'" height="'+this.height+'"><a href="http://code.google.com/chrome/chromeframe/">'+e.i18n("pluginError")+"</a></div>");this.createDOM()}this.setupUI(g);var i=$("#"+this.id);i.css("width",this.width),i.css("height",this.height);var j=this;h.touchEnabled()?(i.bind("touchstart",function(b){var c=(new Date).getTime();if(!h.gestureEnabled()&&2===b.originalEvent.touches.length){var d=b.originalEvent.touches,e=new a.point(d[0].pageX,d[0].pageY),f=new a.point(d[1].pageX,d[1].pageY);j.gestureDist=e.distance(f),j.gestureAngle=e.angle(f),j.gesturestart&&(j.prehandleEvent(b),j.gesturestart(b))}j.lastTouch&&1===b.originalEvent.touches.length&&c-j.lastTouch<500?j.dbltap?(j.prehandleEvent(b),j.dbltap(b)):j.dblclick?(j.prehandleEvent(b),j.dblclick(b)):j.touchstart?(j.prehandleEvent(b),j.touchstart(b)):j.mousedown&&(j.prehandleEvent(b),j.mousedown(b)):j.touchstart?(j.prehandleEvent(b),j.touchstart(b),this.hold&&clearTimeout(this.hold),this.touchhold&&(this.hold=setTimeout(function(){j.touchhold(b)},1e3))):j.mousedown&&(j.prehandleEvent(b),j.mousedown(b)),j.lastTouch=c}),i.bind("touchmove",function(b){if(this.hold&&(clearTimeout(this.hold),this.hold=void 0),!h.gestureEnabled()&&2===b.originalEvent.touches.length&&j.gesturechange){var c=b.originalEvent.touches,d=new a.point(c[0].pageX,c[0].pageY),e=new a.point(c[1].pageX,c[1].pageY),f=d.distance(e),g=d.angle(e);b.originalEvent.scale=f/j.gestureDist,b.originalEvent.rotation=180*(j.gestureAngle-g)/Math.PI,j.prehandleEvent(b),j.gesturechange(b)}if(b.originalEvent.touches.length>1&&j.multitouchmove){var i=b.originalEvent.touches.length;j.prehandleEvent(b);for(var k=new a.point(-b.offset.left*i,-b.offset.top*i),l=0;l<i;l++)k.x+=b.originalEvent.changedTouches[l].pageX,k.y+=b.originalEvent.changedTouches[l].pageY;k.x/=i,k.y/=i,b.p=k,j.multitouchmove(b,i)}else j.touchmove?(j.prehandleEvent(b),j.touchmove(b)):j.drag&&(j.prehandleEvent(b),j.drag(b))}),i.bind("touchend",function(a){this.hold&&(clearTimeout(this.hold),this.hold=void 0),!h.gestureEnabled()&&j.gestureDist&&(j.gestureDist=void 0,j.gestureAngle=void 0,j.gestureend&&(j.prehandleEvent(a),j.gestureend(a))),j.touchend?(j.prehandleEvent(a),j.touchend(a)):j.mouseup&&(j.prehandleEvent(a),j.mouseup(a)),(new Date).getTime()-j.lastTouch<250&&(j.tap?(j.prehandleEvent(a),j.tap(a)):j.click&&(j.prehandleEvent(a),j.click(a)))}),i.bind("gesturestart",function(a){j.gesturestart&&(j.prehandleEvent(a),j.gesturestart(a))}),i.bind("gesturechange",function(a){j.gesturechange&&(j.prehandleEvent(a),j.gesturechange(a))}),i.bind("gestureend",function(a){j.gestureend&&(j.prehandleEvent(a),j.gestureend(a))})):(i.click(function(a){switch(a.which){case 1:j.click&&(j.prehandleEvent(a),j.click(a));break;case 2:j.middleclick&&(j.prehandleEvent(a),j.middleclick(a));break;case 3:j.rightclick&&(j.prehandleEvent(a),j.rightclick(a))}}),i.dblclick(function(a){j.dblclick&&(j.prehandleEvent(a),j.dblclick(a))}),i.mousedown(function(a){switch(a.which){case 1:b.mDragging=j,j.mousedown&&(j.prehandleEvent(a),j.mousedown(a));break;case 2:b.mDragging=j,j.middlemousedown&&(j.prehandleEvent(a),j.middlemousedown(a));break;case 3:j.rightmousedown&&(j.prehandleEvent(a),j.rightmousedown(a))}}),i.mousemove(function(a){!b.mDragging&&j.mousemove&&(j.prehandleEvent(a),j.mousemove(a))}),i.mouseout(function(a){b.mOver=void 0,j.mouseout&&(j.prehandleEvent(a),j.mouseout(a))}),i.mouseover(function(a){b.mOver=j,j.mouseover&&(j.prehandleEvent(a),j.mouseover(a))}),i.mouseup(function(a){switch(a.which){case 1:j.mouseup&&(j.prehandleEvent(a),j.mouseup(a));break;case 2:j.middlemouseup&&(j.prehandleEvent(a),j.middlemouseup(a));break;case 3:j.rightmouseup&&(j.prehandleEvent(a),j.rightmouseup(a))}}),i.mousewheel(function(a,b){j.mousewheel&&(j.prehandleEvent(a),j.mousewheel(a,b))})),this.clipboardEx=new Clipboard(i.get(0),{text:function(){return j.clipboardText}}),this.setupExtra(g),this.setupTheme(g),this.setupPreview(g)},i.setupUI=function(a){},i.setupExtra=function(a){},i.setupTheme=function(a){var b=a.ls||this.theme.DISPLAY_TYPE;void 0!==b&&b!==LS_TYPE.line&&(this.theme.DISPLAY_TYPE=b,this.theme.ATOM_DISPLAY=!0,this.theme.BOND_DISPLAY=!0,this.theme.ATOM_USE_VDW_DIA=!0,this.theme.ATOM_VDW_MUL=5,this.theme.BOND_SHOW_ORDERS=!0,this.theme.BOND_RENDER_LINES=!1,this.theme.FOCUS_BOND_WIDTH=8,b===LS_TYPE.permeator?this.theme.BOND_MATER_AMB_COLOR=this.theme.ATOM_MATER_AMB_COLOR:b===LS_TYPE.sphere?(this.theme.BOND_DISPLAY=!1,this.theme.ATOM_VDW_MUL=12):b===LS_TYPE.stick?(this.theme.FOCUS_BOND_WIDTH=6,this.theme.ATOM_USE_VDW_DIA=!1,this.theme.ATOM_SPHERE_DIA=this.theme.FOCUS_BOND_WIDTH,this.theme.BOND_CYLINDER_DIA=this.theme.FOCUS_BOND_WIDTH,this.theme.BOND_PILL_DIA=1,this.theme.BOND_MATER_AMB_COLOR=this.theme.ATOM_MATER_AMB_COLOR):b===LS_TYPE.line&&(this.theme.ATOM_DISPLAY=!1,this.theme.BOND_RENDER_LINES=!0,this.theme.BOND_WIDTH=1.5,this.theme.BOND_CYLINDER_DIA=.05))},i.setupPreview=function(a){var b=a.mol;if(void 0===b)if(a.content&&a.content.length>0){var c=a.format;c||(a.content.indexOf("$RXN")>0?c="RXN":a.content.indexOf('"v":')>0&&(c="IPM"));var d=c||"MOL",f="read"+d.toUpperCase();if(g[f]){var h=g[f](a.content);h&&h.molecules.length>0?b=h.molecules[h.molecules.length-1]:e.alertMsg(e.i18n("parseError"),this)}else e.alertMsg(e.i18n("fileformatError"),this)}else a.cvs&&(b=a.cvs.getMol("auto"));if(b){var i=this.tempsave([b],[],!0);if(b=i.molecules[0],b.optScale(this.theme.BOND_LENGTH),this.id.endWith("3D"))for(var j=(a.ls||LS_TYPE.permeator,b.atoms.length-1);j>=0;j--)b.atoms[j].x/=this.theme.BOND_DPI,b.atoms[j].y/=this.theme.BOND_DPI,b.atoms[j].z/=this.theme.BOND_DPI;this.loadActors(b,void 0,void 0,a)}else this.id.startWith("prv")&&e.alertMsg(e.i18n("contentNull"),this)},i.clampScale=function(){this.theme&&(this.theme.SCALE=e.clamp(this.theme.SCALE,.3,10))},i.setBgImage=function(a){this.bgImg=new Image;var b=this;this.bgImg.onload=function(){b.repaint()},this.bgImg.src=a},i.setLogoImage=function(a){this.logoImg=new Image;var b=this;this.logoImg.onload=function(){b.repaint()},a&&a.startWith("data:image")?this.logoImg.src=a:this.logoImg.src=e.image(a||"logo")},i.onLoadFinish=function(){this.lasso&&this.lasso.active()&&this.lasso.setBounds()},i.empty=function(){return 0===this.molecules.length&&0===this.shapes.length},i.reloadActors=function(){var b=this.molecules;if(this.center(),!(a._Canvas3D&&this instanceof a._Canvas3D)&&b.length>0)for(var c=0,d=b.length;c<d;c++)b[c].detect();this.onLoadFinish(),this.repaint()},i.loadActors=function(b,d,e,f){var g=[];if(b instanceof c.molecule?(this.clear(),this.molecules.push(b),g.push(b)):b instanceof c.d2.shape?this.shapes.push(b):(this.molecules=b?b:[],this.shapes=d?d:[],g=this.molecules),!e){this.resetLasso();var h=f&&f.bespread,i=f&&f.padding;this.repaint(),this.center(h,i)}if(!(a._Canvas3D&&this instanceof a._Canvas3D)&&g.length>0)for(var j=0,k=g.length;j<k;j++)g[j].detect();this.onLoadFinish(),this.repaint()},i.addActor=function(b){b instanceof c.molecule?(this.molecules.push(b),a._Canvas3D&&this instanceof a._Canvas3D||b.detect()):this.shapes.push(b),this.repaint()},i.removeActor=function(a){var b=function(b){return b!==a};a instanceof c.molecule?this.molecules=$.grep(this.molecules,b):this.shapes=$.grep(this.shapes,b),this.repaint()},i.clear=function(){this.molecules=[],this.shapes=[],this.theme.SCALE=1,this.repaint()},i.center=function(b,c){for(var d=this.getBounds(),e=new a.point((this.width-d.minX-d.maxX)/2,(this.height-d.minY-d.maxY)/2),f=0,g=this.molecules.length;f<g;f++){for(var h=this.molecules[f],i=0,j=h.atoms.length;i<j;i++)h.atoms[i].add(e);for(var i=0,j=h.rings.length;i<j;i++)h.rings[i].center=h.rings[i].getCenter()}for(var f=0,g=this.shapes.length;f<g;f++)for(var k=this.shapes[f].getPoints(),i=0,j=k.length;i<j;i++)k[i].add(e);this.theme.SCALE=1;var l=d.maxX-d.minX,m=d.maxY-d.minY;(l>this.width||m>this.height||b)&&(c||(c=10),this.theme.SCALE=Math.min((this.width-2*c)/l,(this.height-2*c)/m)),this.theme.SCALE>2&&(this.theme.SCALE=2),this.id.startWith("prv")&&this.theme.SCALE<.666&&(this.theme.BOND_WIDTH=1.2/this.theme.SCALE,this.theme.ATOM_FONT_SIZE=12/this.theme.SCALE)},i.getHead=function(a){return a===ACTOR_MODEL.primitive?this.shapes.length>0?this.shapes[0]:void 0:this.molecules.length>0?this.molecules[0]:void 0},i.getBond=function(a,b){for(var c=0,d=this.molecules.length;c<d;c++)for(var e=this.molecules[c],f=0,g=e.bonds.length;f<g;f++){var h=e.bonds[f];if(h.has(a)&&h.has(b))return h}},i.getMol=function(a){if("string"==typeof a){if("auto"===a)if(this.lasso&&this.lasso.atoms.length>0)a=this.lasso.atoms[this.lasso.atoms.length-1];else if(this.molecules.length>0)return this.molecules[this.molecules.length-1];if("max"===a){for(var b=void 0,d=0,e=this.molecules.length;d<e;d++)(void 0===b||this.molecules[d].atoms.length>b.atoms.length)&&(b=this.molecules[d]);return g.saveMOL([b])}if("min"===a){for(var b=void 0,d=0,e=this.molecules.length;d<e;d++)(void 0===b||this.molecules[d].atoms.length<b.atoms.length)&&(b=this.molecules[d]);return g.saveMOL([b])}if("all"===a){for(var b=new c.molecule,d=0,e=this.molecules.length;d<e;d++)b.atoms=b.atoms.concat(this.molecules[d].atoms),b.bonds=b.bonds.concat(this.molecules[d].bonds),b.rings=b.rings.concat(this.molecules[d].rings);return g.saveMOL([b])}}if(a instanceof c.atom)for(var d=0,e=this.molecules.length;d<e;d++){var b=this.molecules[d];if(b.atoms.indexOf(a)!==-1)return b}},i.getAllAtoms=function(){for(var a=[],b=0,c=this.molecules.length;b<c;b++)a=a.concat(this.molecules[b].atoms);return a},i.getAllPoints=function(){for(var a=[],b=0,c=this.molecules.length;b<c;b++)a=a.concat(this.molecules[b].atoms);for(var b=0,c=this.shapes.length;b<c;b++)a=a.concat(this.shapes[b].getPoints());return a},i.getBounds=function(){for(var b=new a.bounds,c=0,d=this.molecules.length;c<d;c++)b.expand(this.molecules[c].getBounds());for(var c=0,d=this.shapes.length;c<d;c++)b.expand(this.shapes[c].getBounds());return b},i.prehandleEvent=function(b){b.originalEvent.changedTouches&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY),b.preventDefault(),b.offset=$("#"+this.id).offset(),b.p=new a.point(b.pageX-b.offset.left,b.pageY-b.offset.top)},i.fullscreen=function(){var a=this.isFS?this.saveWidth:$(document).width()-4,b=this.isFS?this.saveHeight:$(document).height()-2;this.resize(a,b,!this.isFS),this.isFS=!this.isFS},i.autosave=function(b){var c=g.saveIPM(this.molecules,this.shapes);(c.length>5||b)&&e.setCookie(a.key+"autosave",c)},i.tempsave=function(b,c,d){var f=g.saveIPM(b,c);if(f.length>5){if(d)return g.readIPM(f);e.setCookie(a.key+"tempsave",f)}},i.clipboard=function(b,d){var f;if(d){var h=new c.molecule;d instanceof c.atom?h.atoms.push(d):d instanceof c.bond&&(h.atoms.push(d.a1),h.atoms.push(d.a2),h.bonds.push(d)),f=g.saveMOL([h]),e.setCookie(a.key+"clipboard",f)}else if(this.lasso&&this.lasso.active()){for(var i=[],j=0;j<this.lasso.atoms.length;j++){var k=this.lasso.atoms[j],l=k.bonds;if(l)for(var m=0;m<l.length;m++){var n=l[m];$.inArray(n,i)<0&&$.inArray(n.brother(k),this.lasso.atoms)>-1&&i.push(n)}}if(this.lasso.shapes&&0!=this.lasso.shapes.length)f=g.saveIPM([{atoms:this.lasso.atoms,bonds:i}],this.lasso.shapes);else{var h=new c.molecule;h.atoms=h.atoms.concat(this.lasso.atoms),h.bonds=h.bonds.concat(i),f=g.saveMOL([h])}e.setCookie(a.key+"clipboard",f)}else e.alertMsg(e.i18n("contentNull"));if(f){if(window.clipboardData)return window.clipboardData.setData("text",f);if(b&&b.clipboardData)return b.clipboardData.setData("text",f);if(b&&b.originalEvent&&b.originalEvent.clipboardData)return b.originalEvent.clipboardData.setData("text",f);if(this.clipboardEx)return this.clipboardText=f,this.clipboardEx.onClick()}},i.getClipboard=function(b){return window.clipboardData?this.clipboardText=window.clipboardData.getData("text"):b&&b.clipboardData?this.clipboardText=b.clipboardData.getData("text"):b&&b.originalEvent&&b.originalEvent.clipboardData?this.clipboardText=b.originalEvent.clipboardData.getData("text"):this.clipboardText=e.getCookie(a.key+"clipboard",""),this.clipboardText},i.forbid=function(b,c){return!!(this.limitTool&&$.inArray(b,this.limitTool)>-1&&void 0===a.license)&&(c||this.dialogMng.openDlg(this.dialogMng.dlgCopyright),!0)},i.drawBrand=function(b){if(b)if(this.logoImg||a.IMG_T[a.themeName].logo){this.logoImg||this.setLogoImage();var c=this.logoImg.width,d=this.logoImg.height;if(this.id.startWith("prv")){var f=Math.min((this.width-20)/c,(this.height-20)/d);c*=f,d*=f}b.drawImage(this.logoImg,(this.width-c)/2,(this.height-d)/2,c,d)}else b.fillStyle=this.theme.BRAND_COLOR||"rgba(0,0,0,.1)",b.textAlign="center",b.textBaseline="middle",b.font=e.getFontDesc(this.theme.BRAND_SIZE,this.theme.BRAND_FAMILIES,!0,!0),b.fillText(this.brandFill,this.width/2,this.height/2)},i.drawTip=function(a,b,c){return b||(b=this.ctx),b||(b=document.getElementById(this.id).getContext("2d")),b?(c&&this.drawBrand(b),b.fillStyle=this.theme.TIP_COLOR||"rgba(1,0,0,.1)",b.textAlign="center",b.textBaseline="middle",b.font=e.getFontDesc(this.theme.TIP_SIZE,this.theme.BRAND_FAMILIES,!0),void b.fillText(a,this.width/2,.75*this.height)):void console.log("ctx is null")},i.drawHung=function(a){},i.repaint=function(){var a=document.getElementById(this.id);if(a&&a.getContext){var b=a.getContext("2d");if(1!==this.pxRatio&&a.width===this.width&&(a.width=this.width*this.pxRatio,a.height=this.height*this.pxRatio,b.scale(this.pxRatio,this.pxRatio)),this.bgImg?b.drawImage(this.bgImg,0,0):(this.cls?this.bgCache||(this.bgCache=$("#"+this.id).css("background-color")):this.theme.BG_COLOR&&this.bgCache!==a.style.BG_COLOR&&(a.style.BG_COLOR=this.theme.BG_COLOR,this.bgCache=a.style.BG_COLOR),b.fillStyle=this.cls?this.bgCache:this.theme.BG_COLOR,b.fillRect(0,0,this.width,this.height)),this.innerRepaint)this.innerRepaint(b);else if(this.empty())this.brandFill&&(this.drawBrand(b),this.toolEnable&&this.toolMng&&this.toolMng.disableBtns("clear","color","export","charge","plusSymbol","subSymbol"));else{b.save(),b.translate(this.width/2,this.height/2),b.rotate(this.theme.ROTATE_ANGLE),b.scale(this.theme.SCALE,this.theme.SCALE),b.translate(-this.width/2,-this.height/2),
this.atomIdx=0;for(var c=0,d=this.molecules.length;c<d;c++)this.molecules[c].detect(),this.molecules[c].draw(b,this.theme);for(var c=0,d=this.shapes.length;c<d;c++)this.shapes[c].draw(b,this.theme);b.restore(),this.toolEnable&&this.toolMng&&(this.toolMng.enableBtns("clear","color","export"),0===this.atomIdx?this.toolMng.enableBtns("charge","plusSymbol","subSymbol"):this.toolMng.disableBtns("charge","plusSymbol","subSymbol"))}if(this.drawHung(b),this.theme.DEBUG_BOUND){b.save(),b.translate(this.width/2,this.height/2),b.rotate(this.theme.ROTATE_ANGLE),b.scale(this.theme.SCALE,this.theme.SCALE),b.translate(-this.width/2,-this.height/2);var e=this.getBounds();b.strokeStyle=this.theme.TEMP_COLOR,b.beginPath(),b.rect(e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY),b.stroke(),b.restore()}}},i.resize=function(b,c,d){var e=$("#"+this.id),f=e.parent(),g=$(".overlay"),h=this.toolEnable?this.toolbar[1]+this.toolbar[3]:0,i=this.toolEnable?this.toolbar[0]+this.toolbar[2]:0,j=b-h-2*this.edge,k=c-i-2*this.edge;if(d&&(this.saveWidth=f.width(),this.saveHeight=f.height()),f.attr({width:b,height:c}),f.css("width",b),f.css("height",c),f.css("margin-left",-b/2-2),g&&(g.attr({width:b,height:c}),g.css("width",b+1),g.css("height",c+1),g.css("margin-left",-b/2),g.css("margin-top",-c/2)),e.attr({width:j,height:k}),e.css("width",j),e.css("height",k),this.width=j,this.height=k,a.canvas3D&&this instanceof a.canvas3D){var l=j,m=k;1!==this.pxRatio&&(l*=this.pxRatio,m*=this.pxRatio,this.gl.canvas.width=l,this.gl.canvas.height=m),this.gl.viewport(0,0,l,m),this.onLoadFinish()}else if(this.molecules.length>0){this.center();for(var n=0,o=this.molecules.length;n<o;n++)this.molecules[n].detect()}this.repaint()},i.resetLasso=function(){this.lasso&&this.lasso.active()&&this.lasso.reset()},$(document).ready(function(){document.oncontextmenu=function(a){if(a.target===document.getElementById("ipm")||a.target===document.getElementById("ipm_dlgRMenu"))return!1}})}(ipmd,ipmd.monitor,ipmd.actor,ipmd.editor.actions,ipmd.util,ipmd.Elements,ipmd.parser,ipmd.support),function(a,b,c){"use strict";a.cvTransform=function(a,b,c,d){a&&this.setup(a,b,c,d)};var d=a.cvTransform.prototype=new a.canvas;d.setupUI=function(a){this.rotate3D=void 0!==a.rotate3D&&a.rotate3D,this.pinchScale=void 0!==a.pinch?a.pinch:1,this.rotateScale=void 0!==a.rotate?a.rotate:1.3,this.gestureRotate=void 0!==a.gesture?a.gesture:0,this.lastPoint=void 0},d.mousedown=function(a){this.lastPoint=a.p},d.dblclick=function(a){this.center(),this.repaint()},d.mousewheel=function(a,b){this.theme.SCALE+=b/50,this.theme.SCALE<.01&&(this.theme.SCALE=.01),this.repaint()},d.drag=function(c){if(!this.lastPoint.multi)if(b.kAlt){var d=new a.point(c.p.x,c.p.y);d.sub(this.lastPoint);for(var e=0,f=this.molecules.length;e<f;e++){for(var g=this.molecules[e],h=0,i=g.atoms.length;h<i;h++)g.atoms[h].add(d);g.detect()}for(var e=0,f=this.shapes.length;e<f;e++)for(var j=this.shapes[e].getPoints(),h=0,i=j.length;h<i;h++)j[h].add(d);this.lastPoint=c.p}else if(this.rotate3D===!0){var k=Math.max(this.width/4,this.height/4),l=c.p.x-this.lastPoint.x,m=c.p.y-this.lastPoint.y,n=l/k*this.rotateScale,o=-m/k*this.rotateScale,p=[];mat4.identity(p),mat4.rotate(p,o,[1,0,0]),mat4.rotate(p,n,[0,1,0]);for(var e=0,f=this.molecules.length;e<f;e++){for(var g=this.molecules[e],h=0,i=g.atoms.length;h<i;h++){var q=g.atoms[h],r=[q.x-this.width/2,q.y-this.height/2,q.z];mat4.multiplyVec3(p,r),q.x=r[0]+this.width/2,q.y=r[1]+this.height/2,q.z=r[2]}for(var e=0,f=g.rings.length;e<f;e++)g.rings[e].center=g.rings[e].getCenter();this.lastPoint=c.p,this.theme.ATOM_DISPLAY&&this.theme.ATOM_CIRCLES&&g.updateZOrder(g.atoms),this.theme.BOND_DISPLAY&&this.theme.BOND_CLEAR_OVERLAPS&&g.updateZOrder(g.bonds)}}else{var s=new a.point(this.width/2,this.height/2),t=s.angle(this.lastPoint),u=s.angle(c.p);this.theme.ROTATE_ANGLE-=u-t,this.lastPoint=c.p}this.repaint()},d.multitouchmove=function(b,c){if(2===c)if(this.lastPoint.multi){var d=new a.point(b.p.x,b.p.y);d.sub(this.lastPoint);for(var e=0,f=this.molecules.length;e<f;e++){for(var g=this.molecules[e],h=0,i=g.atoms.length;h<i;h++)g.atoms[h].add(d);g.detect()}for(var e=0,f=this.shapes.length;e<f;e++)for(var j=this.shapes[e].getPoints(),h=0,i=j.length;h<i;h++)j[h].add(d);this.lastPoint=b.p,this.lastPoint.multi=!0,this.repaint()}else this.lastPoint=b.p,this.lastPoint.multi=!0},d.gesturechange=function(b){if(b.originalEvent.scale-this.pinchScale!==0&&(this.theme.SCALE*=b.originalEvent.scale/this.pinchScale,this.theme.SCALE<.01&&(this.theme.SCALE=.01),this.pinchScale=b.originalEvent.scale),this.gestureRotate-b.originalEvent.rotation!==0){for(var c=(this.gestureRotate-b.originalEvent.rotation)/180*Math.PI,d=new a.point(this.width/2,this.height/2),e=0,f=this.molecules.length;e<f;e++){for(var g=this.molecules[e],h=0,i=g.atoms.length;h<i;h++){var j=g.atoms[h],k=d.distance(j),l=d.angle(j)+c;j.x=d.x+k*Math.cos(l),j.y=d.y-k*Math.sin(l)}g.detect()}this.gestureRotate=b.originalEvent.rotation}this.repaint()},d.gestureend=function(a){this.pinchScale=1,this.gestureRotate=0}}(ipmd,ipmd.monitor,ipmd.actor),function(a){"use strict";a.cvView=function(a,b,c,d){a&&this.setup(a,b,c,d)};a.cvView.prototype=new a.canvas}(ipmd),function(a,b){"use strict";a.cvSpectrum=function(){};var c=a.cvSpectrum.prototype=new a.canvas;c.spectrum=void 0,c.loadSpectrum=function(a){this.spectrum=a,this.repaint()},c.getSpectrum=function(){return this.spectrum},c.getSpectrumCoordinates=function(a,b){return spectrum.innerCoord(a,b,this.width,this.height)},c.innerRepaint=function(a){this.spectrum&&this.spectrum.data.length>0?this.spectrum.draw(a,this.theme,this.width,this.height):b.alertMsg(b.i18n("contentNull"))}}(ipmd,ipmd.util),function(a){"use strict";a.cvObserve=function(a,b,c,d){a&&this.setup(a,b,c,d)},a.cvObserve.prototype=new a.cvSpectrum}(ipmd),function(a,b,c,d,e,f,g,h){"use strict";a.cvEditor=function(a,b,c,d){this.setup(a,b,c,d)};var i=a.cvEditor.prototype=new a.canvas;i.setupUI=function(a){if(this.touchEnable=void 0===a.touchEnable?h.touchEnabled():a.touchEnable,this.servEnable=void 0!==a.servEnable&&a.servEnable,this.oneMol=void 0!==a.oneMol&&a.oneMol,this.toolEnable=void 0===a.toolEnable||a.toolEnable,this.queryEnable=void 0!==a.queryEnable&&a.queryEnable,this.toolMng=new c.ToolbarManager(this),this.toolEnable){this.toolMng.render();var b=this;$(window).load(function(){b.toolMng.setup()})}this.dialogMng=new c.DialogManager(this),this.eventMng=new d.manager(this),this.actionMng=new e.manager(this)},i.setupExtra=function(c){if(this.theme.ATOM_CIRCLE_DIA=7,this.theme.ATOM_CIRCLE_BORDER=0,this.pinchScale=void 0!==c.pinch?c.pinch:1,this.gestureRotate=void 0!==c.gesture?c.gesture:0,this.inGesture=!1,this.oneMol){var d=new b.molecule;d.atoms.push(new b.atom),this.loadActors(d)}else this.startAtom=new b.atom("C",a.startAtomOffset,a.startAtomOffset),this.startAtom.alone=!0,this.lasso=new b.d2.lasso(this);var h=this;$("#"+this.id).ready(function(){if(h.autoSaveInv&&h.autoSaveInv>0&&!h.forbid("autosave",!0)){var b=f.getCookie(a.key+"autosave");if(b){var c=g.readIPM(b);c&&(c.molecules.length>0||c.shapes.length>0)&&(h.oneMol?h.actionMng.push(new e.updateCvs(h,c.molecules[0])):h.actionMng.push(new e.updateCvs(h,null,c.molecules,c.shapes)))}setInterval(function(){h.autosave()},6e4*h.autoSaveInv)}void 0===window.clipboardData&&$(this).bind({paste:function(a){h.clipboardText=a.originalEvent.clipboardData.getData("text"),h.toolMng.doPaste()}})})},i.scaleEvent=function(b){b.op=new a.point(b.p.x,b.p.y),1!==this.theme.SCALE&&(b.p.x=this.width/2+(b.p.x-this.width/2)/this.theme.SCALE,b.p.y=this.height/2+(b.p.y-this.height/2)/this.theme.SCALE)},i.drawHung=function(c){if(c.save(),c.translate(this.width/2,this.height/2),c.rotate(this.theme.ROTATE_ANGLE),c.scale(this.theme.SCALE,this.theme.SCALE),c.translate(-this.width/2,-this.height/2),this.focusActor&&this.focusActor.drawFocus(c,this.theme),this.dialogMng.dlgRMenu.focusActor&&(this.dialogMng.dlgRMenu.focusActor.selected=!0,this.dialogMng.dlgRMenu.focusActor.drawFocus(c,this.theme)),this.dialogMng.dlgAtomProp.focusActor&&(this.dialogMng.dlgAtomProp.focusActor.selected=!0,this.dialogMng.dlgAtomProp.focusActor.drawFocus(c,this.theme)),this.dialogMng.dlgBondProp.focusActor&&(this.dialogMng.dlgBondProp.focusActor.selected=!0,this.dialogMng.dlgBondProp.focusActor.drawFocus(c,this.theme)),this.startAtom&&this.startAtom.x!=a.startAtomOffset&&!this.touchEnable&&void 0!==this.startAtom.altLabel&&this.startAtom.draw(c,this.theme),this.tempAtom&&(c.strokeStyle=this.theme.TEMP_COLOR,c.fillStyle=this.theme.TEMP_COLOR,c.lineWidth=this.theme.TEMP_LINE_WIDTH,c.beginPath(),c.moveTo(this.focusActor.x,this.focusActor.y),c.hashTo(this.focusActor.x,this.focusActor.y,this.tempAtom.x,this.tempAtom.y,2,2),c.stroke(),"C"===this.tempAtom.label?(c.beginPath(),c.circle(this.tempAtom.x,this.tempAtom.y,this.theme.POINT_R,!0)):"Star"===this.tempAtom.label?(c.textAlign="center",c.textBaseline="middle",c.font=f.getFontDesc(2*this.theme.ATOM_FONT_SIZE,this.theme.TEXT_FONT_FAMILIES,this.theme.ATOM_FONT_BOLD,this.theme.ATOM_FONT_ITALIC),c.fillText("*",this.tempAtom.x,this.tempAtom.y+.5*this.theme.ATOM_FONT_SIZE)):(c.textAlign="center",c.textBaseline="middle",c.font=f.getFontDesc(this.theme.ATOM_FONT_SIZE,this.theme.TEXT_FONT_FAMILIES,this.theme.ATOM_FONT_BOLD,this.theme.ATOM_FONT_ITALIC),c.fillText(this.tempAtom.label,this.tempAtom.x,this.tempAtom.y)),this.tempAtom.isOverlap&&(c.strokeStyle=this.theme.OVERLAP_COLOR,c.lineWidth=this.theme.FOCUS_LINE_WIDTH,c.beginPath(),c.circle(this.tempAtom.x,this.tempAtom.y,this.theme.FOCUS_R),c.stroke())),this.tempRing&&this.tempRing.length>0){if(c.strokeStyle=this.theme.TEMP_COLOR,c.fillStyle=this.theme.TEMP_COLOR,c.lineWidth=this.theme.TEMP_LINE_WIDTH,c.beginPath(),this.focusActor instanceof b.atom){c.moveTo(this.focusActor.x,this.focusActor.y),c.hashTo(this.focusActor.x,this.focusActor.y,this.tempRing[0].x,this.tempRing[0].y,2,2);for(var d=1,e=this.tempRing.length;d<e;d++)c.hashTo(this.tempRing[d-1].x,this.tempRing[d-1].y,this.tempRing[d].x,this.tempRing[d].y,2,2);if(this.tempRingN){var g=this.tempRing[this.tempRing.length-1];c.textAlign="center",c.textBaseline="middle",c.font=f.getFontDesc(this.theme.ATOM_FONT_SIZE,this.theme.TEXT_FONT_FAMILIES,this.theme.ATOM_FONT_BOLD,this.theme.ATOM_FONT_ITALIC),c.fillText((this.tempRing.length+1).toString(),g.x,g.y)}else c.hashTo(this.tempRing[this.tempRing.length-1].x,this.tempRing[this.tempRing.length-1].y,this.focusActor.x,this.focusActor.y,2,2)}else if(this.focusActor instanceof b.bond){var h=this.focusActor.a2,i=this.focusActor.a1;this.tempRing[0]===this.focusActor.a1&&(h=this.focusActor.a1,i=this.focusActor.a2),c.moveTo(h.x,h.y),c.hashTo(h.x,h.y,this.tempRing[1].x,this.tempRing[1].y,2,2);for(var d=2,e=this.tempRing.length;d<e;d++)c.hashTo(this.tempRing[d-1].x,this.tempRing[d-1].y,this.tempRing[d].x,this.tempRing[d].y,2,2);c.hashTo(this.tempRing[this.tempRing.length-1].x,this.tempRing[this.tempRing.length-1].y,i.x,i.y,2,2)}c.stroke(),c.strokeStyle=this.theme.OVERLAP_COLOR,c.lineWidth=this.theme.FOCUS_LINE_WIDTH;for(var d=0,e=this.tempRing.length;d<e;d++)this.tempRing[d].isOverlap&&(c.beginPath(),c.circle(this.tempRing[d].x,this.tempRing[d].y,this.theme.FOCUS_R),c.stroke())}this.lasso&&this.lasso.draw(c,this.theme),this.eventMng.dispatch("draw",c),c.restore(),void 0!==this.touchPoint&&this.drawTouchArea(c,this.theme)},i.drawTouchArea=function(a,b){b||(b=this.theme),a.save();var c=b.TOUCH_ASIS_SIZE,d=b.TOUCH_ASIS_SCALE;if(a.strokeStyle=b.TOUCH_ASIS_COLOR,a.rect(1,1,c,c),c/=d/this.pxRatio,1===d){var e=a.getImageData(this.touchPoint.x*this.pxRatio-c/2,this.touchPoint.y*this.pxRatio-c/2,c,c);a.putImageData(e,1,1)}else{c/=this.pxRatio;var e=a.getImageData(this.touchPoint.x*this.pxRatio-c/2,this.touchPoint.y*this.pxRatio-c/2,c,c);a.scale(d,d);var f=document.createElement("canvas");f.width=c-1,f.height=c-1,f.getContext("2d").putImageData(e,0,0),a.drawImage(f,1,1)}a.stroke(),a.restore()},i.mousemove=function(a){this.scaleEvent(a),this.eventMng.dispatch("mousemove",a)},i.mouseover=function(a){this.scaleEvent(a),this.eventMng.dispatch("mouseover",a)},i.mousedown=function(a){this.scaleEvent(a),this.eventMng.dispatch("mousedown",a)},i.mouseup=function(a){this.scaleEvent(a),this.eventMng.dispatch("mouseup",a)},i.click=function(a){this.scaleEvent(a),this.eventMng.dispatch("click",a)},i.middlemousedown=function(a){this.scaleEvent(a),this.eventMng.dispatch("middlemousedown",a)},i.middlemouseup=function(a){this.scaleEvent(a),this.eventMng.dispatch("middlemouseup",a)},i.middleclick=function(a){this.scaleEvent(a),this.eventMng.dispatch("middleclick",a)},i.rightmousedown=function(a){this.scaleEvent(a),this.eventMng.dispatch("rightmousedown",a)},i.rightmouseup=function(a){this.scaleEvent(a),this.eventMng.dispatch("rightmouseup",a)},i.rightclick=function(a){this.scaleEvent(a),this.eventMng.dispatch("rightclick",a)},i.dblclick=function(a){this.scaleEvent(a),this.eventMng.dispatch("dblclick",a)},i.mousewheel=function(a,b){this.scaleEvent(a),this.eventMng.dispatch("mousewheel",a,b)},i.mouseout=function(a){this.scaleEvent(a),this.eventMng.dispatch("mouseout",a)},i.drag=function(a){this.scaleEvent(a),this.eventMng.dispatch("drag",a)},i.keydown=function(a){this.scaleEvent(a),this.eventMng.dispatch("keydown",a)},i.keyup=function(a){this.scaleEvent(a),this.eventMng.dispatch("keyup",a)},i.keypress=function(a){this.scaleEvent(a),this.eventMng.dispatch("keypress",a)},i.touchstart=function(b){this.touchPoint=new a.point(b.p.x,b.p.y),b.originalEvent.touches&&b.originalEvent.touches.length>1?((this.tempAtom||this.tempRing)&&(this.tempAtom=void 0,this.tempRing=void 0,this.focusActor=void 0,this.repaint()),this.lastPoint=void 0):(this.scaleEvent(b),this.eventMng.dispatch("mousemove",b),this.eventMng.dispatch("mousedown",b))},i.touchmove=function(b){this.touchPoint=new a.point(b.p.x,b.p.y),this.scaleEvent(b),this.inGesture||this.eventMng.dispatch("drag",b)},i.touchend=function(a){this.touchPoint=void 0,this.scaleEvent(a),this.eventMng.dispatch("mouseup",a),this.focusActor&&(this.eventMng.dispatch("clearFocus"),this.repaint())},i.gesturechange=function(b){if(this.inGesture=!0,b.originalEvent.scale-this.pinchScale!==1&&(this.lasso&&this.lasso.active()||(this.theme.SCALE*=b.originalEvent.scale/this.pinchScale,this.clampScale()),this.pinchScale=b.originalEvent.scale),this.gestureRotate-b.originalEvent.rotation!==0){var c=(this.gestureRotate-b.originalEvent.rotation)/180*Math.PI;if(this.parentAction){this.parentAction.dif+=c;for(var d=0,f=this.parentAction.ps.length;d<f;d++){var g=this.parentAction.ps[d],h=this.parentAction.center.distance(g),i=this.parentAction.center.angle(g)+c;g.x=this.parentAction.center.x+h*Math.cos(i),g.y=this.parentAction.center.y-h*Math.sin(i)}for(var d=0,f=this.molecules.length;d<f;d++)this.molecules[d].detect();this.lasso&&this.lasso.active()&&this.lasso.setBounds()}else{var j=this.lasso&&this.lasso.active()?this.lasso.getAllPoints():this.getAllPoints(),k=this.lasso&&this.lasso.active()?new a.point((this.lasso.bounds.minX+this.lasso.bounds.maxX)/2,(this.lasso.bounds.minY+this.lasso.bounds.maxY)/2):new a.point(this.width/2,this.height/2);this.parentAction=new e.updateRotate(j,c,k),this.actionMng.push(this.parentAction)}this.gestureRotate=b.originalEvent.rotation}this.repaint()},i.gestureend=function(a){this.inGesture=!1,this.pinchScale=1,this.gestureRotate=0,this.parentAction=void 0}}(ipmd,ipmd.actor,ipmd.editor.ui,ipmd.editor.events,ipmd.editor.actions,ipmd.util,ipmd.parser,ipmd.support),function(a,b,c,d,e,f){"use strict";a.canvas3D=function(){};var g=a.canvas3D.prototype=new a.canvas;g.rotationMatrix=void 0,g.translationMatrix=void 0,g.lastPoint=void 0,g.pinchScale=1,g.gestureRotate=0,g.setupExtra=function(a){try{var b=document.getElementById(this.id),c={preserveDrawingBuffer:!0};this.gl=b.getContext("webgl",c)||b.getContext("experimental-webgl",c),this.ctx=b.getContext("2d")}catch(f){e.printLog(f.message,this)}this.gl?(1!==this.pxRatio&&this.gl.canvas.width===this.width&&(this.gl.canvas.style.width=this.width+"px",this.gl.canvas.style.height=this.height+"px",this.gl.canvas.width=this.width*this.pxRatio,this.gl.canvas.height=this.height*this.pxRatio),this.rotationMatrix=mat4.identity([]),this.translationMatrix=mat4.identity([]),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.program=this.gl.createProgram(),this.gl.shader=new d.shader,this.gl.shader.init(this.gl),this.gl.programLabel=this.gl.createProgram(),this.updTheme()):e.alertMsg(e.i18n("compatibleError"),this)},g.setupTheme=function(a){var b=void 0!==a.ls?a.ls:LS_TYPE.permeator;this.theme.DISPLAY_TYPE=b,this.theme.ATOM_DISPLAY=!0,this.theme.BOND_DISPLAY=!0,this.theme.ATOM_USE_VDW_DIA=!0,this.theme.BOND_SHOW_ORDERS=!0,this.theme.BOND_RENDER_LINES=!1,this.theme.BOND_DPI=42,b===LS_TYPE.permeator?(this.theme.ATOM_USE_VDW_DIA=!1,this.theme.BOND_MATER_AMB_COLOR=this.theme.ATOM_MATER_AMB_COLOR,this.theme.BOND_CYLINDER_DIA=.3,this.theme.BOND_PILL_DIA=.3,this.theme.ATOM_SPHERE_DIA=.8):b===LS_TYPE.sphere?(this.theme.BOND_DPI=28,this.theme.BOND_DISPLAY=!1,this.theme.ATOM_VDW_MUL=1):b===LS_TYPE.stick?(this.theme.BOND_MATER_AMB_COLOR=this.theme.ATOM_MATER_AMB_COLOR,this.theme.ATOM_USE_VDW_DIA=!1,this.theme.BOND_CYLINDER_DIA=.3,this.theme.BOND_PILL_DIA=.3,this.theme.ATOM_SPHERE_DIA=.3):b===LS_TYPE.line&&(this.theme.ATOM_DISPLAY=!1,this.theme.BOND_RENDER_LINES=!0,this.theme.BOND_WIDTH=1.5,this.theme.BOND_CYLINDER_DIA=.05)},g.pick=function(a,b,c,d){if(this.gl){mat4.multiply(this.translationMatrix,this.rotationMatrix,this.gl.modelViewMatrix),this.gl.rotationMatrix=this.rotationMatrix;var e=this.gl.getUniformLocation(this.gl.program,"u_projection_matrix");this.gl.uniformMatrix4fv(e,!1,this.gl.projectionMatrix);var f=a,g=this.height-b;return 1!==this.pxRatio&&(f*=this.pxRatio,g*=this.pxRatio),this.picker.pick(this.gl,this.molecules,this.theme,f,g,c,d)}},g.center=function(b,d){if(this.gl){for(var e=new c.atom,f=0,g=this.molecules.length;f<g;f++){var h=this.molecules[f];e.add3D(h.getCenter3D())}e.x/=this.molecules.length,e.y/=this.molecules.length;for(var f=0,g=this.molecules.length;f<g;f++){for(var h=this.molecules[f],i=0,j=h.atoms.length;i<j;i++)h.atoms[i].sub3D(e);if(h.chains&&h.fromJSON)for(var i=0,j=h.chains.length;i<j;i++)for(var k=h.chains[i],l=0,m=k.length;l<m;l++){var n=k[l];n.cp1.sub3D(e),n.cp2.sub3D(e),n.cp3&&(n.cp3.sub3D(e),n.cp4.sub3D(e),n.cp5.sub3D(e))}}for(var o=new a.bounds,i=0,j=this.molecules.length;i<j;i++)o.expand(this.molecules[i].getBounds3D());var p=vec3.dist([o.maxX,o.maxY,o.maxZ],[o.minX,o.minY,o.minZ])/2+2;p===1/0&&(p=10);var q=45,r=q/360*Math.PI,s=Math.tan(r),t=p;this.depth=t/s;var u=Math.max(this.depth-t,.1),v=this.depth+t,w=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight;if(w<1&&(q/=w),this.maxDimension=Math.max(o.maxX-o.minX,o.maxY-o.minY),b){d||(d=3),d=Math.max(d,3);var x=this.maxDimension+d;q=360*Math.atan(x/(2*this.depth*w))/Math.PI}this.theme.PRJ_ORTHO_WIDTH=Math.tan(q/360*Math.PI)*this.depth*2*w,this.theme.PRJ_PERSPECTIVE_ANGLE=q,this.theme.PRJ_FRONT_CULL=u,this.theme.PRJ_BACK_CULL=v,this.theme.PRJ_WH_RATIO=w,this.translationMatrix=mat4.translate(mat4.identity([]),[0,0,-this.depth]),this.updTheme()}},g.updTheme=function(){if(this.gl){var a=$("#"+this.id),b=this.bgCache||this.theme.BG_COLOR,c=e.getRGB(b,1);a.css("background-color",b),this.gl.clearColor(c[0],c[1],c[2],1),this.gl.clearDepth(1),this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.theme.CULL_BF?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.sphereBuffer=new d.sphere(1,this.theme.ATOM_DPI,this.theme.ATOM_DPI),this.gl.starBuffer=new d.star,this.gl.cylinderBuffer=new d.cylinder(1,1,this.theme.BOND_DPI),this.gl.cylinderClosedBuffer=new d.cylinder(1,1,this.theme.BOND_DPI,(!0)),this.gl.boxBuffer=new d.box(1,1,1),this.gl.pillBuffer=new d.pill(this.theme.BOND_PILL_DIA/2,this.theme.BOND_PILL_HEIGHT,this.theme.BOND_PILL_LAT_DPI,this.theme.BOND_PILL_LONG_DPI),this.gl.lineBuffer=new d.line,this.gl.lineArrowBuffer=new d.lineArrow,this.gl.arrowBuffer=new d.arrow(.3,this.theme.COMPASS_DPI),this.gl.textMesh=new d.textMesh,this.gl.textMesh.init(this.gl),this.gl.textImage=new d.textImage,this.gl.textImage.init(this.gl),this.gl.textImage.updateFont(this.gl,this.theme.TEXT_FONT_SIZE,this.theme.TEXT_FONT_FAMILIES,this.theme.TEXT_FONT_BOLD,this.theme.TEXT_FONT_ITALIC,this.theme.TEXT_FONT_STROKE),this.label3D=new d.label,this.label3D.init(this.gl,this.theme);for(var g=0,h=this.molecules.length;g<h;g++){var i=this.molecules[g];if(i.labelMesh instanceof d.textMesh||(i.labelMesh=new d.textMesh,i.labelMesh.init(this.gl)),i.chains){i.ribbons=[],i.paints=[],i.tubes=[],i.pipePlanks=[];for(var j=0,k=i.chains.length;j<k;j++){for(var l=i.chains[j],m=0,n=l.length-1;m<n;m++)l[m].Test=m;var o=l.length>3&&f[l[3].name]&&"#BEA06E"===f[l[3].name].aminoColor;if(l.length>0&&!l[0].lineSegments){for(var m=0,n=l.length-1;m<n;m++)l[m].setup(l[m+1].cp1,o?1:this.theme.PRO_HORIZONTAL_DPI);if(!o)for(var m=1,n=l.length-1;m<n;m++)e.angleV2V(l[m-1].D,l[m].D)>Math.PI/2&&(l[m].assistSmall.reverse(),l[m].assistLarge.reverse(),vec3.scale(l[m].D,-1));for(var m=2,n=l.length-3;m<n;m++)l[m].calSegment(l[m-2],l[m-1],l[m+1],!o,o?this.theme.NUC_VERTICAL_DPI:this.theme.PRO_VERTICAL_DPI);l.pop(),l.pop(),l.pop(),l.shift(),l.shift()}var p=e.hslToRgb(1===k?.5:j/k,1,.5),q="rgb("+p[0]+","+p[1]+","+p[2]+")";if(l.chainColor=q,o){var r=new d.tube(l,this.theme.NUC_TUBE_THICKNESS,this.theme.NUC_TUBE_DPI);r.chainColor=q,i.tubes.push(r)}else{var r=new d.pipePlank(l,this.theme);i.pipePlanks.push(r);var s=l.shift(),t={front:new d.ribbon(l,this.theme.PRO_RIBBON_THICKNESS,(!1)),back:new d.ribbon(l,(-this.theme.PRO_RIBBON_THICKNESS),(!1))};t.front.chainColor=q,t.back.chainColor=q,i.ribbons.push(t);var u={front:new d.ribbon(l,this.theme.PRO_RIBBON_THICKNESS,(!0)),back:new d.ribbon(l,(-this.theme.PRO_RIBBON_THICKNESS),(!0))};u.front.chainColor=q,u.back.chainColor=q,i.paints.push(u),l.unshift(s)}}}}this.label3D.updateVBuffer(this.gl,this.molecules,this.theme),this.gl.lighting=new d.light(this.theme.LIGHT_DIF_COLOR,this.theme.LIGHT_SPE_COLOR,this.theme.LIGHT_DIRECTION),this.gl.lighting.lightScene(this.gl),this.gl.material=new d.material(this.gl),this.gl.fogging=new d.fog(this.gl),this.gl.fogging.setGL(this.theme.FOG_COLOR||this.theme.BG_COLOR,this.theme.FOG_START,this.theme.FOG_END,this.theme.FOG_DENSITY),this.compass=new d.compass(this.gl,this.theme);var v=this.theme.PRJ_WH_RATIO?this.theme.PRJ_WH_RATIO:this.width/this.height;this.gl.projectionMatrix=this.theme.PRJ_PERSPECTIVE?mat4.perspective(this.theme.PRJ_PERSPECTIVE_ANGLE,v,this.theme.PRJ_FRONT_CULL,this.theme.PRJ_BACK_CULL):mat4.ortho(-this.theme.PRJ_ORTHO_WIDTH/2,this.theme.PRJ_ORTHO_WIDTH/2,-this.theme.PRJ_ORTHO_WIDTH/2/v,this.theme.PRJ_ORTHO_WIDTH/2/v,this.theme.PRJ_FRONT_CULL,this.theme.PRJ_BACK_CULL);var w=this.gl.getUniformLocation(this.gl.program,"u_projection_matrix");this.gl.uniformMatrix4fv(w,!1,this.gl.projectionMatrix);var x=this.gl.getUniformLocation(this.gl.program,"u_model_view_matrix"),y=this.gl.getUniformLocation(this.gl.program,"u_normal_matrix");this.gl.setMatrixUniforms=function(a){this.uniformMatrix4fv(x,!1,a);var b=mat3.transpose(mat4.toInverseMat3(a,[]));this.uniformMatrix3fv(y,!1,b)};var z=this.gl.getUniformLocation(this.gl.program,"u_dimension");this.gl.uniformMatrix4fv(w,!1,this.gl.projectionMatrix),this.gl.uniform2f(z,this.gl.canvas.clientWidth,this.gl.canvas.clientHeight),this.picker=new d.picker,this.picker.init(this.gl),this.picker.setDimension(this.gl,this.gl.canvas.width,this.gl.canvas.height)}},g.updScene=function(){this.gl.fogging.setGL(this.theme.FOG_COLOR||this.theme.BG_COLOR,this.theme.FOG_START,this.theme.FOG_END,this.theme.FOG_DENSITY);var a=this.width/this.height;this.theme.PRJ_WH_RATIO&&(a=this.theme.PRJ_WH_RATIO),this.gl.projectionMatrix=this.theme.PRJ_PERSPECTIVE?mat4.perspective(this.theme.PRJ_PERSPECTIVE_ANGLE,a,this.theme.PRJ_FRONT_CULL,this.theme.PRJ_BACK_CULL):mat4.ortho(-this.theme.PRJ_ORTHO_WIDTH/2,this.theme.PRJ_ORTHO_WIDTH/2,-this.theme.PRJ_ORTHO_WIDTH/2/a,this.theme.PRJ_ORTHO_WIDTH/2/a,this.theme.PRJ_FRONT_CULL,this.theme.PRJ_BACK_CULL),this.repaint()},g.repaint=function(){if(this.gl){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.modelViewMatrix=mat4.multiply(this.translationMatrix,this.rotationMatrix,[]),this.gl.rotationMatrix=this.rotationMatrix;var a=this.gl.getUniformLocation(this.gl.program,"u_projection_matrix");if(this.gl.uniformMatrix4fv(a,!1,this.gl.projectionMatrix),this.gl.fogging.setMode(this.theme.FOG_MODE),this.empty())this.brandFill&&this.drawBrand(this.ctx);else{for(var b=0,c=this.molecules.length;b<c;b++)this.molecules[b].render(this.gl,this.theme);for(var b=0,c=this.shapes.length;b<c;b++)this.shapes[b].render(this.gl,this.theme)}this.theme.COMPASS_DISPLAY&&(this.gl.uniformMatrix4fv(a,!1,this.compass.projectionMatrix),this.compass.render(this.gl,this.theme),this.gl.setMatrixUniforms(this.gl.modelViewMatrix),this.gl.uniformMatrix4fv(a,!1,this.gl.projectionMatrix)),this.gl.enable(this.gl.BLEND),this.gl.depthMask(!1),this.gl.enableVertexAttribArray(this.gl.shader.vertexTexCoordAttribute),this.theme.ATOM_DISPLAY_LABELS&&this.label3D.render(this.gl,this.theme,this.molecules),this.theme.COMPASS_DISPLAY&&this.theme.COMPASS_DISPLAY_TEXT&&(this.gl.uniformMatrix4fv(a,!1,this.compass.projectionMatrix),this.compass.renderAxis(this.gl),this.gl.setMatrixUniforms(this.gl.modelViewMatrix),this.gl.uniformMatrix4fv(a,!1,this.gl.projectionMatrix)),this.gl.disableVertexAttribArray(this.gl.shader.vertexTexCoordAttribute),this.gl.disable(this.gl.BLEND),this.gl.depthMask(!0),this.gl.disable(this.gl.DEPTH_TEST),this.drawHung&&this.drawHung(this.gl),this.gl.enable(this.gl.DEPTH_TEST),this.gl.flush()}},g.renderText=function(a,b){if(this.gl){var c={position:[],texCoord:[],translation:[]};this.gl.textImage.pushVertexData(a,b,0,c),this.gl.textMesh.storeData(this.gl,c.position,c.texCoord,c.translation),this.gl.enable(this.gl.BLEND),this.gl.depthMask(!1),this.gl.enableVertexAttribArray(this.gl.shader.vertexTexCoordAttribute),this.gl.textImage.useTexture(this.gl),this.gl.textMesh.render(this.gl),this.gl.disableVertexAttribArray(this.gl.shader.vertexTexCoordAttribute),this.gl.disable(this.gl.BLEND),this.gl.depthMask(!0)}},g.mousedown=function(a){this.lastPoint=a.p},g.mouseup=function(a){this.lastPoint=void 0},g.rightmousedown=function(a){this.lastPoint=a.p},g.drag=function(c){if(this.lastPoint)if(b.kAlt){var d=new a.point(c.p.x,c.p.y),e=this.theme.PRJ_PERSPECTIVE_ANGLE/360*Math.PI,f=Math.tan(e),g=this.height/2,h=g/f,i=this.depth/h;d.sub(this.lastPoint),mat4.translate(this.translationMatrix,[d.x*i,-d.y*i,0]),this.lastPoint=c.p,this.repaint()}else{var j=c.p.x-this.lastPoint.x,k=c.p.y-this.lastPoint.y,l=mat4.rotate(mat4.identity([]),j*Math.PI/180,[0,1,0]);mat4.rotate(l,k*Math.PI/180,[1,0,0]),this.rotationMatrix=mat4.multiply(l,this.rotationMatrix),this.lastPoint=c.p,this.repaint()}},g.mousewheel=function(a,b){var c=.1,d=179.9,e=this.theme.PRJ_PERSPECTIVE_ANGLE+b;this.theme.PRJ_PERSPECTIVE_ANGLE=e<c?c:e>d?d:e,this.theme.PRJ_ORTHO_WIDTH=Math.tan(this.theme.PRJ_PERSPECTIVE_ANGLE/360*Math.PI)*this.depth*2*this.theme.PRJ_WH_RATIO,this.updScene()},g.multitouchmove=function(b,c){if(2===c)if(this.lastPoint&&this.lastPoint.multi){var d=new a.point(b.p.x,b.p.y),e=this.theme.PRJ_PERSPECTIVE_ANGLE/360*Math.PI,f=Math.tan(e),g=this.height/2,h=g/f,i=this.depth/h;d.sub(this.lastPoint),mat4.translate(this.translationMatrix,[d.x*i,-d.y*i,0]),this.lastPoint=b.p,this.repaint()}else this.lastPoint=b.p,this.lastPoint.multi=!0},g.gesturechange=function(a){if(a.originalEvent.scale-this.pinchScale!==0){var b=.1,c=179.9,d=30*-(a.originalEvent.scale/this.pinchScale-1);if(isNaN(d))return;var e=this.theme.PRJ_PERSPECTIVE_ANGLE+d;this.theme.PRJ_PERSPECTIVE_ANGLE=e<b?b:e>c?c:e,this.theme.PRJ_ORTHO_WIDTH=Math.tan(this.theme.PRJ_PERSPECTIVE_ANGLE/360*Math.PI)*this.depth*2*this.theme.PRJ_WH_RATIO,this.updScene(),this.pinchScale=a.originalEvent.scale}this.repaint()},g.gestureend=function(a){this.pinchScale=1,this.gestureRotate=0}}(ipmd,ipmd.monitor,ipmd.actor,ipmd.actor.d3,ipmd.util,ipmd.Residues),function(a){"use strict";a.cvTransform3D=function(a,b,c,d){a&&this.setup(a,b,c,d)},a.cvTransform3D.prototype=new a.canvas3D}(ipmd),function(a){"use strict";a.cvView3D=function(a,b,c,d){a&&this.setup(a,b,c,d)};var b=a.cvView3D.prototype=new a.canvas3D;b.mousedown=void 0,b.rightmousedown=void 0,b.drag=void 0,b.mousewheel=void 0}(ipmd),function(a,b,c,d,e,f,g){"use strict";a.cvEditor3D=function(a,b,c,d){this.setup(a,b,c,d)};var h=a.cvEditor3D.prototype=new a.canvas3D;h.superMousedown=h.mousedown,h.superMouseup=h.mouseup,h.superRMousedown=h.rightmousedown,h.superDrag=h.drag,h.superMousewheel=h.mousewheel,h.setupUI=function(a){if(this.touchEnable=void 0===a.touchEnable?g.touchEnabled():a.touchEnable,this.servEnable=void 0!==a.servEnable&&a.servEnable,this.toolEnable=void 0===a.toolEnable||a.toolEnable,this.oneMol=!0,this.toolMng=new c.ToolbarManager(this),this.toolEnable){this.toolMng.render();var b=this;$(window).load(function(){b.toolMng.setup()})}this.dialogMng=new c.DialogManager(this),this.eventMng=new d.manager(this),this.actionMng=new e.manager(this)},h.drawHung=function(a){var b=a.getUniformLocation(a.program,"u_projection_matrix"),c=(mat4.create(),new d3.textImage);c.init(a);var d=new d3.textMesh;d.init(a);var e=this.height/20,f=Math.tan(this.theme.PRJ_PERSPECTIVE_ANGLE/360*Math.PI),g=e/f,h=Math.max(g-e,.1),i=g+e,j=this.width/this.height,k=(g/this.height*f,f*g),l=-k,m=j*l,n=j*k,o=mat4.ortho(m,n,l,k,h,i,[]);a.uniformMatrix4fv(b,!1,o),a.fogging.setMode(0)},h.mousemove=function(a){this.eventMng.dispatch("mousemove",a)},h.mouseover=function(a){this.eventMng.dispatch("mouseover",a)},h.mousedown=function(a){this.eventMng.dispatch("mousedown",a)},h.mouseup=function(a){this.eventMng.dispatch("mouseup",a)},h.click=function(a){this.eventMng.dispatch("click",a)},h.rightmousedown=function(a){this.eventMng.dispatch("rightmousedown",a)},h.rightmouseup=function(a){this.eventMng.dispatch("rightmouseup",a)},h.rightclick=function(a){this.eventMng.dispatch("rightclick",a)},h.dblclick=function(a){this.eventMng.dispatch("dblclick",a)},h.mousewheel=function(a,b){this.eventMng.dispatch("mousewheel",a,b)},h.mouseout=function(a){this.eventMng.dispatch("mouseout",a)},h.drag=function(a){this.eventMng.dispatch("drag",a)},h.keydown=function(a){this.eventMng.dispatch("keydown",a)},h.keyup=function(a){this.eventMng.dispatch("keyup",a)},h.keypress=function(a){this.eventMng.dispatch("keypress",a)}}(ipmd,ipmd.actor,ipmd.editor.ui,ipmd.editor.events,ipmd.editor.actions,ipmd.util,ipmd.support);